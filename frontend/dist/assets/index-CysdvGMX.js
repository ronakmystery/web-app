(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();function Pw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),i}var Yf={exports:{}},vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function qw(){if(o0)return vo;o0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:l}}return vo.Fragment=t,vo.jsx=i,vo.jsxs=i,vo}var l0;function Fw(){return l0||(l0=1,Yf.exports=qw()),Yf.exports}var I=Fw(),Xf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Hw(){if(u0)return St;u0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(O,F,tt){this.props=O,this.context=F,this.refs=x,this.updater=tt||_}w.prototype.isReactComponent={},w.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function S(){}S.prototype=w.prototype;function E(O,F,tt){this.props=O,this.context=F,this.refs=x,this.updater=tt||_}var M=E.prototype=new S;M.constructor=E,b(M,w.prototype),M.isPureReactComponent=!0;var D=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function B(O,F,tt,nt,ct,at){return tt=at.ref,{$$typeof:n,type:O,key:F,ref:tt!==void 0?tt:null,props:at}}function U(O,F){return B(O.type,F,void 0,void 0,void 0,O.props)}function Y(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function X(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return F[tt]})}var K=/\/+/g;function W(O,F){return typeof O=="object"&&O!==null&&O.key!=null?X(""+O.key):F.toString(36)}function st(){}function it(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(st,st):(O.status="pending",O.then(function(F){O.status==="pending"&&(O.status="fulfilled",O.value=F)},function(F){O.status==="pending"&&(O.status="rejected",O.reason=F)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function lt(O,F,tt,nt,ct){var at=typeof O;(at==="undefined"||at==="boolean")&&(O=null);var ot=!1;if(O===null)ot=!0;else switch(at){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(O.$$typeof){case n:case t:ot=!0;break;case m:return ot=O._init,lt(ot(O._payload),F,tt,nt,ct)}}if(ot)return ct=ct(O),ot=nt===""?"."+W(O,0):nt,D(ct)?(tt="",ot!=null&&(tt=ot.replace(K,"$&/")+"/"),lt(ct,F,tt,"",function(xe){return xe})):ct!=null&&(Y(ct)&&(ct=U(ct,tt+(ct.key==null||O&&O.key===ct.key?"":(""+ct.key).replace(K,"$&/")+"/")+ot)),F.push(ct)),1;ot=0;var bt=nt===""?".":nt+":";if(D(O))for(var rt=0;rt<O.length;rt++)nt=O[rt],at=bt+W(nt,rt),ot+=lt(nt,F,tt,at,ct);else if(rt=v(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(nt=O.next()).done;)nt=nt.value,at=bt+W(nt,rt++),ot+=lt(nt,F,tt,at,ct);else if(at==="object"){if(typeof O.then=="function")return lt(it(O),F,tt,nt,ct);throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ot}function R(O,F,tt){if(O==null)return O;var nt=[],ct=0;return lt(O,nt,"","",function(at){return F.call(tt,at,ct++)}),nt}function L(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var Q=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function et(){}return St.Children={map:R,forEach:function(O,F,tt){R(O,function(){F.apply(this,arguments)},tt)},count:function(O){var F=0;return R(O,function(){F++}),F},toArray:function(O){return R(O,function(F){return F})||[]},only:function(O){if(!Y(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},St.Component=w,St.Fragment=i,St.Profiler=o,St.PureComponent=E,St.StrictMode=r,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cloneElement=function(O,F,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=b({},O.props),ct=O.key,at=void 0;if(F!=null)for(ot in F.ref!==void 0&&(at=void 0),F.key!==void 0&&(ct=""+F.key),F)!V.call(F,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&F.ref===void 0||(nt[ot]=F[ot]);var ot=arguments.length-2;if(ot===1)nt.children=tt;else if(1<ot){for(var bt=Array(ot),rt=0;rt<ot;rt++)bt[rt]=arguments[rt+2];nt.children=bt}return B(O.type,ct,void 0,void 0,at,nt)},St.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},St.createElement=function(O,F,tt){var nt,ct={},at=null;if(F!=null)for(nt in F.key!==void 0&&(at=""+F.key),F)V.call(F,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(ct[nt]=F[nt]);var ot=arguments.length-2;if(ot===1)ct.children=tt;else if(1<ot){for(var bt=Array(ot),rt=0;rt<ot;rt++)bt[rt]=arguments[rt+2];ct.children=bt}if(O&&O.defaultProps)for(nt in ot=O.defaultProps,ot)ct[nt]===void 0&&(ct[nt]=ot[nt]);return B(O,at,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:h,render:O}},St.isValidElement=Y,St.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:L}},St.memo=function(O,F){return{$$typeof:f,type:O,compare:F===void 0?null:F}},St.startTransition=function(O){var F=C.T,tt={};C.T=tt;try{var nt=O(),ct=C.S;ct!==null&&ct(tt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(et,Q)}catch(at){Q(at)}finally{C.T=F}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(O){return C.H.use(O)},St.useActionState=function(O,F,tt){return C.H.useActionState(O,F,tt)},St.useCallback=function(O,F){return C.H.useCallback(O,F)},St.useContext=function(O){return C.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,F){return C.H.useDeferredValue(O,F)},St.useEffect=function(O,F,tt){var nt=C.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(O,F)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(O,F,tt){return C.H.useImperativeHandle(O,F,tt)},St.useInsertionEffect=function(O,F){return C.H.useInsertionEffect(O,F)},St.useLayoutEffect=function(O,F){return C.H.useLayoutEffect(O,F)},St.useMemo=function(O,F){return C.H.useMemo(O,F)},St.useOptimistic=function(O,F){return C.H.useOptimistic(O,F)},St.useReducer=function(O,F,tt){return C.H.useReducer(O,F,tt)},St.useRef=function(O){return C.H.useRef(O)},St.useState=function(O){return C.H.useState(O)},St.useSyncExternalStore=function(O,F,tt){return C.H.useSyncExternalStore(O,F,tt)},St.useTransition=function(){return C.H.useTransition()},St.version="19.1.0",St}var c0;function Kd(){return c0||(c0=1,Xf.exports=Hw()),Xf.exports}var N=Kd(),Wf={exports:{}},_o={},Zf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Gw(){return h0||(h0=1,function(n){function t(R,L){var Q=R.length;R.push(L);t:for(;0<Q;){var et=Q-1>>>1,O=R[et];if(0<o(O,L))R[et]=L,R[Q]=O,Q=et;else break t}}function i(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],Q=R.pop();if(Q!==L){R[0]=Q;t:for(var et=0,O=R.length,F=O>>>1;et<F;){var tt=2*(et+1)-1,nt=R[tt],ct=tt+1,at=R[ct];if(0>o(nt,Q))ct<O&&0>o(at,nt)?(R[et]=at,R[ct]=Q,et=ct):(R[et]=nt,R[tt]=Q,et=tt);else if(ct<O&&0>o(at,Q))R[et]=at,R[ct]=Q,et=ct;else break t}}return L}function o(R,L){var Q=R.sortIndex-L.sortIndex;return Q!==0?Q:R.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],f=[],m=1,y=null,v=3,_=!1,b=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function D(R){for(var L=i(f);L!==null;){if(L.callback===null)r(f);else if(L.startTime<=R)r(f),L.sortIndex=L.expirationTime,t(d,L);else break;L=i(f)}}function C(R){if(x=!1,D(R),!b)if(i(d)!==null)b=!0,V||(V=!0,W());else{var L=i(f);L!==null&&lt(C,L.startTime-R)}}var V=!1,B=-1,U=5,Y=-1;function X(){return w?!0:!(n.unstable_now()-Y<U)}function K(){if(w=!1,V){var R=n.unstable_now();Y=R;var L=!0;try{t:{b=!1,x&&(x=!1,E(B),B=-1),_=!0;var Q=v;try{e:{for(D(R),y=i(d);y!==null&&!(y.expirationTime>R&&X());){var et=y.callback;if(typeof et=="function"){y.callback=null,v=y.priorityLevel;var O=et(y.expirationTime<=R);if(R=n.unstable_now(),typeof O=="function"){y.callback=O,D(R),L=!0;break e}y===i(d)&&r(d),D(R)}else r(d);y=i(d)}if(y!==null)L=!0;else{var F=i(f);F!==null&&lt(C,F.startTime-R),L=!1}}break t}finally{y=null,v=Q,_=!1}L=void 0}}finally{L?W():V=!1}}}var W;if(typeof M=="function")W=function(){M(K)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,it=st.port2;st.port1.onmessage=K,W=function(){it.postMessage(null)}}else W=function(){S(K,0)};function lt(R,L){B=S(function(){R(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(R){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var Q=v;v=L;try{return R()}finally{v=Q}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=v;v=R;try{return L()}finally{v=Q}},n.unstable_scheduleCallback=function(R,L,Q){var et=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?et+Q:et):Q=et,R){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Q+O,R={id:m++,callback:L,priorityLevel:R,startTime:Q,expirationTime:O,sortIndex:-1},Q>et?(R.sortIndex=Q,t(f,R),i(d)===null&&R===i(f)&&(x?(E(B),B=-1):x=!0,lt(C,Q-et))):(R.sortIndex=O,t(d,R),b||_||(b=!0,V||(V=!0,W()))),R},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(R){var L=v;return function(){var Q=v;v=L;try{return R.apply(this,arguments)}finally{v=Q}}}}(Kf)),Kf}var f0;function Yw(){return f0||(f0=1,Zf.exports=Gw()),Zf.exports}var Qf={exports:{}},Pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function Xw(){if(d0)return Pe;d0=1;var n=Kd();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,f,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:f,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pe.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,m)},Pe.flushSync=function(d){var f=c.T,m=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=f,r.p=m,r.d.f()}},Pe.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Pe.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Pe.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Pe.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Pe.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Pe.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Pe.requestFormReset=function(d){r.d.r(d)},Pe.unstable_batchedUpdates=function(d,f){return d(f)},Pe.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},Pe.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pe.version="19.1.0",Pe}var p0;function Ww(){if(p0)return Qf.exports;p0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qf.exports=Xw(),Qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function Zw(){if(m0)return _o;m0=1;var n=Yw(),t=Kd(),i=Ww();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(r(188))}function d(e){var s=e.alternate;if(!s){if(s=l(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,u=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return h(p),e;if(g===u)return h(p),s;g=g.sibling}throw Error(r(188))}if(a.return!==u.return)a=p,u=g;else{for(var T=!1,A=p.child;A;){if(A===a){T=!0,a=p,u=g;break}if(A===u){T=!0,u=p,a=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===a){T=!0,a=g,u=p;break}if(A===u){T=!0,u=g,a=p;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function f(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=f(e),s!==null)return s;e=e.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var st=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===st?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case V:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case M:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case D:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return s=e.displayName||null,s!==null?s:it(e.type)||"Memo";case U:s=e._payload,e=e._init;try{return it(e(s))}catch{}}return null}var lt=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},et=[],O=-1;function F(e){return{current:e}}function tt(e){0>O||(e.current=et[O],et[O]=null,O--)}function nt(e,s){O++,et[O]=e.current,e.current=s}var ct=F(null),at=F(null),ot=F(null),bt=F(null);function rt(e,s){switch(nt(ot,s),nt(at,e),nt(ct,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Uv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Uv(s),e=jv(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ct),nt(ct,e)}function xe(){tt(ct),tt(at),tt(ot)}function Ke(e){e.memoizedState!==null&&nt(bt,e);var s=ct.current,a=jv(s,e.type);s!==a&&(nt(at,e),nt(ct,a))}function on(e){at.current===e&&(tt(ct),tt(at)),bt.current===e&&(tt(bt),fo._currentValue=Q)}var Tn=Object.prototype.hasOwnProperty,Bn=n.unstable_scheduleCallback,Li=n.unstable_cancelCallback,ut=n.unstable_shouldYield,mt=n.unstable_requestPaint,Nt=n.unstable_now,Ft=n.unstable_getCurrentPriorityLevel,ht=n.unstable_ImmediatePriority,pt=n.unstable_UserBlockingPriority,xt=n.unstable_NormalPriority,ve=n.unstable_LowPriority,we=n.unstable_IdlePriority,Re=n.log,In=n.unstable_setDisableYieldValue,ln=null,kt=null;function Ae(e){if(typeof Re=="function"&&In(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ln,e)}catch{}}var oe=Math.clz32?Math.clz32:Zn,Ss=Math.log,pl=Math.LN2;function Zn(e){return e>>>=0,e===0?32:31-(Ss(e)/pl|0)|0}var ml=256,gl=4194304;function xs(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yl(e,s,a){var u=e.pendingLanes;if(u===0)return 0;var p=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?p=xs(u):(T&=A,T!==0?p=xs(T):a||(a=A&~e,a!==0&&(p=xs(a))))):(A=u&~g,A!==0?p=xs(A):T!==0?p=xs(T):a||(a=u&~e,a!==0&&(p=xs(a)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:p}function Ta(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function E1(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vm(){var e=ml;return ml<<=1,(ml&4194048)===0&&(ml=256),e}function _m(){var e=gl;return gl<<=1,(gl&62914560)===0&&(gl=4194304),e}function Vc(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Sa(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function M1(e,s,a,u,p,g){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,k=e.expirationTimes,q=e.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-oe(a),J=1<<Z;A[Z]=0,k[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var G=H[Z];G!==null&&(G.lane&=-536870913)}a&=~J}u!==0&&bm(e,u,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~s))}function bm(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var u=31-oe(s);e.entangledLanes|=s,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194090}function Tm(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var u=31-oe(a),p=1<<u;p&s|e[u]&s&&(e[u]|=s),a&=~p}}function Uc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sm(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:e0(e.type))}function O1(e,s){var a=L.p;try{return L.p=e,s()}finally{L.p=a}}var Pi=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Pi,Qe="__reactProps$"+Pi,sr="__reactContainer$"+Pi,Bc="__reactEvents$"+Pi,D1="__reactListeners$"+Pi,k1="__reactHandles$"+Pi,xm="__reactResources$"+Pi,xa="__reactMarker$"+Pi;function Ic(e){delete e[Ie],delete e[Qe],delete e[Bc],delete e[D1],delete e[k1]}function rr(e){var s=e[Ie];if(s)return s;for(var a=e.parentNode;a;){if(s=a[sr]||a[Ie]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Pv(e);e!==null;){if(a=e[Ie])return a;e=Pv(e)}return s}e=a,a=e.parentNode}return null}function ar(e){if(e=e[Ie]||e[sr]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function wa(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function or(e){var s=e[xm];return s||(s=e[xm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ce(e){e[xa]=!0}var wm=new Set,Am={};function ws(e,s){lr(e,s),lr(e+"Capture",s)}function lr(e,s){for(Am[e]=s,e=0;e<s.length;e++)wm.add(s[e])}var R1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cm={},Em={};function N1(e){return Tn.call(Em,e)?!0:Tn.call(Cm,e)?!1:R1.test(e)?Em[e]=!0:(Cm[e]=!0,!1)}function vl(e,s,a){if(N1(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function _l(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function hi(e,s,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+u)}}var Lc,Mm;function ur(e){if(Lc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Lc=s&&s[1]||"",Mm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lc+e+Mm}var Pc=!1;function zc(e,s){if(!e||Pc)return"";Pc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(e,[],J)}else{try{J.call()}catch(G){H=G}e.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var k=T.split(`
`),q=A.split(`
`);for(p=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;if(u===k.length||p===q.length)for(u=k.length-1,p=q.length-1;1<=u&&0<=p&&k[u]!==q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(k[u]!==q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||k[u]!==q[p]){var Z=`
`+k[u].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=u&&0<=p);break}}}finally{Pc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ur(a):""}function V1(e){switch(e.tag){case 26:case 27:case 5:return ur(e.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return zc(e.type,!1);case 11:return zc(e.type.render,!1);case 1:return zc(e.type,!0);case 31:return ur("Activity");default:return""}}function Om(e){try{var s="";do s+=V1(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dm(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function U1(e){var s=Dm(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),u=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function bl(e){e._valueTracker||(e._valueTracker=U1(e))}function km(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return e&&(u=Dm(e)?e.checked?"true":"false":e.value),e=u,e!==a?(s.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var j1=/[\n"\\]/g;function xn(e){return e.replace(j1,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qc(e,s,a,u,p,g,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Sn(s)):e.value!==""+Sn(s)&&(e.value=""+Sn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?Fc(e,T,Sn(s)):a!=null?Fc(e,T,Sn(a)):u!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Sn(A):e.removeAttribute("name")}function Rm(e,s,a,u,p,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;a=a!=null?""+Sn(a):"",s=s!=null?""+Sn(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=A?e.checked:!!u,e.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function Fc(e,s,a){s==="number"&&Tl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,s,a,u){if(e=e.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=s.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&u&&(e[a].defaultSelected=!0)}else{for(a=""+Sn(a),s=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}s!==null||e[p].disabled||(s=e[p])}s!==null&&(s.selected=!0)}}function Nm(e,s,a){if(s!=null&&(s=""+Sn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+Sn(a):""}function Vm(e,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(lt(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Sn(s),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function hr(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var B1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Um(e,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":u?e.setProperty(s,a):typeof a!="number"||a===0||B1.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function jm(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&a[p]!==u&&Um(e,p,u)}else for(var g in s)s.hasOwnProperty(g)&&Um(e,g,s[g])}function Hc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(e){return L1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gc=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,dr=null;function Bm(e){var s=ar(e);if(s&&(e=s.stateNode)){var a=e[Qe]||null;t:switch(e=s.stateNode,s.type){case"input":if(qc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==e&&u.form===e.form){var p=u[Qe]||null;if(!p)throw Error(r(90));qc(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===e.form&&km(u)}break t;case"textarea":Nm(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&cr(e,!!a.multiple,s,!1)}}}var Xc=!1;function Im(e,s,a){if(Xc)return e(s,a);Xc=!0;try{var u=e(s);return u}finally{if(Xc=!1,(fr!==null||dr!==null)&&(ou(),fr&&(s=fr,e=dr,dr=fr=null,Bm(s),e)))for(s=0;s<e.length;s++)Bm(e[s])}}function Aa(e,s){var a=e.stateNode;if(a===null)return null;var u=a[Qe]||null;if(u===null)return null;a=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(fi)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Wc=!1}var zi=null,Zc=null,xl=null;function Lm(){if(xl)return xl;var e,s=Zc,a=s.length,u,p="value"in zi?zi.value:zi.textContent,g=p.length;for(e=0;e<a&&s[e]===p[e];e++);var T=a-e;for(u=1;u<=T&&s[a-u]===p[g-u];u++);return xl=p.slice(e,1<u?1-u:void 0)}function wl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Al(){return!0}function Pm(){return!1}function $e(e){function s(a,u,p,g,T){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Al:Pm,this.isPropagationStopped=Pm,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),s}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=$e(As),Ea=m({},As,{view:0,detail:0}),P1=$e(Ea),Kc,Qc,Ma,El=m({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Kc=e.screenX-Ma.screenX,Qc=e.screenY-Ma.screenY):Qc=Kc=0,Ma=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),zm=$e(El),z1=m({},El,{dataTransfer:0}),q1=$e(z1),F1=m({},Ea,{relatedTarget:0}),$c=$e(F1),H1=m({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=$e(H1),Y1=m({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X1=$e(Y1),W1=m({},As,{data:0}),qm=$e(W1),Z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $1(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Q1[e])?!!s[e]:!1}function Jc(){return $1}var J1=m({},Ea,{key:function(e){if(e.key){var s=Z1[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tx=$e(J1),ex=m({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fm=$e(ex),nx=m({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),ix=$e(nx),sx=m({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=$e(sx),ax=m({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ox=$e(ax),lx=m({},As,{newState:0,oldState:0}),ux=$e(lx),cx=[9,13,27,32],th=fi&&"CompositionEvent"in window,Oa=null;fi&&"documentMode"in document&&(Oa=document.documentMode);var hx=fi&&"TextEvent"in window&&!Oa,Hm=fi&&(!th||Oa&&8<Oa&&11>=Oa),Gm=" ",Ym=!1;function Xm(e,s){switch(e){case"keyup":return cx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function fx(e,s){switch(e){case"compositionend":return Wm(s);case"keypress":return s.which!==32?null:(Ym=!0,Gm);case"textInput":return e=s.data,e===Gm&&Ym?null:e;default:return null}}function dx(e,s){if(pr)return e==="compositionend"||!th&&Xm(e,s)?(e=Lm(),xl=Zc=zi=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hm&&s.locale!=="ko"?null:s.data;default:return null}}var px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!px[e.type]:s==="textarea"}function Km(e,s,a,u){fr?dr?dr.push(u):dr=[u]:fr=u,s=du(s,"onChange"),0<s.length&&(a=new Cl("onChange","change",null,a,u),e.push({event:a,listeners:s}))}var Da=null,ka=null;function mx(e){Dv(e,0)}function Ml(e){var s=wa(e);if(km(s))return e}function Qm(e,s){if(e==="change")return s}var $m=!1;if(fi){var eh;if(fi){var nh="oninput"in document;if(!nh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),nh=typeof Jm.oninput=="function"}eh=nh}else eh=!1;$m=eh&&(!document.documentMode||9<document.documentMode)}function tg(){Da&&(Da.detachEvent("onpropertychange",eg),ka=Da=null)}function eg(e){if(e.propertyName==="value"&&Ml(ka)){var s=[];Km(s,ka,e,Yc(e)),Im(mx,s)}}function gx(e,s,a){e==="focusin"?(tg(),Da=s,ka=a,Da.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function yx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(ka)}function vx(e,s){if(e==="click")return Ml(s)}function _x(e,s){if(e==="input"||e==="change")return Ml(s)}function bx(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var un=typeof Object.is=="function"?Object.is:bx;function Ra(e,s){if(un(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!Tn.call(s,p)||!un(e[p],s[p]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,s){var a=ng(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=s&&u>=s)return{node:a,offset:s-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ng(a)}}function sg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?sg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Tl(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Tl(e.document)}return s}function ih(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Tx=fi&&"documentMode"in document&&11>=document.documentMode,mr=null,sh=null,Na=null,rh=!1;function ag(e,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rh||mr==null||mr!==Tl(u)||(u=mr,"selectionStart"in u&&ih(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Na&&Ra(Na,u)||(Na=u,u=du(sh,"onSelect"),0<u.length&&(s=new Cl("onSelect","select",null,s,a),e.push({event:s,listeners:u}),s.target=mr)))}function Cs(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var gr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},ah={},og={};fi&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Es(e){if(ah[e])return ah[e];if(!gr[e])return e;var s=gr[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in og)return ah[e]=s[a];return e}var lg=Es("animationend"),ug=Es("animationiteration"),cg=Es("animationstart"),Sx=Es("transitionrun"),xx=Es("transitionstart"),wx=Es("transitioncancel"),hg=Es("transitionend"),fg=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function Ln(e,s){fg.set(e,s),ws(s,[e])}var dg=new WeakMap;function wn(e,s){if(typeof e=="object"&&e!==null){var a=dg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Om(s)},dg.set(e,s),s)}return{value:e,source:s,stack:Om(s)}}var An=[],yr=0,lh=0;function Ol(){for(var e=yr,s=lh=yr=0;s<e;){var a=An[s];An[s++]=null;var u=An[s];An[s++]=null;var p=An[s];An[s++]=null;var g=An[s];if(An[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}g!==0&&pg(a,p,g)}}function Dl(e,s,a,u){An[yr++]=e,An[yr++]=s,An[yr++]=a,An[yr++]=u,lh|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function uh(e,s,a,u){return Dl(e,s,a,u),kl(e)}function vr(e,s){return Dl(e,null,null,s),kl(e)}function pg(e,s,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var p=!1,g=e.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&s!==null&&(p=31-oe(a),e=g.hiddenUpdates,u=e[p],u===null?e[p]=[s]:u.push(s),s.lane=a|536870912),g):null}function kl(e){if(50<so)throw so=0,gf=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var _r={};function Ax(e,s,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,s,a,u){return new Ax(e,s,a,u)}function ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function di(e,s){var a=e.alternate;return a===null?(a=cn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mg(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Rl(e,s,a,u,p,g){var T=0;if(u=e,typeof e=="function")ch(e)&&(T=1);else if(typeof e=="string")T=Ew(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Y:return e=cn(31,a,s,p),e.elementType=Y,e.lanes=g,e;case b:return Ms(a.children,p,g,s);case x:T=8,p|=24;break;case w:return e=cn(12,a,s,p|2),e.elementType=w,e.lanes=g,e;case C:return e=cn(13,a,s,p),e.elementType=C,e.lanes=g,e;case V:return e=cn(19,a,s,p),e.elementType=V,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case M:T=10;break t;case E:T=9;break t;case D:T=11;break t;case B:T=14;break t;case U:T=16,u=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),u=null}return s=cn(T,a,s,p),s.elementType=e,s.type=u,s.lanes=g,s}function Ms(e,s,a,u){return e=cn(7,e,u,s),e.lanes=a,e}function hh(e,s,a){return e=cn(6,e,null,s),e.lanes=a,e}function fh(e,s,a){return s=cn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var br=[],Tr=0,Nl=null,Vl=0,Cn=[],En=0,Os=null,pi=1,mi="";function Ds(e,s){br[Tr++]=Vl,br[Tr++]=Nl,Nl=e,Vl=s}function gg(e,s,a){Cn[En++]=pi,Cn[En++]=mi,Cn[En++]=Os,Os=e;var u=pi;e=mi;var p=32-oe(u)-1;u&=~(1<<p),a+=1;var g=32-oe(s)+p;if(30<g){var T=p-p%5;g=(u&(1<<T)-1).toString(32),u>>=T,p-=T,pi=1<<32-oe(s)+p|a<<p|u,mi=g+e}else pi=1<<g|a<<p|u,mi=e}function dh(e){e.return!==null&&(Ds(e,1),gg(e,1,0))}function ph(e){for(;e===Nl;)Nl=br[--Tr],br[Tr]=null,Vl=br[--Tr],br[Tr]=null;for(;e===Os;)Os=Cn[--En],Cn[En]=null,mi=Cn[--En],Cn[En]=null,pi=Cn[--En],Cn[En]=null}var Ge=null,ne=null,Ut=!1,ks=null,Kn=!1,mh=Error(r(519));function Rs(e){var s=Error(r(418,""));throw ja(wn(s,e)),mh}function yg(e){var s=e.stateNode,a=e.type,u=e.memoizedProps;switch(s[Ie]=e,s[Qe]=u,a){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(a=0;a<ao.length;a++)Ot(ao[a],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),Rm(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),bl(s);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),Vm(s,u.value,u.defaultValue,u.children),bl(s)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Vv(s.textContent,a)?(u.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),u.onScroll!=null&&Ot("scroll",s),u.onScrollEnd!=null&&Ot("scrollend",s),u.onClick!=null&&(s.onclick=pu),s=!0):s=!1,s||Rs(e)}function vg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ge=Ge.return}}function Va(e){if(e!==Ge)return!1;if(!Ut)return vg(e),Ut=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Rf(e.type,e.memoizedProps)),a=!a),a&&ne&&Rs(e),vg(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){ne=zn(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}ne=null}}else s===27?(s=ne,is(e.type)?(e=jf,jf=null,ne=e):ne=s):ne=Ge?zn(e.stateNode.nextSibling):null;return!0}function Ua(){ne=Ge=null,Ut=!1}function _g(){var e=ks;return e!==null&&(en===null?en=e:en.push.apply(en,e),ks=null),e}function ja(e){ks===null?ks=[e]:ks.push(e)}var gh=F(null),Ns=null,gi=null;function qi(e,s,a){nt(gh,s._currentValue),s._currentValue=a}function yi(e){e._currentValue=gh.current,tt(gh)}function yh(e,s,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),e===a)break;e=e.return}}function vh(e,s,a,u){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=p;for(var k=0;k<s.length;k++)if(A.context===s[k]){g.lanes|=a,A=g.alternate,A!==null&&(A.lanes|=a),yh(g.return,a,e),u||(T=null);break t}g=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),yh(T,a,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ba(e,s,a,u){e=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=p.type;un(p.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(p===bt.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}p=p.return}e!==null&&vh(s,e,a,u),s.flags|=262144}function Ul(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Ns=e,gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Le(e){return bg(Ns,e)}function jl(e,s){return Ns===null&&Vs(e),bg(e,s)}function bg(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},gi===null){if(e===null)throw Error(r(308));gi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else gi=gi.next=s;return a}var Cx=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Ex=n.unstable_scheduleCallback,Mx=n.unstable_NormalPriority,_e={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new Cx,data:new Map,refCount:0}}function Ia(e){e.refCount--,e.refCount===0&&Ex(Mx,function(){e.controller.abort()})}var La=null,bh=0,Sr=0,xr=null;function Ox(e,s){if(La===null){var a=La=[];bh=0,Sr=xf(),xr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return bh++,s.then(Tg,Tg),s}function Tg(){if(--bh===0&&La!==null){xr!==null&&(xr.status="fulfilled");var e=La;La=null,Sr=0,xr=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Dx(e,s){var a=[],u={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<a.length;p++)(0,a[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),u}var Sg=R.S;R.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ox(e,s),Sg!==null&&Sg(e,s)};var Us=F(null);function Th(){var e=Us.current;return e!==null?e:Gt.pooledCache}function Bl(e,s){s===null?nt(Us,Us.current):nt(Us,s.pool)}function xg(){var e=Th();return e===null?null:{parent:_e._currentValue,pool:e}}var Pa=Error(r(460)),wg=Error(r(474)),Il=Error(r(542)),Sh={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ll(){}function Cg(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Ll,Ll),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Mg(e),e;default:if(typeof s.status=="string")s.then(Ll,Ll);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Mg(e),e}throw za=s,Pa}}var za=null;function Eg(){if(za===null)throw Error(r(459));var e=za;return za=null,e}function Mg(e){if(e===Pa||e===Il)throw Error(r(483))}var Fi=!1;function xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(e,s,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(jt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=kl(e),pg(e,null,a),s}return Dl(e,u,s,a),kl(e)}function qa(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=e.pendingLanes,a|=u,s.lanes=a,Tm(e,a)}}function Ah(e,s){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Ch=!1;function Fa(){if(Ch){var e=xr;if(e!==null)throw e}}function Ha(e,s,a,u){Ch=!1;var p=e.updateQueue;Fi=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var k=A,q=k.next;k.next=null,T===null?g=q:T.next=q,T=k;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=q:A.next=q,Z.lastBaseUpdate=k))}if(g!==null){var J=p.baseState;T=0,Z=q=k=null,A=g;do{var H=A.lane&-536870913,G=H!==A.lane;if(G?(Rt&H)===H:(u&H)===H){H!==0&&H===Sr&&(Ch=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var vt=e,gt=A;H=s;var zt=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){J=vt.call(zt,J,H);break t}J=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,H=typeof vt=="function"?vt.call(zt,J,H):vt,H==null)break t;J=m({},J,H);break t;case 2:Fi=!0}}H=A.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=p.callbacks,G===null?p.callbacks=[H]:G.push(H))}else G={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(q=Z=G,k=J):Z=Z.next=G,T|=H;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;G=A,A=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);Z===null&&(k=J),p.baseState=k,p.firstBaseUpdate=q,p.lastBaseUpdate=Z,g===null&&(p.shared.lanes=0),Ji|=T,e.lanes=T,e.memoizedState=J}}function Og(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function Dg(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Og(a[e],s)}var wr=F(null),Pl=F(0);function kg(e,s){e=wi,nt(Pl,e),nt(wr,s),wi=e|s.baseLanes}function Eh(){nt(Pl,wi),nt(wr,wr.current)}function Mh(){wi=Pl.current,tt(wr),tt(Pl)}var Yi=0,At=null,Lt=null,fe=null,zl=!1,Ar=!1,js=!1,ql=0,Ga=0,Cr=null,kx=0;function le(){throw Error(r(321))}function Oh(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!un(e[a],s[a]))return!1;return!0}function Dh(e,s,a,u,p,g){return Yi=g,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=e===null||e.memoizedState===null?py:my,js=!1,g=a(u,p),js=!1,Ar&&(g=Ng(s,a,u,p)),Rg(e),g}function Rg(e){R.H=Wl;var s=Lt!==null&&Lt.next!==null;if(Yi=0,fe=Lt=At=null,zl=!1,Ga=0,Cr=null,s)throw Error(r(300));e===null||Ee||(e=e.dependencies,e!==null&&Ul(e)&&(Ee=!0))}function Ng(e,s,a,u){At=e;var p=0;do{if(Ar&&(Cr=null),Ga=0,Ar=!1,25<=p)throw Error(r(301));if(p+=1,fe=Lt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=Ix,g=s(a,u)}while(Ar);return g}function Rx(){var e=R.H,s=e.useState()[0];return s=typeof s.then=="function"?Ya(s):s,e=e.useState()[0],(Lt!==null?Lt.memoizedState:null)!==e&&(At.flags|=1024),s}function kh(){var e=ql!==0;return ql=0,e}function Rh(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Nh(e){if(zl){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}zl=!1}Yi=0,fe=Lt=At=null,Ar=!1,Ga=ql=0,Cr=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?At.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Lt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var s=fe===null?At.memoizedState:fe.next;if(s!==null)fe=s,Lt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},fe===null?At.memoizedState=fe=e:fe=fe.next=e}return fe}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(e){var s=Ga;return Ga+=1,Cr===null&&(Cr=[]),e=Cg(Cr,e,s),s=At,(fe===null?s.memoizedState:fe.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?py:my),e}function Fl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ya(e);if(e.$$typeof===M)return Le(e)}throw Error(r(438,String(e)))}function Uh(e){var s=null,a=At.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=At.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vh(),At.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),u=0;u<e;u++)a[u]=X;return s.index++,a}function vi(e,s){return typeof s=="function"?s(e):s}function Hl(e){var s=de();return jh(s,Lt,e)}function jh(e,s,a){var u=e.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=e.baseQueue,g=u.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,u.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{s=p.next;var A=T=null,k=null,q=s,Z=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Rt&J)===J:(Yi&J)===J){var H=q.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Sr&&(Z=!0);else if((Yi&H)===H){q=q.next,H===Sr&&(Z=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(A=k=J,T=g):k=k.next=J,At.lanes|=H,Ji|=H;J=q.action,js&&a(g,J),g=q.hasEagerState?q.eagerState:a(g,J)}else H={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(A=k=H,T=g):k=k.next=H,At.lanes|=J,Ji|=J;q=q.next}while(q!==null&&q!==s);if(k===null?T=g:k.next=A,!un(g,e.memoizedState)&&(Ee=!0,Z&&(a=xr,a!==null)))throw a;e.memoizedState=g,e.baseState=T,e.baseQueue=k,u.lastRenderedState=g}return p===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Bh(e){var s=de(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var u=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var T=p=p.next;do g=e(g,T.action),T=T.next;while(T!==p);un(g,s.memoizedState)||(Ee=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,u]}function Vg(e,s,a){var u=At,p=de(),g=Ut;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!un((Lt||p).memoizedState,a);T&&(p.memoizedState=a,Ee=!0),p=p.queue;var A=Bg.bind(null,u,p,e);if(Xa(2048,8,A,[e]),p.getSnapshot!==s||T||fe!==null&&fe.memoizedState.tag&1){if(u.flags|=2048,Er(9,Gl(),jg.bind(null,u,p,a,s),null),Gt===null)throw Error(r(349));g||(Yi&124)!==0||Ug(u,s,a)}return a}function Ug(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=At.updateQueue,s===null?(s=Vh(),At.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function jg(e,s,a,u){s.value=a,s.getSnapshot=u,Ig(s)&&Lg(e)}function Bg(e,s,a){return a(function(){Ig(s)&&Lg(e)})}function Ig(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!un(e,a)}catch{return!0}}function Lg(e){var s=vr(e,2);s!==null&&mn(s,e,2)}function Ih(e){var s=Je();if(typeof e=="function"){var a=e;if(e=a(),js){Ae(!0);try{a()}finally{Ae(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},s}function Pg(e,s,a,u){return e.baseState=a,jh(e,Lt,typeof u=="function"?u:vi)}function Nx(e,s,a,u,p){if(Xl(e))throw Error(r(485));if(e=s.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};R.T!==null?a(!0):g.isTransition=!1,u(g),a=s.pending,a===null?(g.next=s.pending=g,zg(s,g)):(g.next=a.next,s.pending=a.next=g)}}function zg(e,s){var a=s.action,u=s.payload,p=e.state;if(s.isTransition){var g=R.T,T={};R.T=T;try{var A=a(p,u),k=R.S;k!==null&&k(T,A),qg(e,s,A)}catch(q){Lh(e,s,q)}finally{R.T=g}}else try{g=a(p,u),qg(e,s,g)}catch(q){Lh(e,s,q)}}function qg(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Fg(e,s,u)},function(u){return Lh(e,s,u)}):Fg(e,s,a)}function Fg(e,s,a){s.status="fulfilled",s.value=a,Hg(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,zg(e,a)))}function Lh(e,s,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,Hg(s),s=s.next;while(s!==u)}e.action=null}function Hg(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Gg(e,s){return s}function Yg(e,s){if(Ut){var a=Gt.formState;if(a!==null){t:{var u=At;if(Ut){if(ne){e:{for(var p=ne,g=Kn;p.nodeType!==8;){if(!g){p=null;break e}if(p=zn(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ne=zn(p.nextSibling),u=p.data==="F!";break t}}Rs(u)}u=!1}u&&(s=a[0])}}return a=Je(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:s},a.queue=u,a=hy.bind(null,At,u),u.dispatch=a,u=Ih(!1),g=Hh.bind(null,At,!1,u.queue),u=Je(),p={state:s,dispatch:null,action:e,pending:null},u.queue=p,a=Nx.bind(null,At,p,g,a),p.dispatch=a,u.memoizedState=e,[s,a,!1]}function Xg(e){var s=de();return Wg(s,Lt,e)}function Wg(e,s,a){if(s=jh(e,s,Gg)[0],e=Hl(vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ya(s)}catch(T){throw T===Pa?Il:T}else u=s;s=de();var p=s.queue,g=p.dispatch;return a!==s.memoizedState&&(At.flags|=2048,Er(9,Gl(),Vx.bind(null,p,a),null)),[u,g,e]}function Vx(e,s){e.action=s}function Zg(e){var s=de(),a=Lt;if(a!==null)return Wg(s,a,e);de(),s=s.memoizedState,a=de();var u=a.queue.dispatch;return a.memoizedState=e,[s,u,!1]}function Er(e,s,a,u){return e={tag:e,create:a,deps:u,inst:s,next:null},s=At.updateQueue,s===null&&(s=Vh(),At.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,s.lastEffect=e),e}function Gl(){return{destroy:void 0,resource:void 0}}function Kg(){return de().memoizedState}function Yl(e,s,a,u){var p=Je();u=u===void 0?null:u,At.flags|=e,p.memoizedState=Er(1|s,Gl(),a,u)}function Xa(e,s,a,u){var p=de();u=u===void 0?null:u;var g=p.memoizedState.inst;Lt!==null&&u!==null&&Oh(u,Lt.memoizedState.deps)?p.memoizedState=Er(s,g,a,u):(At.flags|=e,p.memoizedState=Er(1|s,g,a,u))}function Qg(e,s){Yl(8390656,8,e,s)}function $g(e,s){Xa(2048,8,e,s)}function Jg(e,s){return Xa(4,2,e,s)}function ty(e,s){return Xa(4,4,e,s)}function ey(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function ny(e,s,a){a=a!=null?a.concat([e]):null,Xa(4,4,ey.bind(null,s,e),a)}function Ph(){}function iy(e,s){var a=de();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Oh(s,u[1])?u[0]:(a.memoizedState=[e,s],e)}function sy(e,s){var a=de();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Oh(s,u[1]))return u[0];if(u=e(),js){Ae(!0);try{e()}finally{Ae(!1)}}return a.memoizedState=[u,s],u}function zh(e,s,a){return a===void 0||(Yi&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=ov(),At.lanes|=e,Ji|=e,a)}function ry(e,s,a,u){return un(a,s)?a:wr.current!==null?(e=zh(e,a,u),un(e,s)||(Ee=!0),e):(Yi&42)===0?(Ee=!0,e.memoizedState=a):(e=ov(),At.lanes|=e,Ji|=e,s)}function ay(e,s,a,u,p){var g=L.p;L.p=g!==0&&8>g?g:8;var T=R.T,A={};R.T=A,Hh(e,!1,s,a);try{var k=p(),q=R.S;if(q!==null&&q(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=Dx(k,u);Wa(e,s,Z,pn(e))}else Wa(e,s,u,pn(e))}catch(J){Wa(e,s,{then:function(){},status:"rejected",reason:J},pn())}finally{L.p=g,R.T=T}}function Ux(){}function qh(e,s,a,u){if(e.tag!==5)throw Error(r(476));var p=oy(e).queue;ay(e,p,s,Q,a===null?Ux:function(){return ly(e),a(u)})}function oy(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:Q},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function ly(e){var s=oy(e).next.queue;Wa(e,s,{},pn())}function Fh(){return Le(fo)}function uy(){return de().memoizedState}function cy(){return de().memoizedState}function jx(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=pn();e=Hi(a);var u=Gi(s,e,a);u!==null&&(mn(u,s,a),qa(u,s,a)),s={cache:_h()},e.payload=s;return}s=s.return}}function Bx(e,s,a){var u=pn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xl(e)?fy(s,a):(a=uh(e,s,a,u),a!==null&&(mn(a,e,u),dy(a,s,u)))}function hy(e,s,a){var u=pn();Wa(e,s,a,u)}function Wa(e,s,a,u){var p={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xl(e))fy(s,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,a);if(p.hasEagerState=!0,p.eagerState=A,un(A,T))return Dl(e,s,p,0),Gt===null&&Ol(),!1}catch{}finally{}if(a=uh(e,s,p,u),a!==null)return mn(a,e,u),dy(a,s,u),!0}return!1}function Hh(e,s,a,u){if(u={lane:2,revertLane:xf(),action:u,hasEagerState:!1,eagerState:null,next:null},Xl(e)){if(s)throw Error(r(479))}else s=uh(e,a,u,2),s!==null&&mn(s,e,2)}function Xl(e){var s=e.alternate;return e===At||s!==null&&s===At}function fy(e,s){Ar=zl=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function dy(e,s,a){if((a&4194048)!==0){var u=s.lanes;u&=e.pendingLanes,a|=u,s.lanes=a,Tm(e,a)}}var Wl={readContext:Le,use:Fl,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},py={readContext:Le,use:Fl,useCallback:function(e,s){return Je().memoizedState=[e,s===void 0?null:s],e},useContext:Le,useEffect:Qg,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Yl(4194308,4,ey.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Yl(4194308,4,e,s)},useInsertionEffect:function(e,s){Yl(4,2,e,s)},useMemo:function(e,s){var a=Je();s=s===void 0?null:s;var u=e();if(js){Ae(!0);try{e()}finally{Ae(!1)}}return a.memoizedState=[u,s],u},useReducer:function(e,s,a){var u=Je();if(a!==void 0){var p=a(s);if(js){Ae(!0);try{a(s)}finally{Ae(!1)}}}else p=s;return u.memoizedState=u.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},u.queue=e,e=e.dispatch=Bx.bind(null,At,e),[u.memoizedState,e]},useRef:function(e){var s=Je();return e={current:e},s.memoizedState=e},useState:function(e){e=Ih(e);var s=e.queue,a=hy.bind(null,At,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Ph,useDeferredValue:function(e,s){var a=Je();return zh(a,e,s)},useTransition:function(){var e=Ih(!1);return e=ay.bind(null,At,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var u=At,p=Je();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Gt===null)throw Error(r(349));(Rt&124)!==0||Ug(u,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,Qg(Bg.bind(null,u,g,e),[e]),u.flags|=2048,Er(9,Gl(),jg.bind(null,u,g,a,s),null),a},useId:function(){var e=Je(),s=Gt.identifierPrefix;if(Ut){var a=mi,u=pi;a=(u&~(1<<32-oe(u)-1)).toString(32)+a,s=""+s+"R"+a,a=ql++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=kx++,s=""+s+"r"+a.toString(32)+"";return e.memoizedState=s},useHostTransitionStatus:Fh,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var s=Je();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Hh.bind(null,At,!0,a),a.dispatch=s,[e,s]},useMemoCache:Uh,useCacheRefresh:function(){return Je().memoizedState=jx.bind(null,At)}},my={readContext:Le,use:Fl,useCallback:iy,useContext:Le,useEffect:$g,useImperativeHandle:ny,useInsertionEffect:Jg,useLayoutEffect:ty,useMemo:sy,useReducer:Hl,useRef:Kg,useState:function(){return Hl(vi)},useDebugValue:Ph,useDeferredValue:function(e,s){var a=de();return ry(a,Lt.memoizedState,e,s)},useTransition:function(){var e=Hl(vi)[0],s=de().memoizedState;return[typeof e=="boolean"?e:Ya(e),s]},useSyncExternalStore:Vg,useId:uy,useHostTransitionStatus:Fh,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,s){var a=de();return Pg(a,Lt,e,s)},useMemoCache:Uh,useCacheRefresh:cy},Ix={readContext:Le,use:Fl,useCallback:iy,useContext:Le,useEffect:$g,useImperativeHandle:ny,useInsertionEffect:Jg,useLayoutEffect:ty,useMemo:sy,useReducer:Bh,useRef:Kg,useState:function(){return Bh(vi)},useDebugValue:Ph,useDeferredValue:function(e,s){var a=de();return Lt===null?zh(a,e,s):ry(a,Lt.memoizedState,e,s)},useTransition:function(){var e=Bh(vi)[0],s=de().memoizedState;return[typeof e=="boolean"?e:Ya(e),s]},useSyncExternalStore:Vg,useId:uy,useHostTransitionStatus:Fh,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,s){var a=de();return Lt!==null?Pg(a,Lt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:cy},Mr=null,Za=0;function Zl(e){var s=Za;return Za+=1,Mr===null&&(Mr=[]),Cg(Mr,e,s)}function Ka(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Kl(e,s){throw s.$$typeof===y?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function gy(e){var s=e._init;return s(e._payload)}function yy(e){function s(P,j){if(e){var z=P.deletions;z===null?(P.deletions=[j],P.flags|=16):z.push(j)}}function a(P,j){if(!e)return null;for(;j!==null;)s(P,j),j=j.sibling;return null}function u(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function p(P,j){return P=di(P,j),P.index=0,P.sibling=null,P}function g(P,j,z){return P.index=z,e?(z=P.alternate,z!==null?(z=z.index,z<j?(P.flags|=67108866,j):z):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function T(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function A(P,j,z,$){return j===null||j.tag!==6?(j=hh(z,P.mode,$),j.return=P,j):(j=p(j,z),j.return=P,j)}function k(P,j,z,$){var ft=z.type;return ft===b?Z(P,j,z.props.children,$,z.key):j!==null&&(j.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===U&&gy(ft)===j.type)?(j=p(j,z.props),Ka(j,z),j.return=P,j):(j=Rl(z.type,z.key,z.props,null,P.mode,$),Ka(j,z),j.return=P,j)}function q(P,j,z,$){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=fh(z,P.mode,$),j.return=P,j):(j=p(j,z.children||[]),j.return=P,j)}function Z(P,j,z,$,ft){return j===null||j.tag!==7?(j=Ms(z,P.mode,$,ft),j.return=P,j):(j=p(j,z),j.return=P,j)}function J(P,j,z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=hh(""+j,P.mode,z),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return z=Rl(j.type,j.key,j.props,null,P.mode,z),Ka(z,j),z.return=P,z;case _:return j=fh(j,P.mode,z),j.return=P,j;case U:var $=j._init;return j=$(j._payload),J(P,j,z)}if(lt(j)||W(j))return j=Ms(j,P.mode,z,null),j.return=P,j;if(typeof j.then=="function")return J(P,Zl(j),z);if(j.$$typeof===M)return J(P,jl(P,j),z);Kl(P,j)}return null}function H(P,j,z,$){var ft=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:A(P,j,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===ft?k(P,j,z,$):null;case _:return z.key===ft?q(P,j,z,$):null;case U:return ft=z._init,z=ft(z._payload),H(P,j,z,$)}if(lt(z)||W(z))return ft!==null?null:Z(P,j,z,$,null);if(typeof z.then=="function")return H(P,j,Zl(z),$);if(z.$$typeof===M)return H(P,j,jl(P,z),$);Kl(P,z)}return null}function G(P,j,z,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,A(j,P,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return P=P.get($.key===null?z:$.key)||null,k(j,P,$,ft);case _:return P=P.get($.key===null?z:$.key)||null,q(j,P,$,ft);case U:var Et=$._init;return $=Et($._payload),G(P,j,z,$,ft)}if(lt($)||W($))return P=P.get(z)||null,Z(j,P,$,ft,null);if(typeof $.then=="function")return G(P,j,z,Zl($),ft);if($.$$typeof===M)return G(P,j,z,jl(j,$),ft);Kl(j,$)}return null}function vt(P,j,z,$){for(var ft=null,Et=null,dt=j,yt=j=0,Oe=null;dt!==null&&yt<z.length;yt++){dt.index>yt?(Oe=dt,dt=null):Oe=dt.sibling;var Vt=H(P,dt,z[yt],$);if(Vt===null){dt===null&&(dt=Oe);break}e&&dt&&Vt.alternate===null&&s(P,dt),j=g(Vt,j,yt),Et===null?ft=Vt:Et.sibling=Vt,Et=Vt,dt=Oe}if(yt===z.length)return a(P,dt),Ut&&Ds(P,yt),ft;if(dt===null){for(;yt<z.length;yt++)dt=J(P,z[yt],$),dt!==null&&(j=g(dt,j,yt),Et===null?ft=dt:Et.sibling=dt,Et=dt);return Ut&&Ds(P,yt),ft}for(dt=u(dt);yt<z.length;yt++)Oe=G(dt,P,yt,z[yt],$),Oe!==null&&(e&&Oe.alternate!==null&&dt.delete(Oe.key===null?yt:Oe.key),j=g(Oe,j,yt),Et===null?ft=Oe:Et.sibling=Oe,Et=Oe);return e&&dt.forEach(function(ls){return s(P,ls)}),Ut&&Ds(P,yt),ft}function gt(P,j,z,$){if(z==null)throw Error(r(151));for(var ft=null,Et=null,dt=j,yt=j=0,Oe=null,Vt=z.next();dt!==null&&!Vt.done;yt++,Vt=z.next()){dt.index>yt?(Oe=dt,dt=null):Oe=dt.sibling;var ls=H(P,dt,Vt.value,$);if(ls===null){dt===null&&(dt=Oe);break}e&&dt&&ls.alternate===null&&s(P,dt),j=g(ls,j,yt),Et===null?ft=ls:Et.sibling=ls,Et=ls,dt=Oe}if(Vt.done)return a(P,dt),Ut&&Ds(P,yt),ft;if(dt===null){for(;!Vt.done;yt++,Vt=z.next())Vt=J(P,Vt.value,$),Vt!==null&&(j=g(Vt,j,yt),Et===null?ft=Vt:Et.sibling=Vt,Et=Vt);return Ut&&Ds(P,yt),ft}for(dt=u(dt);!Vt.done;yt++,Vt=z.next())Vt=G(dt,P,yt,Vt.value,$),Vt!==null&&(e&&Vt.alternate!==null&&dt.delete(Vt.key===null?yt:Vt.key),j=g(Vt,j,yt),Et===null?ft=Vt:Et.sibling=Vt,Et=Vt);return e&&dt.forEach(function(Lw){return s(P,Lw)}),Ut&&Ds(P,yt),ft}function zt(P,j,z,$){if(typeof z=="object"&&z!==null&&z.type===b&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var ft=z.key;j!==null;){if(j.key===ft){if(ft=z.type,ft===b){if(j.tag===7){a(P,j.sibling),$=p(j,z.props.children),$.return=P,P=$;break t}}else if(j.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===U&&gy(ft)===j.type){a(P,j.sibling),$=p(j,z.props),Ka($,z),$.return=P,P=$;break t}a(P,j);break}else s(P,j);j=j.sibling}z.type===b?($=Ms(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=Rl(z.type,z.key,z.props,null,P.mode,$),Ka($,z),$.return=P,P=$)}return T(P);case _:t:{for(ft=z.key;j!==null;){if(j.key===ft)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){a(P,j.sibling),$=p(j,z.children||[]),$.return=P,P=$;break t}else{a(P,j);break}else s(P,j);j=j.sibling}$=fh(z,P.mode,$),$.return=P,P=$}return T(P);case U:return ft=z._init,z=ft(z._payload),zt(P,j,z,$)}if(lt(z))return vt(P,j,z,$);if(W(z)){if(ft=W(z),typeof ft!="function")throw Error(r(150));return z=ft.call(z),gt(P,j,z,$)}if(typeof z.then=="function")return zt(P,j,Zl(z),$);if(z.$$typeof===M)return zt(P,j,jl(P,z),$);Kl(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,j!==null&&j.tag===6?(a(P,j.sibling),$=p(j,z),$.return=P,P=$):(a(P,j),$=hh(z,P.mode,$),$.return=P,P=$),T(P)):a(P,j)}return function(P,j,z,$){try{Za=0;var ft=zt(P,j,z,$);return Mr=null,ft}catch(dt){if(dt===Pa||dt===Il)throw dt;var Et=cn(29,dt,null,P.mode);return Et.lanes=$,Et.return=P,Et}finally{}}}var Or=yy(!0),vy=yy(!1),Mn=F(null),Qn=null;function Xi(e){var s=e.alternate;nt(be,be.current&1),nt(Mn,e),Qn===null&&(s===null||wr.current!==null||s.memoizedState!==null)&&(Qn=e)}function _y(e){if(e.tag===22){if(nt(be,be.current),nt(Mn,e),Qn===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Qn=e)}}else Wi()}function Wi(){nt(be,be.current),nt(Mn,Mn.current)}function _i(e){tt(Mn),Qn===e&&(Qn=null),tt(be)}var be=F(0);function Ql(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Uf(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Gh(e,s,a,u){s=e.memoizedState,a=a(u,s),a=a==null?s:m({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yh={enqueueSetState:function(e,s,a){e=e._reactInternals;var u=pn(),p=Hi(u);p.payload=s,a!=null&&(p.callback=a),s=Gi(e,p,u),s!==null&&(mn(s,e,u),qa(s,e,u))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var u=pn(),p=Hi(u);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Gi(e,p,u),s!==null&&(mn(s,e,u),qa(s,e,u))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=pn(),u=Hi(a);u.tag=2,s!=null&&(u.callback=s),s=Gi(e,u,a),s!==null&&(mn(s,e,a),qa(s,e,a))}};function by(e,s,a,u,p,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Ra(a,u)||!Ra(p,g):!0}function Ty(e,s,a,u){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==e&&Yh.enqueueReplaceState(s,s.state,null)}function Bs(e,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(e=e.defaultProps){a===s&&(a=m({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var $l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sy(e){$l(e)}function xy(e){console.error(e)}function wy(e){$l(e)}function Jl(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ay(e,s,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Xh(e,s,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Jl(e,s)},a}function Cy(e){return e=Hi(e),e.tag=3,e}function Ey(e,s,a,u){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;e.payload=function(){return p(g)},e.callback=function(){Ay(s,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Ay(s,a,u),typeof p!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function Lx(e,s,a,u,p){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Ba(s,a,p,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return Qn===null?vf():a.alternate===null&&ie===0&&(ie=3),a.flags&=-257,a.flags|=65536,a.lanes=p,u===Sh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),bf(e,u,p)),!1;case 22:return a.flags|=65536,u===Sh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),bf(e,u,p)),!1}throw Error(r(435,a.tag))}return bf(e,u,p),vf(),!1}if(Ut)return s=Mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==mh&&(e=Error(r(422),{cause:u}),ja(wn(e,a)))):(u!==mh&&(s=Error(r(423),{cause:u}),ja(wn(s,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,u=wn(u,a),p=Xh(e.stateNode,u,p),Ah(e,p),ie!==4&&(ie=2)),!1;var g=Error(r(520),{cause:u});if(g=wn(g,a),io===null?io=[g]:io.push(g),ie!==4&&(ie=2),s===null)return!0;u=wn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Xh(a.stateNode,u,e),Ah(a,e),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ts===null||!ts.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Cy(p),Ey(p,e,a,u),Ah(a,p),!1}a=a.return}while(a!==null);return!1}var My=Error(r(461)),Ee=!1;function Ne(e,s,a,u){s.child=e===null?vy(s,null,a,u):Or(s,e.child,a,u)}function Oy(e,s,a,u,p){a=a.render;var g=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Vs(s),u=Dh(e,s,a,T,g,p),A=kh(),e!==null&&!Ee?(Rh(e,s,p),bi(e,s,p)):(Ut&&A&&dh(s),s.flags|=1,Ne(e,s,u,p),s.child)}function Dy(e,s,a,u,p){if(e===null){var g=a.type;return typeof g=="function"&&!ch(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,ky(e,s,g,u,p)):(e=Rl(a.type,null,u,s,s.mode,p),e.ref=s.ref,e.return=s,s.child=e)}if(g=e.child,!ef(e,p)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ra,a(T,u)&&e.ref===s.ref)return bi(e,s,p)}return s.flags|=1,e=di(g,u),e.ref=s.ref,e.return=s,s.child=e}function ky(e,s,a,u,p){if(e!==null){var g=e.memoizedProps;if(Ra(g,u)&&e.ref===s.ref)if(Ee=!1,s.pendingProps=u=g,ef(e,p))(e.flags&131072)!==0&&(Ee=!0);else return s.lanes=e.lanes,bi(e,s,p)}return Wh(e,s,a,u,p)}function Ry(e,s,a){var u=s.pendingProps,p=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,e!==null){for(p=s.child=e.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Ny(e,s,u,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bl(s,g!==null?g.cachePool:null),g!==null?kg(s,g):Eh(),_y(s);else return s.lanes=s.childLanes=536870912,Ny(e,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(Bl(s,g.cachePool),kg(s,g),Wi(),s.memoizedState=null):(e!==null&&Bl(s,null),Eh(),Wi());return Ne(e,s,p,a),s.child}function Ny(e,s,a,u){var p=Th();return p=p===null?null:{parent:_e._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},e!==null&&Bl(s,null),Eh(),_y(s),e!==null&&Ba(e,s,u,!0),null}function tu(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Wh(e,s,a,u,p){return Vs(s),a=Dh(e,s,a,u,void 0,p),u=kh(),e!==null&&!Ee?(Rh(e,s,p),bi(e,s,p)):(Ut&&u&&dh(s),s.flags|=1,Ne(e,s,a,p),s.child)}function Vy(e,s,a,u,p,g){return Vs(s),s.updateQueue=null,a=Ng(s,u,a,p),Rg(e),u=kh(),e!==null&&!Ee?(Rh(e,s,g),bi(e,s,g)):(Ut&&u&&dh(s),s.flags|=1,Ne(e,s,a,g),s.child)}function Uy(e,s,a,u,p){if(Vs(s),s.stateNode===null){var g=_r,T=a.contextType;typeof T=="object"&&T!==null&&(g=Le(T)),g=new a(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Yh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},xh(s),T=a.contextType,g.context=typeof T=="object"&&T!==null?Le(T):_r,g.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Gh(s,a,T,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Yh.enqueueReplaceState(g,g.state,null),Ha(s,u,g,p),Fa(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(e===null){g=s.stateNode;var A=s.memoizedProps,k=Bs(a,A);g.props=k;var q=g.context,Z=a.contextType;T=_r,typeof Z=="object"&&Z!==null&&(T=Le(Z));var J=a.getDerivedStateFromProps;Z=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||q!==T)&&Ty(s,g,u,T),Fi=!1;var H=s.memoizedState;g.state=H,Ha(s,u,g,p),Fa(),q=s.memoizedState,A||H!==q||Fi?(typeof J=="function"&&(Gh(s,a,J,u),q=s.memoizedState),(k=Fi||by(s,a,k,u,H,q,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=q),g.props=u,g.state=q,g.context=T,u=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,wh(e,s),T=s.memoizedProps,Z=Bs(a,T),g.props=Z,J=s.pendingProps,H=g.context,q=a.contextType,k=_r,typeof q=="object"&&q!==null&&(k=Le(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==J||H!==k)&&Ty(s,g,u,k),Fi=!1,H=s.memoizedState,g.state=H,Ha(s,u,g,p),Fa();var G=s.memoizedState;T!==J||H!==G||Fi||e!==null&&e.dependencies!==null&&Ul(e.dependencies)?(typeof A=="function"&&(Gh(s,a,A,u),G=s.memoizedState),(Z=Fi||by(s,a,Z,u,H,G,k)||e!==null&&e.dependencies!==null&&Ul(e.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=k,u=Z):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),u=!1)}return g=u,tu(e,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,e!==null&&u?(s.child=Or(s,e.child,null,p),s.child=Or(s,null,a,p)):Ne(e,s,a,p),s.memoizedState=g.state,e=s.child):e=bi(e,s,p),e}function jy(e,s,a,u){return Ua(),s.flags|=256,Ne(e,s,a,u),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(e){return{baseLanes:e,cachePool:xg()}}function Qh(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=On),e}function By(e,s,a){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ut){if(p?Xi(s):Wi(),Ut){var A=ne,k;if(k=A){t:{for(k=A,A=Kn;k.nodeType!==8;){if(!A){A=null;break t}if(k=zn(k.nextSibling),k===null){A=null;break t}}A=k}A!==null?(s.memoizedState={dehydrated:A,treeContext:Os!==null?{id:pi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},k=cn(18,null,null,0),k.stateNode=A,k.return=s,s.child=k,Ge=s,ne=null,k=!0):k=!1}k||Rs(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Uf(A)?s.lanes=32:s.lanes=536870912,null;_i(s)}return A=u.children,u=u.fallback,p?(Wi(),p=s.mode,A=eu({mode:"hidden",children:A},p),u=Ms(u,p,a,null),A.return=s,u.return=s,A.sibling=u,s.child=A,p=s.child,p.memoizedState=Kh(a),p.childLanes=Qh(e,T,a),s.memoizedState=Zh,u):(Xi(s),$h(s,A))}if(k=e.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(g)s.flags&256?(Xi(s),s.flags&=-257,s=Jh(e,s,a)):s.memoizedState!==null?(Wi(),s.child=e.child,s.flags|=128,s=null):(Wi(),p=u.fallback,A=s.mode,u=eu({mode:"visible",children:u.children},A),p=Ms(p,A,a,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,Or(s,e.child,null,a),u=s.child,u.memoizedState=Kh(a),u.childLanes=Qh(e,T,a),s.memoizedState=Zh,s=p);else if(Xi(s),Uf(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(r(419)),u.stack="",u.digest=T,ja({value:u,source:null,stack:null}),s=Jh(e,s,a)}else if(Ee||Ba(e,s,a,!1),T=(a&e.childLanes)!==0,Ee||T){if(T=Gt,T!==null&&(u=a&-a,u=(u&42)!==0?1:Uc(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,vr(e,u),mn(T,e,u),My;A.data==="$?"||vf(),s=Jh(e,s,a)}else A.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=k.treeContext,ne=zn(A.nextSibling),Ge=s,Ut=!0,ks=null,Kn=!1,e!==null&&(Cn[En++]=pi,Cn[En++]=mi,Cn[En++]=Os,pi=e.id,mi=e.overflow,Os=s),s=$h(s,u.children),s.flags|=4096);return s}return p?(Wi(),p=u.fallback,A=s.mode,k=e.child,q=k.sibling,u=di(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,q!==null?p=di(q,p):(p=Ms(p,A,a,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,A=e.child.memoizedState,A===null?A=Kh(a):(k=A.cachePool,k!==null?(q=_e._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=xg(),A={baseLanes:A.baseLanes|a,cachePool:k}),p.memoizedState=A,p.childLanes=Qh(e,T,a),s.memoizedState=Zh,u):(Xi(s),a=e.child,e=a.sibling,a=di(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function $h(e,s){return s=eu({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function eu(e,s){return e=cn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Jh(e,s,a){return Or(s,e.child,null,a),e=$h(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Iy(e,s,a){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s),yh(e.return,s,a)}function tf(e,s,a,u,p){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=p)}function Ly(e,s,a){var u=s.pendingProps,p=u.revealOrder,g=u.tail;if(Ne(e,s,u.children,a),u=be.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iy(e,a,s);else if(e.tag===19)Iy(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(nt(be,u),p){case"forwards":for(a=s.child,p=null;a!==null;)e=a.alternate,e!==null&&Ql(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),tf(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(e=p.alternate,e!==null&&Ql(e)===null){s.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}tf(s,!0,a,null,g);break;case"together":tf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Ji|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Ba(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=di(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=di(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function ef(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Ul(e)))}function Px(e,s,a){switch(s.tag){case 3:rt(s,s.stateNode.containerInfo),qi(s,_e,e.memoizedState.cache),Ua();break;case 27:case 5:Ke(s);break;case 4:rt(s,s.stateNode.containerInfo);break;case 10:qi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Xi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?By(e,s,a):(Xi(s),e=bi(e,s,a),e!==null?e.sibling:null);Xi(s);break;case 19:var p=(e.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Ba(e,s,a,!1),u=(a&s.childLanes)!==0),p){if(u)return Ly(e,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),nt(be,be.current),u)break;return null;case 22:case 23:return s.lanes=0,Ry(e,s,a);case 24:qi(s,_e,e.memoizedState.cache)}return bi(e,s,a)}function Py(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ee=!0;else{if(!ef(e,a)&&(s.flags&128)===0)return Ee=!1,Px(e,s,a);Ee=(e.flags&131072)!==0}else Ee=!1,Ut&&(s.flags&1048576)!==0&&gg(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")ch(u)?(e=Bs(u,e),s.tag=1,s=Uy(null,s,u,e,a)):(s.tag=0,s=Wh(null,s,u,e,a));else{if(u!=null){if(p=u.$$typeof,p===D){s.tag=11,s=Oy(null,s,u,e,a);break t}else if(p===B){s.tag=14,s=Dy(null,s,u,e,a);break t}}throw s=it(u)||u,Error(r(306,s,""))}}return s;case 0:return Wh(e,s,s.type,s.pendingProps,a);case 1:return u=s.type,p=Bs(u,s.pendingProps),Uy(e,s,u,p,a);case 3:t:{if(rt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,wh(e,s),Ha(s,u,null,a);var T=s.memoizedState;if(u=T.cache,qi(s,_e,u),u!==g.cache&&vh(s,[_e],a,!0),Fa(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=jy(e,s,u,a);break t}else if(u!==p){p=wn(Error(r(424)),s),ja(p),s=jy(e,s,u,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=zn(e.firstChild),Ge=s,Ut=!0,ks=null,Kn=!0,a=vy(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ua(),u===p){s=bi(e,s,a);break t}Ne(e,s,u,a)}s=s.child}return s;case 26:return tu(e,s),e===null?(a=Hv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ut||(a=s.type,e=s.pendingProps,u=mu(ot.current).createElement(a),u[Ie]=s,u[Qe]=e,Ue(u,a,e),Ce(u),s.stateNode=u):s.memoizedState=Hv(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ke(s),e===null&&Ut&&(u=s.stateNode=zv(s.type,s.pendingProps,ot.current),Ge=s,Kn=!0,p=ne,is(s.type)?(jf=p,ne=zn(u.firstChild)):ne=p),Ne(e,s,s.pendingProps.children,a),tu(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ut&&((p=u=ne)&&(u=pw(u,s.type,s.pendingProps,Kn),u!==null?(s.stateNode=u,Ge=s,ne=zn(u.firstChild),Kn=!1,p=!0):p=!1),p||Rs(s)),Ke(s),p=s.type,g=s.pendingProps,T=e!==null?e.memoizedProps:null,u=g.children,Rf(p,g)?u=null:T!==null&&Rf(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Dh(e,s,Rx,null,null,a),fo._currentValue=p),tu(e,s),Ne(e,s,u,a),s.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=mw(a,s.pendingProps,Kn),a!==null?(s.stateNode=a,Ge=s,ne=null,e=!0):e=!1),e||Rs(s)),null;case 13:return By(e,s,a);case 4:return rt(s,s.stateNode.containerInfo),u=s.pendingProps,e===null?s.child=Or(s,null,u,a):Ne(e,s,u,a),s.child;case 11:return Oy(e,s,s.type,s.pendingProps,a);case 7:return Ne(e,s,s.pendingProps,a),s.child;case 8:return Ne(e,s,s.pendingProps.children,a),s.child;case 12:return Ne(e,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,qi(s,s.type,u.value),Ne(e,s,u.children,a),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Vs(s),p=Le(p),u=u(p),s.flags|=1,Ne(e,s,u,a),s.child;case 14:return Dy(e,s,s.type,s.pendingProps,a);case 15:return ky(e,s,s.type,s.pendingProps,a);case 19:return Ly(e,s,a);case 31:return u=s.pendingProps,a=s.mode,u={mode:u.mode,children:u.children},e===null?(a=eu(u,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=di(e.child,u),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Ry(e,s,a);case 24:return Vs(s),u=Le(_e),e===null?(p=Th(),p===null&&(p=Gt,g=_h(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),s.memoizedState={parent:u,cache:p},xh(s),qi(s,_e,p)):((e.lanes&a)!==0&&(wh(e,s),Ha(s,null,null,a),Fa()),p=e.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),qi(s,_e,u)):(u=g.cache,qi(s,_e,u),u!==p.cache&&vh(s,[_e],a,!0))),Ne(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ti(e){e.flags|=4}function zy(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zv(s)){if(s=Mn.current,s!==null&&((Rt&4194048)===Rt?Qn!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||s!==Qn))throw za=Sh,wg;e.flags|=8192}}function nu(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?_m():536870912,e.lanes|=s,Nr|=s)}function Qa(e,s){if(!Ut)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Qt(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(s)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=a,s}function zx(e,s,a){var u=s.pendingProps;switch(ph(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return Qt(s),null;case 3:return a=s.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),yi(_e),xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Va(s)?Ti(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_g())),Qt(s),null;case 26:return a=s.memoizedState,e===null?(Ti(s),a!==null?(Qt(s),zy(s,a)):(Qt(s),s.flags&=-16777217)):a?a!==e.memoizedState?(Ti(s),Qt(s),zy(s,a)):(Qt(s),s.flags&=-16777217):(e.memoizedProps!==u&&Ti(s),Qt(s),s.flags&=-16777217),null;case 27:on(s),a=ot.current;var p=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==u&&Ti(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Qt(s),null}e=ct.current,Va(s)?yg(s):(e=zv(p,u,a),s.stateNode=e,Ti(s))}return Qt(s),null;case 5:if(on(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==u&&Ti(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Qt(s),null}if(e=ct.current,Va(s))yg(s);else{switch(p=mu(ot.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?p.createElement(a,{is:u.is}):p.createElement(a)}}e[Ie]=s,e[Qe]=u;t:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break t;for(;p.sibling===null;){if(p.return===null||p.return===s)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=e;t:switch(Ue(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ti(s)}}return Qt(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==u&&Ti(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(e=ot.current,Va(s)){if(e=s.stateNode,a=s.memoizedProps,u=null,p=Ge,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}e[Ie]=s,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Vv(e.nodeValue,a)),e||Rs(s)}else e=mu(e).createTextNode(u),e[Ie]=s,s.stateNode=e}return Qt(s),null;case 13:if(u=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Va(s),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ie]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),p=!1}else p=_g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(_i(s),s):(_i(s),null)}if(_i(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),nu(s,s.updateQueue),Qt(s),null;case 4:return xe(),e===null&&Ef(s.stateNode.containerInfo),Qt(s),null;case 10:return yi(s.type),Qt(s),null;case 19:if(tt(be),p=s.memoizedState,p===null)return Qt(s),null;if(u=(s.flags&128)!==0,g=p.rendering,g===null)if(u)Qa(p,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(g=Ql(e),g!==null){for(s.flags|=128,Qa(p,!1),e=g.updateQueue,s.updateQueue=e,nu(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)mg(a,e),a=a.sibling;return nt(be,be.current&1|2),s.child}e=e.sibling}p.tail!==null&&Nt()>ru&&(s.flags|=128,u=!0,Qa(p,!1),s.lanes=4194304)}else{if(!u)if(e=Ql(g),e!==null){if(s.flags|=128,u=!0,e=e.updateQueue,s.updateQueue=e,nu(s,e),Qa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ut)return Qt(s),null}else 2*Nt()-p.renderingStartTime>ru&&a!==536870912&&(s.flags|=128,u=!0,Qa(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(e=p.last,e!==null?e.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Nt(),s.sibling=null,e=be.current,nt(be,u?e&1|2:e&1),s):(Qt(s),null);case 22:case 23:return _i(s),Mh(),u=s.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),a=s.updateQueue,a!==null&&nu(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),e!==null&&tt(Us),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),yi(_e),Qt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qx(e,s){switch(ph(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return yi(_e),xe(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return on(s),null;case 13:if(_i(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ua()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return tt(be),null;case 4:return xe(),null;case 10:return yi(s.type),null;case 22:case 23:return _i(s),Mh(),e!==null&&tt(Us),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return yi(_e),null;case 25:return null;default:return null}}function qy(e,s){switch(ph(s),s.tag){case 3:yi(_e),xe();break;case 26:case 27:case 5:on(s);break;case 4:xe();break;case 13:_i(s);break;case 19:tt(be);break;case 10:yi(s.type);break;case 22:case 23:_i(s),Mh(),e!==null&&tt(Us);break;case 24:yi(_e)}}function $a(e,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var p=u.next;a=p;do{if((a.tag&e)===e){u=void 0;var g=a.create,T=a.inst;u=g(),T.destroy=u}a=a.next}while(a!==p)}}catch(A){Ht(s,s.return,A)}}function Zi(e,s,a){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&e)===e){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=s;var k=a,q=A;try{q()}catch(Z){Ht(p,k,Z)}}}u=u.next}while(u!==g)}}catch(Z){Ht(s,s.return,Z)}}function Fy(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{Dg(s,a)}catch(u){Ht(e,e.return,u)}}}function Hy(e,s,a){a.props=Bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){Ht(e,s,u)}}function Ja(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(p){Ht(e,s,p)}}function $n(e,s){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(p){Ht(e,s,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ht(e,s,p)}else a.current=null}function Gy(e){var s=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(p){Ht(e,e.return,p)}}function nf(e,s,a){try{var u=e.stateNode;uw(u,e.type,a,s),u[Qe]=s}catch(p){Ht(e,e.return,p)}}function Yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&is(e.type)||e.tag===4}function sf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&is(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rf(e,s,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pu));else if(u!==4&&(u===27&&is(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(rf(e,s,a),e=e.sibling;e!==null;)rf(e,s,a),e=e.sibling}function iu(e,s,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(u!==4&&(u===27&&is(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(iu(e,s,a),e=e.sibling;e!==null;)iu(e,s,a),e=e.sibling}function Xy(e){var s=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Ue(s,u,a),s[Ie]=e,s[Qe]=a}catch(g){Ht(e,e.return,g)}}var Si=!1,ue=!1,af=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Fx(e,s){if(e=e.containerInfo,Df=Tu,e=rg(e),ih(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,A=-1,k=-1,q=0,Z=0,J=e,H=null;e:for(;;){for(var G;J!==a||p!==0&&J.nodeType!==3||(A=T+p),J!==g||u!==0&&J.nodeType!==3||(k=T+u),J.nodeType===3&&(T+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===e)break e;if(H===a&&++q===p&&(A=T),H===g&&++Z===u&&(k=T),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}a=A===-1||k===-1?null:{start:A,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(kf={focusedElem:e,selectionRange:a},Tu=!1,Me=s;Me!==null;)if(s=Me,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Me=e;else for(;Me!==null;){switch(s=Me,g=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=s,p=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var vt=Bs(a.type,p,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(vt,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Ht(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Vf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Me=e;break}Me=s.return}}function Zy(e,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),u&4&&$a(5,a);break;case 1:if(Ki(e,a),u&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){Ht(a,a.return,T)}else{var p=Bs(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(p,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ht(a,a.return,T)}}u&64&&Fy(a),u&512&&Ja(a,a.return);break;case 3:if(Ki(e,a),u&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Dg(e,s)}catch(T){Ht(a,a.return,T)}}break;case 27:s===null&&u&4&&Xy(a);case 26:case 5:Ki(e,a),s===null&&u&4&&Gy(a),u&512&&Ja(a,a.return);break;case 12:Ki(e,a);break;case 13:Ki(e,a),u&4&&$y(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$x.bind(null,a),gw(e,a))));break;case 22:if(u=a.memoizedState!==null||Si,!u){s=s!==null&&s.memoizedState!==null||ue,p=Si;var g=ue;Si=u,(ue=s)&&!g?Qi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Si=p,ue=g}break;case 30:break;default:Ki(e,a)}}function Ky(e){var s=e.alternate;s!==null&&(e.alternate=null,Ky(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Ic(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Zt=null,tn=!1;function xi(e,s,a){for(a=a.child;a!==null;)Qy(e,s,a),a=a.sibling}function Qy(e,s,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ln,a)}catch{}switch(a.tag){case 26:ue||$n(a,s),xi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||$n(a,s);var u=Zt,p=tn;is(a.type)&&(Zt=a.stateNode,tn=!1),xi(e,s,a),lo(a.stateNode),Zt=u,tn=p;break;case 5:ue||$n(a,s);case 6:if(u=Zt,p=tn,Zt=null,xi(e,s,a),Zt=u,tn=p,Zt!==null)if(tn)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(a.stateNode)}catch(g){Ht(a,s,g)}else try{Zt.removeChild(a.stateNode)}catch(g){Ht(a,s,g)}break;case 18:Zt!==null&&(tn?(e=Zt,Lv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),yo(e)):Lv(Zt,a.stateNode));break;case 4:u=Zt,p=tn,Zt=a.stateNode.containerInfo,tn=!0,xi(e,s,a),Zt=u,tn=p;break;case 0:case 11:case 14:case 15:ue||Zi(2,a,s),ue||Zi(4,a,s),xi(e,s,a);break;case 1:ue||($n(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Hy(a,s,u)),xi(e,s,a);break;case 21:xi(e,s,a);break;case 22:ue=(u=ue)||a.memoizedState!==null,xi(e,s,a),ue=u;break;default:xi(e,s,a)}}function $y(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yo(e)}catch(a){Ht(s,s.return,a)}}function Hx(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Wy),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Wy),s;default:throw Error(r(435,e.tag))}}function of(e,s){var a=Hx(e);s.forEach(function(u){var p=Jx.bind(null,e,u);a.has(u)||(a.add(u),u.then(p,p))})}function hn(e,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u],g=e,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(is(A.type)){Zt=A.stateNode,tn=!1;break t}break;case 5:Zt=A.stateNode,tn=!1;break t;case 3:case 4:Zt=A.stateNode.containerInfo,tn=!0;break t}A=A.return}if(Zt===null)throw Error(r(160));Qy(g,T,p),Zt=null,tn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jy(s,e),s=s.sibling}var Pn=null;function Jy(e,s){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(s,e),fn(e),u&4&&(Zi(3,e,e.return),$a(3,e),Zi(5,e,e.return));break;case 1:hn(s,e),fn(e),u&512&&(ue||a===null||$n(a,a.return)),u&64&&Si&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var p=Pn;if(hn(s,e),fn(e),u&512&&(ue||a===null||$n(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[xa]||g[Ie]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),Ue(g,u,a),g[Ie]=e,Ce(g),u=g;break t;case"link":var T=Xv("link","href",p).get(u+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}g=p.createElement(u),Ue(g,u,a),p.head.appendChild(g);break;case"meta":if(T=Xv("meta","content",p).get(u+(a.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}g=p.createElement(u),Ue(g,u,a),p.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ie]=e,Ce(g),u=g}e.stateNode=u}else Wv(p,e.type,e.stateNode);else e.stateNode=Yv(p,u,e.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Wv(p,e.type,e.stateNode):Yv(p,u,e.memoizedProps)):u===null&&e.stateNode!==null&&nf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(s,e),fn(e),u&512&&(ue||a===null||$n(a,a.return)),a!==null&&u&4&&nf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(s,e),fn(e),u&512&&(ue||a===null||$n(a,a.return)),e.flags&32){p=e.stateNode;try{hr(p,"")}catch(G){Ht(e,e.return,G)}}u&4&&e.stateNode!=null&&(p=e.memoizedProps,nf(e,p,a!==null?a.memoizedProps:p)),u&1024&&(af=!0);break;case 6:if(hn(s,e),fn(e),u&4){if(e.stateNode===null)throw Error(r(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(G){Ht(e,e.return,G)}}break;case 3:if(vu=null,p=Pn,Pn=gu(s.containerInfo),hn(s,e),Pn=p,fn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(s.containerInfo)}catch(G){Ht(e,e.return,G)}af&&(af=!1,tv(e));break;case 4:u=Pn,Pn=gu(e.stateNode.containerInfo),hn(s,e),fn(e),Pn=u;break;case 12:hn(s,e),fn(e);break;case 13:hn(s,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(df=Nt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,of(e,u)));break;case 22:p=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,q=Si,Z=ue;if(Si=q||p,ue=Z||k,hn(s,e),ue=Z,Si=q,fn(e),u&8192)t:for(s=e.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(a===null||k||Si||ue||Is(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(g=k.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=k.stateNode;var J=k.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Ht(k,k.return,G)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(G){Ht(k,k.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,of(e,a))));break;case 19:hn(s,e),fn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,of(e,u)));break;case 30:break;case 21:break;default:hn(s,e),fn(e)}}function fn(e){var s=e.flags;if(s&2){try{for(var a,u=e.return;u!==null;){if(Yy(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var p=a.stateNode,g=sf(e);iu(e,g,p);break;case 5:var T=a.stateNode;a.flags&32&&(hr(T,""),a.flags&=-33);var A=sf(e);iu(e,A,T);break;case 3:case 4:var k=a.stateNode.containerInfo,q=sf(e);rf(e,q,k);break;default:throw Error(r(161))}}catch(Z){Ht(e,e.return,Z)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function tv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;tv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ki(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zy(e,s.alternate,s),s=s.sibling}function Is(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Zi(4,s,s.return),Is(s);break;case 1:$n(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Hy(s,s.return,a),Is(s);break;case 27:lo(s.stateNode);case 26:case 5:$n(s,s.return),Is(s);break;case 22:s.memoizedState===null&&Is(s);break;case 30:Is(s);break;default:Is(s)}e=e.sibling}}function Qi(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=e,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Qi(p,g,a),$a(4,g);break;case 1:if(Qi(p,g,a),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(q){Ht(u,u.return,q)}if(u=g,p=u.updateQueue,p!==null){var A=u.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)Og(k[p],A)}catch(q){Ht(u,u.return,q)}}a&&T&64&&Fy(g),Ja(g,g.return);break;case 27:Xy(g);case 26:case 5:Qi(p,g,a),a&&u===null&&T&4&&Gy(g),Ja(g,g.return);break;case 12:Qi(p,g,a);break;case 13:Qi(p,g,a),a&&T&4&&$y(p,g);break;case 22:g.memoizedState===null&&Qi(p,g,a),Ja(g,g.return);break;case 30:break;default:Qi(p,g,a)}s=s.sibling}}function lf(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ia(a))}function uf(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Ia(e))}function Jn(e,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ev(e,s,a,u),s=s.sibling}function ev(e,s,a,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Jn(e,s,a,u),p&2048&&$a(9,s);break;case 1:Jn(e,s,a,u);break;case 3:Jn(e,s,a,u),p&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Ia(e)));break;case 12:if(p&2048){Jn(e,s,a,u),e=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ht(s,s.return,k)}}else Jn(e,s,a,u);break;case 13:Jn(e,s,a,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Jn(e,s,a,u):to(e,s):g._visibility&2?Jn(e,s,a,u):(g._visibility|=2,Dr(e,s,a,u,(s.subtreeFlags&10256)!==0)),p&2048&&lf(T,s);break;case 24:Jn(e,s,a,u),p&2048&&uf(s.alternate,s);break;default:Jn(e,s,a,u)}}function Dr(e,s,a,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=e,T=s,A=a,k=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:Dr(g,T,A,k,p),$a(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Dr(g,T,A,k,p):to(g,T):(Z._visibility|=2,Dr(g,T,A,k,p)),p&&q&2048&&lf(T.alternate,T);break;case 24:Dr(g,T,A,k,p),p&&q&2048&&uf(T.alternate,T);break;default:Dr(g,T,A,k,p)}s=s.sibling}}function to(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,u=s,p=u.flags;switch(u.tag){case 22:to(a,u),p&2048&&lf(u.alternate,u);break;case 24:to(a,u),p&2048&&uf(u.alternate,u);break;default:to(a,u)}s=s.sibling}}var eo=8192;function kr(e){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)nv(e),e=e.sibling}function nv(e){switch(e.tag){case 26:kr(e),e.flags&eo&&e.memoizedState!==null&&Ow(Pn,e.memoizedState,e.memoizedProps);break;case 5:kr(e);break;case 3:case 4:var s=Pn;Pn=gu(e.stateNode.containerInfo),kr(e),Pn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=eo,eo=16777216,kr(e),eo=s):kr(e));break;default:kr(e)}}function iv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function no(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Me=u,rv(u,e)}iv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sv(e),e=e.sibling}function sv(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&Zi(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,su(e)):no(e);break;default:no(e)}}function su(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Me=u,rv(u,e)}iv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Zi(8,s,s.return),su(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,su(s));break;default:su(s)}e=e.sibling}}function rv(e,s){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Zi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ia(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Me=u;else t:for(a=e;Me!==null;){u=Me;var p=u.sibling,g=u.return;if(Ky(u),u===a){Me=null;break t}if(p!==null){p.return=g,Me=p;break t}Me=g}}}var Gx={getCacheForType:function(e){var s=Le(_e),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},Yx=typeof WeakMap=="function"?WeakMap:Map,jt=0,Gt=null,Mt=null,Rt=0,Bt=0,dn=null,$i=!1,Rr=!1,cf=!1,wi=0,ie=0,Ji=0,Ls=0,hf=0,On=0,Nr=0,io=null,en=null,ff=!1,df=0,ru=1/0,au=null,ts=null,Ve=0,es=null,Vr=null,Ur=0,pf=0,mf=null,av=null,so=0,gf=null;function pn(){if((jt&2)!==0&&Rt!==0)return Rt&-Rt;if(R.T!==null){var e=Sr;return e!==0?e:xf()}return Sm()}function ov(){On===0&&(On=(Rt&536870912)===0||Ut?vm():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),On}function mn(e,s,a){(e===Gt&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)&&(jr(e,0),ns(e,Rt,On,!1)),Sa(e,a),((jt&2)===0||e!==Gt)&&(e===Gt&&((jt&2)===0&&(Ls|=a),ie===4&&ns(e,Rt,On,!1)),ti(e))}function lv(e,s,a){if((jt&6)!==0)throw Error(r(327));var u=!a&&(s&124)===0&&(s&e.expiredLanes)===0||Ta(e,s),p=u?Zx(e,s):_f(e,s,!0),g=u;do{if(p===0){Rr&&!u&&ns(e,s,0,!1);break}else{if(a=e.current.alternate,g&&!Xx(a)){p=_f(e,s,!1),g=!1;continue}if(p===2){if(g=s,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=e;p=io;var k=A.current.memoizedState.isDehydrated;if(k&&(jr(A,T).flags|=256),T=_f(A,T,!1),T!==2){if(cf&&!k){A.errorRecoveryDisabledLanes|=g,Ls|=g,p=4;break t}g=en,en=p,g!==null&&(en===null?en=g:en.push.apply(en,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){jr(e,0),ns(e,s,0,!0);break}t:{switch(u=e,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ns(u,s,On,!$i);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=df+300-Nt(),10<p)){if(ns(u,s,On,!$i),yl(u,0,!0)!==0)break t;u.timeoutHandle=Bv(uv.bind(null,u,a,en,au,ff,s,On,Ls,Nr,$i,g,2,-0,0),p);break t}uv(u,a,en,au,ff,s,On,Ls,Nr,$i,g,0,-0,0)}}break}while(!0);ti(e)}function uv(e,s,a,u,p,g,T,A,k,q,Z,J,H,G){if(e.timeoutHandle=-1,J=s.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:Mw},nv(s),J=Dw(),J!==null)){e.cancelPendingCommit=J(gv.bind(null,e,s,g,a,u,p,T,A,k,Z,1,H,G)),ns(e,g,T,!q);return}gv(e,s,g,a,u,p,T,A,k)}function Xx(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var p=a[u],g=p.getSnapshot;p=p.value;try{if(!un(g(),p))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ns(e,s,a,u){s&=~hf,s&=~Ls,e.suspendedLanes|=s,e.pingedLanes&=~s,u&&(e.warmLanes|=s),u=e.expirationTimes;for(var p=s;0<p;){var g=31-oe(p),T=1<<g;u[g]=-1,p&=~T}a!==0&&bm(e,a,s)}function ou(){return(jt&6)===0?(ro(0),!1):!0}function yf(){if(Mt!==null){if(Bt===0)var e=Mt.return;else e=Mt,gi=Ns=null,Nh(e),Mr=null,Za=0,e=Mt;for(;e!==null;)qy(e.alternate,e),e=e.return;Mt=null}}function jr(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),yf(),Gt=e,Mt=a=di(e.current,null),Rt=s,Bt=0,dn=null,$i=!1,Rr=Ta(e,s),cf=!1,Nr=On=hf=Ls=Ji=ie=0,en=io=null,ff=!1,(s&8)!==0&&(s|=s&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=s;0<u;){var p=31-oe(u),g=1<<p;s|=e[p],u&=~g}return wi=s,Ol(),a}function cv(e,s){At=null,R.H=Wl,s===Pa||s===Il?(s=Eg(),Bt=3):s===wg?(s=Eg(),Bt=4):Bt=s===My?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dn=s,Mt===null&&(ie=1,Jl(e,wn(s,e.current)))}function hv(){var e=R.H;return R.H=Wl,e===null?Wl:e}function fv(){var e=R.A;return R.A=Gx,e}function vf(){ie=4,$i||(Rt&4194048)!==Rt&&Mn.current!==null||(Rr=!0),(Ji&134217727)===0&&(Ls&134217727)===0||Gt===null||ns(Gt,Rt,On,!1)}function _f(e,s,a){var u=jt;jt|=2;var p=hv(),g=fv();(Gt!==e||Rt!==s)&&(au=null,jr(e,s)),s=!1;var T=ie;t:do try{if(Bt!==0&&Mt!==null){var A=Mt,k=dn;switch(Bt){case 8:yf(),T=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(s=!0);var q=Bt;if(Bt=0,dn=null,Br(e,A,k,q),a&&Rr){T=0;break t}break;default:q=Bt,Bt=0,dn=null,Br(e,A,k,q)}}Wx(),T=ie;break}catch(Z){cv(e,Z)}while(!0);return s&&e.shellSuspendCounter++,gi=Ns=null,jt=u,R.H=p,R.A=g,Mt===null&&(Gt=null,Rt=0,Ol()),T}function Wx(){for(;Mt!==null;)dv(Mt)}function Zx(e,s){var a=jt;jt|=2;var u=hv(),p=fv();Gt!==e||Rt!==s?(au=null,ru=Nt()+500,jr(e,s)):Rr=Ta(e,s);t:do try{if(Bt!==0&&Mt!==null){s=Mt;var g=dn;e:switch(Bt){case 1:Bt=0,dn=null,Br(e,s,g,1);break;case 2:case 9:if(Ag(g)){Bt=0,dn=null,pv(s);break}s=function(){Bt!==2&&Bt!==9||Gt!==e||(Bt=7),ti(e)},g.then(s,s);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Ag(g)?(Bt=0,dn=null,pv(s)):(Bt=0,dn=null,Br(e,s,g,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var A=Mt;if(!T||Zv(T)){Bt=0,dn=null;var k=A.sibling;if(k!==null)Mt=k;else{var q=A.return;q!==null?(Mt=q,lu(q)):Mt=null}break e}}Bt=0,dn=null,Br(e,s,g,5);break;case 6:Bt=0,dn=null,Br(e,s,g,6);break;case 8:yf(),ie=6;break t;default:throw Error(r(462))}}Kx();break}catch(Z){cv(e,Z)}while(!0);return gi=Ns=null,R.H=u,R.A=p,jt=a,Mt!==null?0:(Gt=null,Rt=0,Ol(),ie)}function Kx(){for(;Mt!==null&&!ut();)dv(Mt)}function dv(e){var s=Py(e.alternate,e,wi);e.memoizedProps=e.pendingProps,s===null?lu(e):Mt=s}function pv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Vy(a,s,s.pendingProps,s.type,void 0,Rt);break;case 11:s=Vy(a,s,s.pendingProps,s.type.render,s.ref,Rt);break;case 5:Nh(s);default:qy(a,s),s=Mt=mg(s,wi),s=Py(a,s,wi)}e.memoizedProps=e.pendingProps,s===null?lu(e):Mt=s}function Br(e,s,a,u){gi=Ns=null,Nh(s),Mr=null,Za=0;var p=s.return;try{if(Lx(e,p,s,a,Rt)){ie=1,Jl(e,wn(a,e.current)),Mt=null;return}}catch(g){if(p!==null)throw Mt=p,g;ie=1,Jl(e,wn(a,e.current)),Mt=null;return}s.flags&32768?(Ut||u===1?e=!0:Rr||(Rt&536870912)!==0?e=!1:($i=e=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),mv(s,e)):lu(s)}function lu(e){var s=e;do{if((s.flags&32768)!==0){mv(s,$i);return}e=s.return;var a=zx(s.alternate,s,wi);if(a!==null){Mt=a;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=e}while(s!==null);ie===0&&(ie=5)}function mv(e,s){do{var a=qx(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ie=6,Mt=null}function gv(e,s,a,u,p,g,T,A,k){e.cancelPendingCommit=null;do uu();while(Ve!==0);if((jt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=lh,M1(e,a,g,T,A,k),e===Gt&&(Mt=Gt=null,Rt=0),Vr=s,es=e,Ur=a,pf=g,mf=p,av=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tw(xt,function(){return Tv(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=R.T,R.T=null,p=L.p,L.p=2,T=jt,jt|=4;try{Fx(e,s,a)}finally{jt=T,L.p=p,R.T=u}}Ve=1,yv(),vv(),_v()}}function yv(){if(Ve===1){Ve=0;var e=es,s=Vr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var u=L.p;L.p=2;var p=jt;jt|=4;try{Jy(s,e);var g=kf,T=rg(e.containerInfo),A=g.focusedElem,k=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&sg(A.ownerDocument.documentElement,A)){if(k!==null&&ih(A)){var q=k.start,Z=k.end;if(Z===void 0&&(Z=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(Z,A.value.length);else{var J=A.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),vt=A.textContent.length,gt=Math.min(k.start,vt),zt=k.end===void 0?gt:Math.min(k.end,vt);!G.extend&&gt>zt&&(T=zt,zt=gt,gt=T);var P=ig(A,gt),j=ig(A,zt);if(P&&j&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==j.node||G.focusOffset!==j.offset)){var z=J.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),gt>zt?(G.addRange(z),G.extend(j.node,j.offset)):(z.setEnd(j.node,j.offset),G.addRange(z))}}}}for(J=[],G=A;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var $=J[A];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Tu=!!Df,kf=Df=null}finally{jt=p,L.p=u,R.T=a}}e.current=s,Ve=2}}function vv(){if(Ve===2){Ve=0;var e=es,s=Vr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var u=L.p;L.p=2;var p=jt;jt|=4;try{Zy(e,s.alternate,s)}finally{jt=p,L.p=u,R.T=a}}Ve=3}}function _v(){if(Ve===4||Ve===3){Ve=0,mt();var e=es,s=Vr,a=Ur,u=av;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ve=5:(Ve=0,Vr=es=null,bv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ts=null),jc(a),s=s.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ln,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=R.T,p=L.p,L.p=2,R.T=null;try{for(var g=e.onRecoverableError,T=0;T<u.length;T++){var A=u[T];g(A.value,{componentStack:A.stack})}}finally{R.T=s,L.p=p}}(Ur&3)!==0&&uu(),ti(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===gf?so++:(so=0,gf=e):so=0,ro(0)}}function bv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Ia(s)))}function uu(e){return yv(),vv(),_v(),Tv()}function Tv(){if(Ve!==5)return!1;var e=es,s=pf;pf=0;var a=jc(Ur),u=R.T,p=L.p;try{L.p=32>a?32:a,R.T=null,a=mf,mf=null;var g=es,T=Ur;if(Ve=0,Vr=es=null,Ur=0,(jt&6)!==0)throw Error(r(331));var A=jt;if(jt|=4,sv(g.current),ev(g,g.current,T,a),jt=A,ro(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ln,g)}catch{}return!0}finally{L.p=p,R.T=u,bv(e,s)}}function Sv(e,s,a){s=wn(a,s),s=Xh(e.stateNode,s,2),e=Gi(e,s,2),e!==null&&(Sa(e,2),ti(e))}function Ht(e,s,a){if(e.tag===3)Sv(e,e,a);else for(;s!==null;){if(s.tag===3){Sv(s,e,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ts===null||!ts.has(u))){e=wn(a,e),a=Cy(2),u=Gi(s,a,2),u!==null&&(Ey(a,u,s,e),Sa(u,2),ti(u));break}}s=s.return}}function bf(e,s,a){var u=e.pingCache;if(u===null){u=e.pingCache=new Yx;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(a)||(cf=!0,p.add(a),e=Qx.bind(null,e,s,a),s.then(e,e))}function Qx(e,s,a){var u=e.pingCache;u!==null&&u.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Gt===e&&(Rt&a)===a&&(ie===4||ie===3&&(Rt&62914560)===Rt&&300>Nt()-df?(jt&2)===0&&jr(e,0):hf|=a,Nr===Rt&&(Nr=0)),ti(e)}function xv(e,s){s===0&&(s=_m()),e=vr(e,s),e!==null&&(Sa(e,s),ti(e))}function $x(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),xv(e,a)}function Jx(e,s){var a=0;switch(e.tag){case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),xv(e,a)}function tw(e,s){return Bn(e,s)}var cu=null,Ir=null,Tf=!1,hu=!1,Sf=!1,Ps=0;function ti(e){e!==Ir&&e.next===null&&(Ir===null?cu=Ir=e:Ir=Ir.next=e),hu=!0,Tf||(Tf=!0,nw())}function ro(e,s){if(!Sf&&hu){Sf=!0;do for(var a=!1,u=cu;u!==null;){if(e!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var T=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-oe(42|e)+1)-1,g&=p&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ev(u,g))}else g=Rt,g=yl(u,u===Gt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ta(u,g)||(a=!0,Ev(u,g));u=u.next}while(a);Sf=!1}}function ew(){wv()}function wv(){hu=Tf=!1;var e=0;Ps!==0&&(cw()&&(e=Ps),Ps=0);for(var s=Nt(),a=null,u=cu;u!==null;){var p=u.next,g=Av(u,s);g===0?(u.next=null,a===null?cu=p:a.next=p,p===null&&(Ir=a)):(a=u,(e!==0||(g&3)!==0)&&(hu=!0)),u=p}ro(e)}function Av(e,s){for(var a=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-oe(g),A=1<<T,k=p[T];k===-1?((A&a)===0||(A&u)!==0)&&(p[T]=E1(A,s)):k<=s&&(e.expiredLanes|=A),g&=~A}if(s=Gt,a=Rt,a=yl(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===s&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Li(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ta(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(u!==null&&Li(u),jc(a)){case 2:case 8:a=pt;break;case 32:a=xt;break;case 268435456:a=we;break;default:a=xt}return u=Cv.bind(null,e),a=Bn(a,u),e.callbackPriority=s,e.callbackNode=a,s}return u!==null&&u!==null&&Li(u),e.callbackPriority=2,e.callbackNode=null,2}function Cv(e,s){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uu()&&e.callbackNode!==a)return null;var u=Rt;return u=yl(e,e===Gt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(lv(e,u,s),Av(e,Nt()),e.callbackNode!=null&&e.callbackNode===a?Cv.bind(null,e):null)}function Ev(e,s){if(uu())return null;lv(e,s,!0)}function nw(){fw(function(){(jt&6)!==0?Bn(ht,ew):wv()})}function xf(){return Ps===0&&(Ps=vm()),Ps}function Mv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sl(""+e)}function Ov(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function iw(e,s,a,u,p){if(s==="submit"&&a&&a.stateNode===p){var g=Mv((p[Qe]||null).action),T=u.submitter;T&&(s=(s=T[Qe]||null)?Mv(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new Cl("action","action",null,u,p);e.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ps!==0){var k=T?Ov(p,T):new FormData(p);qh(a,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(A.preventDefault(),k=T?Ov(p,T):new FormData(p),qh(a,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var wf=0;wf<oh.length;wf++){var Af=oh[wf],sw=Af.toLowerCase(),rw=Af[0].toUpperCase()+Af.slice(1);Ln(sw,"on"+rw)}Ln(lg,"onAnimationEnd"),Ln(ug,"onAnimationIteration"),Ln(cg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Sx,"onTransitionRun"),Ln(xx,"onTransitionStart"),Ln(wx,"onTransitionCancel"),Ln(hg,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function Dv(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],p=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],k=A.instance,q=A.currentTarget;if(A=A.listener,k!==g&&p.isPropagationStopped())break t;g=A,p.currentTarget=q;try{g(p)}catch(Z){$l(Z)}p.currentTarget=null,g=k}else for(T=0;T<u.length;T++){if(A=u[T],k=A.instance,q=A.currentTarget,A=A.listener,k!==g&&p.isPropagationStopped())break t;g=A,p.currentTarget=q;try{g(p)}catch(Z){$l(Z)}p.currentTarget=null,g=k}}}}function Ot(e,s){var a=s[Bc];a===void 0&&(a=s[Bc]=new Set);var u=e+"__bubble";a.has(u)||(kv(s,e,2,!1),a.add(u))}function Cf(e,s,a){var u=0;s&&(u|=4),kv(a,e,u,s)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Ef(e){if(!e[fu]){e[fu]=!0,wm.forEach(function(a){a!=="selectionchange"&&(aw.has(a)||Cf(a,!1,e),Cf(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[fu]||(s[fu]=!0,Cf("selectionchange",!1,s))}}function kv(e,s,a,u){switch(e0(s)){case 2:var p=Nw;break;case 8:p=Vw;break;default:p=zf}a=p.bind(null,s,a,e),p=void 0,!Wc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(s,a,{capture:!0,passive:p}):e.addEventListener(s,a,!0):p!==void 0?e.addEventListener(s,a,{passive:p}):e.addEventListener(s,a,!1)}function Mf(e,s,a,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=u.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=rr(A),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){u=g=T;continue t}A=A.parentNode}}u=u.return}Im(function(){var q=g,Z=Yc(a),J=[];t:{var H=fg.get(e);if(H!==void 0){var G=Cl,vt=e;switch(e){case"keypress":if(wl(a)===0)break t;case"keydown":case"keyup":G=tx;break;case"focusin":vt="focus",G=$c;break;case"focusout":vt="blur",G=$c;break;case"beforeblur":case"afterblur":G=$c;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=q1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ix;break;case lg:case ug:case cg:G=G1;break;case hg:G=rx;break;case"scroll":case"scrollend":G=P1;break;case"wheel":G=ox;break;case"copy":case"cut":case"paste":G=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Fm;break;case"toggle":case"beforetoggle":G=ux}var gt=(s&4)!==0,zt=!gt&&(e==="scroll"||e==="scrollend"),P=gt?H!==null?H+"Capture":null:H;gt=[];for(var j=q,z;j!==null;){var $=j;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=Aa(j,P),$!=null&&gt.push(oo(j,$,z))),zt)break;j=j.return}0<gt.length&&(H=new G(H,vt,null,a,Z),J.push({event:H,listeners:gt}))}}if((s&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&a!==Gc&&(vt=a.relatedTarget||a.fromElement)&&(rr(vt)||vt[sr]))break t;if((G||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,G?(vt=a.relatedTarget||a.toElement,G=q,vt=vt?rr(vt):null,vt!==null&&(zt=l(vt),gt=vt.tag,vt!==zt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(G=null,vt=q),G!==vt)){if(gt=zm,$="onMouseLeave",P="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Fm,$="onPointerLeave",P="onPointerEnter",j="pointer"),zt=G==null?H:wa(G),z=vt==null?H:wa(vt),H=new gt($,j+"leave",G,a,Z),H.target=zt,H.relatedTarget=z,$=null,rr(Z)===q&&(gt=new gt(P,j+"enter",vt,a,Z),gt.target=z,gt.relatedTarget=zt,$=gt),zt=$,G&&vt)e:{for(gt=G,P=vt,j=0,z=gt;z;z=Lr(z))j++;for(z=0,$=P;$;$=Lr($))z++;for(;0<j-z;)gt=Lr(gt),j--;for(;0<z-j;)P=Lr(P),z--;for(;j--;){if(gt===P||P!==null&&gt===P.alternate)break e;gt=Lr(gt),P=Lr(P)}gt=null}else gt=null;G!==null&&Rv(J,H,G,gt,!1),vt!==null&&zt!==null&&Rv(J,zt,vt,gt,!0)}}t:{if(H=q?wa(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ft=Qm;else if(Zm(H))if($m)ft=_x;else{ft=yx;var Et=gx}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Hc(q.elementType)&&(ft=Qm):ft=vx;if(ft&&(ft=ft(e,q))){Km(J,ft,a,Z);break t}Et&&Et(e,H,q),e==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Fc(H,"number",H.value)}switch(Et=q?wa(q):window,e){case"focusin":(Zm(Et)||Et.contentEditable==="true")&&(mr=Et,sh=q,Na=null);break;case"focusout":Na=sh=mr=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,ag(J,a,Z);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":ag(J,a,Z)}var dt;if(th)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else pr?Xm(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(Hm&&a.locale!=="ko"&&(pr||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&pr&&(dt=Lm()):(zi=Z,Zc="value"in zi?zi.value:zi.textContent,pr=!0)),Et=du(q,yt),0<Et.length&&(yt=new qm(yt,e,null,a,Z),J.push({event:yt,listeners:Et}),dt?yt.data=dt:(dt=Wm(a),dt!==null&&(yt.data=dt)))),(dt=hx?fx(e,a):dx(e,a))&&(yt=du(q,"onBeforeInput"),0<yt.length&&(Et=new qm("onBeforeInput","beforeinput",null,a,Z),J.push({event:Et,listeners:yt}),Et.data=dt)),iw(J,e,q,a,Z)}Dv(J,s)})}function oo(e,s,a){return{instance:e,listener:s,currentTarget:a}}function du(e,s){for(var a=s+"Capture",u=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Aa(e,a),p!=null&&u.unshift(oo(e,p,g)),p=Aa(e,s),p!=null&&u.push(oo(e,p,g))),e.tag===3)return u;e=e.return}return[]}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rv(e,s,a,u,p){for(var g=s._reactName,T=[];a!==null&&a!==u;){var A=a,k=A.alternate,q=A.stateNode;if(A=A.tag,k!==null&&k===u)break;A!==5&&A!==26&&A!==27||q===null||(k=q,p?(q=Aa(a,g),q!=null&&T.unshift(oo(a,q,k))):p||(q=Aa(a,g),q!=null&&T.push(oo(a,q,k)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function Nv(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(lw,"")}function Vv(e,s){return s=Nv(s),Nv(e)===s}function pu(){}function Pt(e,s,a,u,p,g){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||hr(e,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&hr(e,""+u);break;case"className":_l(e,"class",u);break;case"tabIndex":_l(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(e,a,u);break;case"style":jm(e,u,g);break;case"data":if(s!=="object"){_l(e,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Sl(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&Pt(e,s,"name",p.name,p,null),Pt(e,s,"formEncType",p.formEncType,p,null),Pt(e,s,"formMethod",p.formMethod,p,null),Pt(e,s,"formTarget",p.formTarget,p,null)):(Pt(e,s,"encType",p.encType,p,null),Pt(e,s,"method",p.method,p,null),Pt(e,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Sl(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=pu);break;case"onScroll":u!=null&&Ot("scroll",e);break;case"onScrollEnd":u!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Sl(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),vl(e,"popover",u);break;case"xlinkActuate":hi(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hi(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hi(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hi(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hi(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hi(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hi(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vl(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I1.get(a)||a,vl(e,a,u))}}function Of(e,s,a,u,p,g){switch(a){case"style":jm(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof u=="string"?hr(e,u):(typeof u=="number"||typeof u=="bigint")&&hr(e,""+u);break;case"onScroll":u!=null&&Ot("scroll",e);break;case"onScrollEnd":u!=null&&Ot("scrollend",e);break;case"onClick":u!=null&&(e.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Am.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),s=a.slice(2,p?a.length-7:void 0),g=e[Qe]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,u,p);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):vl(e,a,u)}}}function Ue(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var u=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(e,s,g,T,a,null)}}p&&Pt(e,s,"srcSet",a.srcSet,a,null),u&&Pt(e,s,"src",a.src,a,null);return;case"input":Ot("invalid",e);var A=g=T=p=null,k=null,q=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":p=Z;break;case"type":T=Z;break;case"checked":k=Z;break;case"defaultChecked":q=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Pt(e,s,u,Z,a,null)}}Rm(e,g,A,k,q,T,p,!1),bl(e);return;case"select":Ot("invalid",e),u=T=g=null;for(p in a)if(a.hasOwnProperty(p)&&(A=a[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:Pt(e,s,p,A,a,null)}s=g,a=T,e.multiple=!!u,s!=null?cr(e,!!u,s,!1):a!=null&&cr(e,!!u,a,!0);return;case"textarea":Ot("invalid",e),g=p=u=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Pt(e,s,T,A,a,null)}Vm(e,u,p,g),bl(e);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(u=a[k],u!=null))switch(k){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Pt(e,s,k,u,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(u=0;u<ao.length;u++)Ot(ao[u],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(e,s,q,u,a,null)}return;default:if(Hc(s)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&Of(e,s,Z,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Pt(e,s,A,u,a,null))}function uw(e,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,A=null,k=null,q=null,Z=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":k=J;default:u.hasOwnProperty(G)||Pt(e,s,G,null,u,J)}}for(var H in u){var G=u[H];if(J=a[H],u.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":g=G;break;case"name":p=G;break;case"checked":q=G;break;case"defaultChecked":Z=G;break;case"value":T=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==J&&Pt(e,s,H,G,u,J)}}qc(e,T,A,k,q,Z,g,p);return;case"select":G=T=A=H=null;for(g in a)if(k=a[g],a.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":G=k;default:u.hasOwnProperty(g)||Pt(e,s,g,null,u,k)}for(p in u)if(g=u[p],k=a[p],u.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":H=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==k&&Pt(e,s,p,g,u,k)}s=A,a=T,u=G,H!=null?cr(e,!!a,H,!1):!!u!=!!a&&(s!=null?cr(e,!!a,s,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(A in a)if(p=a[A],a.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Pt(e,s,A,null,u,p)}for(T in u)if(p=u[T],g=a[T],u.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":H=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Pt(e,s,T,p,u,g)}Nm(e,H,G);return;case"option":for(var vt in a)if(H=a[vt],a.hasOwnProperty(vt)&&H!=null&&!u.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Pt(e,s,vt,null,u,H)}for(k in u)if(H=u[k],G=a[k],u.hasOwnProperty(k)&&H!==G&&(H!=null||G!=null))switch(k){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Pt(e,s,k,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)H=a[gt],a.hasOwnProperty(gt)&&H!=null&&!u.hasOwnProperty(gt)&&Pt(e,s,gt,null,u,H);for(q in u)if(H=u[q],G=a[q],u.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Pt(e,s,q,H,u,G)}return;default:if(Hc(s)){for(var zt in a)H=a[zt],a.hasOwnProperty(zt)&&H!==void 0&&!u.hasOwnProperty(zt)&&Of(e,s,zt,void 0,u,H);for(Z in u)H=u[Z],G=a[Z],!u.hasOwnProperty(Z)||H===G||H===void 0&&G===void 0||Of(e,s,Z,H,u,G);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!u.hasOwnProperty(P)&&Pt(e,s,P,null,u,H);for(J in u)H=u[J],G=a[J],!u.hasOwnProperty(J)||H===G||H==null&&G==null||Pt(e,s,J,H,u,G)}var Df=null,kf=null;function mu(e){return e.nodeType===9?e:e.ownerDocument}function Uv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Rf(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nf=null;function cw(){var e=window.event;return e&&e.type==="popstate"?e===Nf?!1:(Nf=e,!0):(Nf=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(e){return Iv.resolve(null).then(e).catch(dw)}:Bv;function dw(e){setTimeout(function(){throw e})}function is(e){return e==="head"}function Lv(e,s){var a=s,u=0,p=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var T=e.ownerDocument;if(a&1&&lo(T.documentElement),a&2&&lo(T.body),a&4)for(a=T.head,lo(a),T=a.firstChild;T;){var A=T.nextSibling,k=T.nodeName;T[xa]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(p===0){e.removeChild(g),yo(s);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);yo(s)}function Vf(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vf(a),Ic(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function pw(e,s,a,u){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[xa])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function mw(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function Uf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gw(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function zn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var jf=null;function Pv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function zv(e,s,a){switch(s=mu(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function lo(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Ic(e)}var Dn=new Map,qv=new Set;function gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ai=L.d;L.d={f:yw,r:vw,D:_w,C:bw,L:Tw,m:Sw,X:ww,S:xw,M:Aw};function yw(){var e=Ai.f(),s=ou();return e||s}function vw(e){var s=ar(e);s!==null&&s.tag===5&&s.type==="form"?ly(s):Ai.r(e)}var Pr=typeof document>"u"?null:document;function Fv(e,s,a){var u=Pr;if(u&&typeof s=="string"&&s){var p=xn(s);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),qv.has(p)||(qv.add(p),e={rel:e,crossOrigin:a,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Ue(s,"link",e),Ce(s),u.head.appendChild(s)))}}function _w(e){Ai.D(e),Fv("dns-prefetch",e,null)}function bw(e,s){Ai.C(e,s),Fv("preconnect",e,s)}function Tw(e,s,a){Ai.L(e,s,a);var u=Pr;if(u&&e&&s){var p='link[rel="preload"][as="'+xn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+xn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+xn(a.imageSizes)+'"]')):p+='[href="'+xn(e)+'"]';var g=p;switch(s){case"style":g=zr(e);break;case"script":g=qr(e)}Dn.has(g)||(e=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Dn.set(g,e),u.querySelector(p)!==null||s==="style"&&u.querySelector(uo(g))||s==="script"&&u.querySelector(co(g))||(s=u.createElement("link"),Ue(s,"link",e),Ce(s),u.head.appendChild(s)))}}function Sw(e,s){Ai.m(e,s);var a=Pr;if(a&&e){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+xn(u)+'"][href="'+xn(e)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qr(e)}if(!Dn.has(g)&&(e=m({rel:"modulepreload",href:e},s),Dn.set(g,e),a.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(g)))return}u=a.createElement("link"),Ue(u,"link",e),Ce(u),a.head.appendChild(u)}}}function xw(e,s,a){Ai.S(e,s,a);var u=Pr;if(u&&e){var p=or(u).hoistableStyles,g=zr(e);s=s||"default";var T=p.get(g);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(uo(g)))A.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Dn.get(g))&&Bf(e,a);var k=T=u.createElement("link");Ce(k),Ue(k,"link",e),k._p=new Promise(function(q,Z){k.onload=q,k.onerror=Z}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,yu(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(g,T)}}}function ww(e,s){Ai.X(e,s);var a=Pr;if(a&&e){var u=or(a).hoistableScripts,p=qr(e),g=u.get(p);g||(g=a.querySelector(co(p)),g||(e=m({src:e,async:!0},s),(s=Dn.get(p))&&If(e,s),g=a.createElement("script"),Ce(g),Ue(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Aw(e,s){Ai.M(e,s);var a=Pr;if(a&&e){var u=or(a).hoistableScripts,p=qr(e),g=u.get(p);g||(g=a.querySelector(co(p)),g||(e=m({src:e,async:!0,type:"module"},s),(s=Dn.get(p))&&If(e,s),g=a.createElement("script"),Ce(g),Ue(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Hv(e,s,a,u){var p=(p=ot.current)?gu(p):null;if(!p)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=zr(a.href),a=or(p).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=zr(a.href);var g=or(p).hoistableStyles,T=g.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=p.querySelector(uo(e)))&&!g._p&&(T.instance=g,T.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),g||Cw(p,e,a,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qr(a),a=or(p).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function zr(e){return'href="'+xn(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function Gv(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Cw(e,s,a,u){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=e.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ue(s,"link",a),Ce(s),e.head.appendChild(s))}function qr(e){return'[src="'+xn(e)+'"]'}function co(e){return"script[async]"+e}function Yv(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=e.querySelector('style[data-href~="'+xn(a.href)+'"]');if(u)return s.instance=u,Ce(u),u;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ce(u),Ue(u,"style",p),yu(u,a.precedence,e),s.instance=u;case"stylesheet":p=zr(a.href);var g=e.querySelector(uo(p));if(g)return s.state.loading|=4,s.instance=g,Ce(g),g;u=Gv(a),(p=Dn.get(p))&&Bf(u,p),g=(e.ownerDocument||e).createElement("link"),Ce(g);var T=g;return T._p=new Promise(function(A,k){T.onload=A,T.onerror=k}),Ue(g,"link",u),s.state.loading|=4,yu(g,a.precedence,e),s.instance=g;case"script":return g=qr(a.src),(p=e.querySelector(co(g)))?(s.instance=p,Ce(p),p):(u=a,(p=Dn.get(g))&&(u=m({},a),If(u,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ce(p),Ue(p,"link",u),e.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,yu(u,a.precedence,e));return s.instance}function yu(e,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Bf(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function If(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var vu=null;function Xv(e,s,a){if(vu===null){var u=new Map,p=vu=new Map;p.set(a,u)}else p=vu,u=p.get(a),u||(u=new Map,p.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var g=a[p];if(!(g[xa]||g[Ie]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=e+T;var A=u.get(T);A?A.push(g):u.set(T,[g])}}return u}function Wv(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Ew(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ho=null;function Mw(){}function Ow(e,s,a){if(ho===null)throw Error(r(475));var u=ho;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=zr(a.href),g=e.querySelector(uo(p));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=_u.bind(u),e.then(u,u)),s.state.loading|=4,s.instance=g,Ce(g);return}g=e.ownerDocument||e,a=Gv(a),(p=Dn.get(p))&&Bf(a,p),g=g.createElement("link"),Ce(g);var T=g;T._p=new Promise(function(A,k){T.onload=A,T.onerror=k}),Ue(g,"link",a),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=_u.bind(u),e.addEventListener("load",s),e.addEventListener("error",s))}}function Dw(){if(ho===null)throw Error(r(475));var e=ho;return e.stylesheets&&e.count===0&&Lf(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Lf(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function _u(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bu=null;function Lf(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bu=new Map,s.forEach(kw,e),bu=null,_u.call(e))}function kw(e,s){if(!(s.state.loading&4)){var a=bu.get(e);if(a)var u=a.get(null);else{a=new Map,bu.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),g=a.get(T)||u,g===u&&a.set(null,p),a.set(T,p),this.count++,u=_u.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),s.state.loading|=4}}var fo={$$typeof:M,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Rw(e,s,a,u,p,g,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.hiddenUpdates=Vc(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Kv(e,s,a,u,p,g,T,A,k,q,Z,J){return e=new Rw(e,s,a,T,A,k,q,J),s=1,g===!0&&(s|=24),g=cn(3,null,null,s),e.current=g,g.stateNode=e,s=_h(),s.refCount++,e.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:s},xh(g),e}function Qv(e){return e?(e=_r,e):_r}function $v(e,s,a,u,p,g){p=Qv(p),u.context===null?u.context=p:u.pendingContext=p,u=Hi(s),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Gi(e,u,s),a!==null&&(mn(a,e,s),qa(a,e,s))}function Jv(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Pf(e,s){Jv(e,s),(e=e.alternate)&&Jv(e,s)}function t0(e){if(e.tag===13){var s=vr(e,67108864);s!==null&&mn(s,e,67108864),Pf(e,67108864)}}var Tu=!0;function Nw(e,s,a,u){var p=R.T;R.T=null;var g=L.p;try{L.p=2,zf(e,s,a,u)}finally{L.p=g,R.T=p}}function Vw(e,s,a,u){var p=R.T;R.T=null;var g=L.p;try{L.p=8,zf(e,s,a,u)}finally{L.p=g,R.T=p}}function zf(e,s,a,u){if(Tu){var p=qf(u);if(p===null)Mf(e,s,u,Su,a),n0(e,u);else if(jw(p,e,s,a,u))u.stopPropagation();else if(n0(e,u),s&4&&-1<Uw.indexOf(e)){for(;p!==null;){var g=ar(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=xs(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var k=1<<31-oe(T);A.entanglements[1]|=k,T&=~k}ti(g),(jt&6)===0&&(ru=Nt()+500,ro(0))}}break;case 13:A=vr(g,2),A!==null&&mn(A,g,2),ou(),Pf(g,2)}if(g=qf(u),g===null&&Mf(e,s,u,Su,a),g===p)break;p=g}p!==null&&u.stopPropagation()}else Mf(e,s,u,null,a)}}function qf(e){return e=Yc(e),Ff(e)}var Su=null;function Ff(e){if(Su=null,e=rr(e),e!==null){var s=l(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Su=e,null}function e0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case ht:return 2;case pt:return 8;case xt:case ve:return 32;case we:return 268435456;default:return 32}default:return 32}}var Hf=!1,ss=null,rs=null,as=null,po=new Map,mo=new Map,os=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,s){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":po.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(s.pointerId)}}function go(e,s,a,u,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=ar(s),s!==null&&t0(s)),e):(e.eventSystemFlags|=u,s=e.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),e)}function jw(e,s,a,u,p){switch(s){case"focusin":return ss=go(ss,e,s,a,u,p),!0;case"dragenter":return rs=go(rs,e,s,a,u,p),!0;case"mouseover":return as=go(as,e,s,a,u,p),!0;case"pointerover":var g=p.pointerId;return po.set(g,go(po.get(g)||null,e,s,a,u,p)),!0;case"gotpointercapture":return g=p.pointerId,mo.set(g,go(mo.get(g)||null,e,s,a,u,p)),!0}return!1}function i0(e){var s=rr(e.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,O1(e.priority,function(){if(a.tag===13){var u=pn();u=Uc(u);var p=vr(a,u);p!==null&&mn(p,a,u),Pf(a,u)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xu(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=qf(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);Gc=u,a.target.dispatchEvent(u),Gc=null}else return s=ar(a),s!==null&&t0(s),e.blockedOn=a,!1;s.shift()}return!0}function s0(e,s,a){xu(e)&&a.delete(s)}function Bw(){Hf=!1,ss!==null&&xu(ss)&&(ss=null),rs!==null&&xu(rs)&&(rs=null),as!==null&&xu(as)&&(as=null),po.forEach(s0),mo.forEach(s0)}function wu(e,s){e.blockedOn===s&&(e.blockedOn=null,Hf||(Hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bw)))}var Au=null;function r0(e){Au!==e&&(Au=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Au===e&&(Au=null);for(var s=0;s<e.length;s+=3){var a=e[s],u=e[s+1],p=e[s+2];if(typeof u!="function"){if(Ff(u||a)===null)continue;break}var g=ar(a);g!==null&&(e.splice(s,3),s-=3,qh(g,{pending:!0,data:p,method:a.method,action:u},u,p))}}))}function yo(e){function s(k){return wu(k,e)}ss!==null&&wu(ss,e),rs!==null&&wu(rs,e),as!==null&&wu(as,e),po.forEach(s),mo.forEach(s);for(var a=0;a<os.length;a++){var u=os[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&os.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var p=a[u],g=a[u+1],T=p[Qe]||null;if(typeof g=="function")T||r0(a);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Qe]||null)A=T.formAction;else if(Ff(p)!==null)continue}else A=T.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),r0(a)}}}function Gf(e){this._internalRoot=e}Cu.prototype.render=Gf.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=pn();$v(a,u,e,s,null,null)},Cu.prototype.unmount=Gf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;$v(e.current,2,null,e,null,null),ou(),s[sr]=null}};function Cu(e){this._internalRoot=e}Cu.prototype.unstable_scheduleHydration=function(e){if(e){var s=Sm();e={blockedOn:null,target:e,priority:s};for(var a=0;a<os.length&&s!==0&&s<os[a].priority;a++);os.splice(a,0,e),a===0&&i0(e)}};var a0=t.version;if(a0!=="19.1.0")throw Error(r(527,a0,"19.1.0"));L.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(s),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var Iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{ln=Eu.inject(Iw),kt=Eu}catch{}}return _o.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,u="",p=Sy,g=xy,T=wy,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Kv(e,1,!1,null,null,a,u,p,g,T,A,null),e[sr]=s.current,Ef(e),new Gf(s)},_o.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var u=!1,p="",g=Sy,T=xy,A=wy,k=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),s=Kv(e,1,!0,s,a??null,u,p,g,T,A,k,q),s.context=Qv(null),a=s.current,u=pn(),u=Uc(u),p=Hi(u),p.callback=null,Gi(a,p,u),a=u,s.current.lanes=a,Sa(s,a),ti(s),e[sr]=s.current,Ef(e),new Cu(s)},_o.version="19.1.0",_o}var g0;function Kw(){if(g0)return Wf.exports;g0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wf.exports=Zw(),Wf.exports}var Qw=Kw();const $w=Pw(Qw);var bo={},y0;function Jw(){if(y0)return bo;y0=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.parse=c,bo.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,_){const b=new l,x=v.length;if(x<2)return b;const w=(_==null?void 0:_.decode)||m;let S=0;do{const E=v.indexOf("=",S);if(E===-1)break;const M=v.indexOf(";",S),D=M===-1?x:M;if(E>D){S=v.lastIndexOf(";",E-1)+1;continue}const C=h(v,S,E),V=d(v,E,C),B=v.slice(C,V);if(b[B]===void 0){let U=h(v,E+1,D),Y=d(v,D,U);const X=w(v.slice(U,Y));b[B]=X}S=D+1}while(S<x);return b}function h(v,_,b){do{const x=v.charCodeAt(_);if(x!==32&&x!==9)return _}while(++_<b);return b}function d(v,_,b){for(;_>b;){const x=v.charCodeAt(--_);if(x!==32&&x!==9)return _+1}return b}function f(v,_,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const w=x(_);if(!t.test(w))throw new TypeError(`argument val is invalid: ${_}`);let S=v+"="+w;if(!b)return S;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);S+="; Max-Age="+b.maxAge}if(b.domain){if(!i.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);S+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);S+="; Path="+b.path}if(b.expires){if(!y(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);S+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(S+="; HttpOnly"),b.secure&&(S+="; Secure"),b.partitioned&&(S+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return S}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return bo}Jw();var v0="popstate";function tA(n={}){function t(r,o){let{pathname:l,search:c,hash:h}=r.location;return yd("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:jo(o)}return nA(t,i,null,n)}function te(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ri(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eA(){return Math.random().toString(36).substring(2,10)}function _0(n,t){return{usr:n.state,key:n.key,idx:t}}function yd(n,t,i=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ua(t):t,state:i,key:t&&t.key||r||eA()}}function jo({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function ua(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function nA(n,t,i,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,h="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let w=m(),S=w==null?null:w-f;f=w,d&&d({action:h,location:x.location,delta:S})}function v(w,S){h="PUSH";let E=yd(x.location,w,S);f=m()+1;let M=_0(E,f),D=x.createHref(E);try{c.pushState(M,"",D)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;o.location.assign(D)}l&&d&&d({action:h,location:x.location,delta:1})}function _(w,S){h="REPLACE";let E=yd(x.location,w,S);f=m();let M=_0(E,f),D=x.createHref(E);c.replaceState(M,"",D),l&&d&&d({action:h,location:x.location,delta:0})}function b(w){return iA(w)}let x={get action(){return h},get location(){return n(o,c)},listen(w){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,y),d=w,()=>{o.removeEventListener(v0,y),d=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let S=b(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:_,go(w){return c.go(w)}};return x}function iA(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),te(i,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:jo(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function _b(n,t,i="/"){return sA(n,t,i,!1)}function sA(n,t,i,r){let o=typeof t=="string"?ua(t):t,l=Di(o.pathname||"/",i);if(l==null)return null;let c=bb(n);rA(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=gA(l);h=pA(c[d],f,r)}return h}function bb(n,t=[],i=[],r=""){let o=(l,c,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(te(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Mi([r,d.relativePath]),m=i.concat(d);l.children&&l.children.length>0&&(te(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bb(l.children,t,m,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:fA(f,l.index),routesMeta:m})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let d of Tb(l.path))o(l,c,d)}),t}function Tb(n){let t=n.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=Tb(r.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function rA(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:dA(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var aA=/^:[\w-]+$/,oA=3,lA=2,uA=1,cA=10,hA=-2,b0=n=>n==="*";function fA(n,t){let i=n.split("/"),r=i.length;return i.some(b0)&&(r+=hA),t&&(r+=lA),i.filter(o=>!b0(o)).reduce((o,l)=>o+(aA.test(l)?oA:l===""?uA:cA),r)}function dA(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function pA(n,t,i=!1){let{routesMeta:r}=n,o={},l="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",y=Gu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!y&&f&&i&&!r[r.length-1].route.index&&(y=Gu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Mi([l,y.pathname]),pathnameBase:bA(Mi([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Mi([l,y.pathnameBase]))}return c}function Gu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=mA(n.path,n.caseSensitive,n.end),o=t.match(i);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},v)=>{if(m==="*"){let b=h[v]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const _=h[v];return y&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:n}}function mA(n,t=!1,i=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function gA(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Di(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function yA(n,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof n=="string"?ua(n):n;return{pathname:i?i.startsWith("/")?i:vA(i,t):t,search:TA(r),hash:SA(o)}}function vA(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function $f(n,t,i,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Sb(n){let t=_A(n);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function xb(n,t,i,r=!1){let o;typeof n=="string"?o=ua(n):(o={...n},te(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),te(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),te(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=i;else{let y=t.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}h=y>=0?t[y]:"/"}let d=yA(o,h),f=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Mi=n=>n.join("/").replace(/\/\/+/g,"/"),bA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wb=["POST","PUT","PATCH","DELETE"];new Set(wb);var wA=["GET",...wb];new Set(wA);var ca=N.createContext(null);ca.displayName="DataRouter";var hc=N.createContext(null);hc.displayName="DataRouterState";var Ab=N.createContext({isTransitioning:!1});Ab.displayName="ViewTransition";var AA=N.createContext(new Map);AA.displayName="Fetchers";var CA=N.createContext(null);CA.displayName="Await";var oi=N.createContext(null);oi.displayName="Navigation";var Xo=N.createContext(null);Xo.displayName="Location";var Ui=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var Qd=N.createContext(null);Qd.displayName="RouteError";function EA(n,{relative:t}={}){te(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=N.useContext(oi),{hash:o,pathname:l,search:c}=Zo(n,{relative:t}),h=l;return i!=="/"&&(h=l==="/"?i:Mi([i,l])),r.createHref({pathname:h,search:c,hash:o})}function Wo(){return N.useContext(Xo)!=null}function tr(){return te(Wo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Xo).location}var Cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eb(n){N.useContext(oi).static||N.useLayoutEffect(n)}function MA(){let{isDataRoute:n}=N.useContext(Ui);return n?zA():OA()}function OA(){te(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(ca),{basename:t,navigator:i}=N.useContext(oi),{matches:r}=N.useContext(Ui),{pathname:o}=tr(),l=JSON.stringify(Sb(r)),c=N.useRef(!1);return Eb(()=>{c.current=!0}),N.useCallback((d,f={})=>{if(ri(c.current,Cb),!c.current)return;if(typeof d=="number"){i.go(d);return}let m=xb(d,JSON.parse(l),o,f.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Mi([t,m.pathname])),(f.replace?i.replace:i.push)(m,f.state,f)},[t,i,l,o,n])}N.createContext(null);function Zo(n,{relative:t}={}){let{matches:i}=N.useContext(Ui),{pathname:r}=tr(),o=JSON.stringify(Sb(i));return N.useMemo(()=>xb(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function DA(n,t){return Mb(n,t)}function Mb(n,t,i,r){var S;te(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(oi),{matches:l}=N.useContext(Ui),c=l[l.length-1],h=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let E=m&&m.path||"";Ob(d,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=tr(),v;if(t){let E=typeof t=="string"?ua(t):t;te(f==="/"||((S=E.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let _=v.pathname||"/",b=_;if(f!=="/"){let E=f.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=_b(n,{pathname:b});ri(m||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ri(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=UA(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Mi([f,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Mi([f,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,i,r);return t&&w?N.createElement(Xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function kA(){let n=PA(),t=xA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),i?N.createElement("pre",{style:o},i):null,c)}var RA=N.createElement(kA,null),NA=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?N.createElement(Ui.Provider,{value:this.props.routeContext},N.createElement(Qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VA({routeContext:n,match:t,children:i}){let r=N.useContext(ca);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ui.Provider,{value:n},i)}function UA(n,t=[],i=null,r=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let o=n,l=i==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);te(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(i)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:m,errors:y}=i,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let y,v=!1,_=null,b=null;i&&(y=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||RA,c&&(h<0&&m===0?(Ob("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):h===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),w=()=>{let S;return y?S=_:v?S=b:f.route.Component?S=N.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,N.createElement(VA,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:i!=null},children:S})};return i&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(NA,{location:i.location,revalidation:i.revalidation,component:_,error:y,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function $d(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(n){let t=N.useContext(ca);return te(t,$d(n)),t}function BA(n){let t=N.useContext(hc);return te(t,$d(n)),t}function IA(n){let t=N.useContext(Ui);return te(t,$d(n)),t}function Jd(n){let t=IA(n),i=t.matches[t.matches.length-1];return te(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function LA(){return Jd("useRouteId")}function PA(){var r;let n=N.useContext(Qd),t=BA("useRouteError"),i=Jd("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[i]}function zA(){let{router:n}=jA("useNavigate"),t=Jd("useNavigate"),i=N.useRef(!1);return Eb(()=>{i.current=!0}),N.useCallback(async(o,l={})=>{ri(i.current,Cb),i.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:t,...l}))},[n,t])}var T0={};function Ob(n,t,i){!t&&!T0[n]&&(T0[n]=!0,ri(!1,i))}N.memo(qA);function qA({routes:n,future:t,state:i}){return Mb(n,void 0,i,t)}function Oo(n){te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FA({basename:n="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:l=!1}){te(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof i=="string"&&(i=ua(i));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:v="default"}=i,_=N.useMemo(()=>{let b=Di(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:y,key:v},navigationType:r}},[c,d,f,m,y,v,r]);return ri(_!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(oi.Provider,{value:h},N.createElement(Xo.Provider,{children:t,value:_}))}function HA({children:n,location:t}){return DA(vd(n),t)}function vd(n,t=[]){let i=[];return N.Children.forEach(n,(r,o)=>{if(!N.isValidElement(r))return;let l=[...t,o];if(r.type===N.Fragment){i.push.apply(i,vd(r.props.children,l));return}te(r.type===Oo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),te(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=vd(r.props.children,l)),i.push(c)}),i}var Bu="get",Iu="application/x-www-form-urlencoded";function fc(n){return n!=null&&typeof n.tagName=="string"}function GA(n){return fc(n)&&n.tagName.toLowerCase()==="button"}function YA(n){return fc(n)&&n.tagName.toLowerCase()==="form"}function XA(n){return fc(n)&&n.tagName.toLowerCase()==="input"}function WA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZA(n,t){return n.button===0&&(!t||t==="_self")&&!WA(n)}var Mu=null;function KA(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var QA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(n){return n!=null&&!QA.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Iu}"`),null):n}function $A(n,t){let i,r,o,l,c;if(YA(n)){let h=n.getAttribute("action");r=h?Di(h,t):null,i=n.getAttribute("method")||Bu,o=Jf(n.getAttribute("enctype"))||Iu,l=new FormData(n)}else if(GA(n)||XA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Di(d,t):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||Bu,o=Jf(n.getAttribute("formenctype"))||Jf(h.getAttribute("enctype"))||Iu,l=new FormData(h,n),!KA()){let{name:f,type:m,value:y}=n;if(m==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,y)}}else{if(fc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Bu,r=null,o=Iu,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:l,body:c}}function tp(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function JA(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eC(n,t,i){let r=await Promise.all(n.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await JA(l,i);return c.links?c.links():[]}return[]}));return rC(r.flat(1).filter(tC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S0(n,t,i,r,o,l){let c=(d,f)=>i[f]?d.route.id!==i[f].route.id:!0,h=(d,f)=>{var m;return i[f].pathname!==d.pathname||((m=i[f].route.path)==null?void 0:m.endsWith("*"))&&i[f].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,f)=>c(d,f)||h(d,f)):l==="data"?t.filter((d,f)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function nC(n,t,{includeHydrateFallback:i}={}){return iC(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function iC(n){return[...new Set(n)]}function sC(n){let t={},i=Object.keys(n).sort();for(let r of i)t[r]=n[r];return t}function rC(n,t){let i=new Set;return new Set(t),n.reduce((r,o)=>{let l=JSON.stringify(sC(o));return i.has(l)||(i.add(l),r.push({key:l,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aC=new Set([100,101,204,205]);function oC(n,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":t&&Di(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Db(){let n=N.useContext(ca);return tp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lC(){let n=N.useContext(hc);return tp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ep=N.createContext(void 0);ep.displayName="FrameworkContext";function kb(){let n=N.useContext(ep);return tp(n,"You must render this element inside a <HydratedRouter> element"),n}function uC(n,t){let i=N.useContext(ep),[r,o]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=t,v=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let x=S=>{S.forEach(E=>{c(E.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[n]),N.useEffect(()=>{if(r){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[r]);let _=()=>{o(!0)},b=()=>{o(!1),c(!1)};return i?n!=="intent"?[l,v,{}]:[l,v,{onFocus:To(h,_),onBlur:To(d,b),onMouseEnter:To(f,_),onMouseLeave:To(m,b),onTouchStart:To(y,_)}]:[!1,v,{}]}function To(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function cC({page:n,...t}){let{router:i}=Db(),r=N.useMemo(()=>_b(i.routes,n,i.basename),[i.routes,n,i.basename]);return r?N.createElement(fC,{page:n,matches:r,...t}):null}function hC(n){let{manifest:t,routeModules:i}=kb(),[r,o]=N.useState([]);return N.useEffect(()=>{let l=!1;return eC(n,t,i).then(c=>{l||o(c)}),()=>{l=!0}},[n,t,i]),r}function fC({page:n,matches:t,...i}){let r=tr(),{manifest:o,routeModules:l}=kb(),{basename:c}=Db(),{loaderData:h,matches:d}=lC(),f=N.useMemo(()=>S0(n,t,d,o,r,"data"),[n,t,d,o,r]),m=N.useMemo(()=>S0(n,t,d,o,r,"assets"),[n,t,d,o,r]),y=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(t.forEach(S=>{var M;let E=o.routes[S.route.id];!E||!E.hasLoader||(!f.some(D=>D.route.id===S.route.id)&&S.route.id in h&&((M=l[S.route.id])!=null&&M.shouldRevalidate)||E.hasClientLoader?x=!0:b.add(S.route.id))}),b.size===0)return[];let w=oC(n,c);return x&&b.size>0&&w.searchParams.set("_routes",t.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[c,h,r,o,f,t,n,l]),v=N.useMemo(()=>nC(m,o),[m,o]),_=hC(m);return N.createElement(N.Fragment,null,y.map(b=>N.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...i})),v.map(b=>N.createElement("link",{key:b,rel:"modulepreload",href:b,...i})),_.map(({key:b,link:x})=>N.createElement("link",{key:b,...x})))}function dC(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rb&&(window.__reactRouterVersion="7.6.1")}catch{}function pC({basename:n,children:t,window:i}){let r=N.useRef();r.current==null&&(r.current=tA({window:i,v5Compat:!0}));let o=r.current,[l,c]=N.useState({action:o.action,location:o.location}),h=N.useCallback(d=>{N.startTransition(()=>c(d))},[c]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(FA,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o})}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,np=N.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:h,target:d,to:f,preventScrollReset:m,viewTransition:y,...v},_){let{basename:b}=N.useContext(oi),x=typeof f=="string"&&Nb.test(f),w,S=!1;if(typeof f=="string"&&x&&(w=f,Rb))try{let Y=new URL(window.location.href),X=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),K=Di(X.pathname,b);X.origin===Y.origin&&K!=null?f=K+X.search+X.hash:S=!0}catch{ri(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=EA(f,{relative:o}),[M,D,C]=uC(r,v),V=vC(f,{replace:c,state:h,target:d,preventScrollReset:m,relative:o,viewTransition:y});function B(Y){t&&t(Y),Y.defaultPrevented||V(Y)}let U=N.createElement("a",{...v,...C,href:w||E,onClick:S||l?t:B,ref:dC(_,D),target:d,"data-discover":!x&&i==="render"?"true":void 0});return M&&!x?N.createElement(N.Fragment,null,U,N.createElement(cC,{page:E})):U});np.displayName="Link";var mC=N.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:h,children:d,...f},m){let y=Zo(c,{relative:f.relative}),v=tr(),_=N.useContext(hc),{navigator:b,basename:x}=N.useContext(oi),w=_!=null&&xC(y)&&h===!0,S=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,E=v.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(E=E.toLowerCase(),M=M?M.toLowerCase():null,S=S.toLowerCase()),M&&x&&(M=Di(M,x)||M);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let C=E===S||!o&&E.startsWith(S)&&E.charAt(D)==="/",V=M!=null&&(M===S||!o&&M.startsWith(S)&&M.charAt(S.length)==="/"),B={isActive:C,isPending:V,isTransitioning:w},U=C?t:void 0,Y;typeof r=="function"?Y=r(B):Y=[r,C?"active":null,V?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(B):l;return N.createElement(np,{...f,"aria-current":U,className:Y,ref:m,style:X,to:c,viewTransition:h},typeof d=="function"?d(B):d)});mC.displayName="NavLink";var gC=N.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:l,method:c=Bu,action:h,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,...v},_)=>{let b=TC(),x=SC(h,{relative:f}),w=c.toLowerCase()==="get"?"get":"post",S=typeof h=="string"&&Nb.test(h),E=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,C=(D==null?void 0:D.getAttribute("formmethod"))||c;b(D||M.currentTarget,{fetcherKey:t,method:C,navigate:i,replace:o,state:l,relative:f,preventScrollReset:m,viewTransition:y})};return N.createElement("form",{ref:_,method:w,action:x,onSubmit:r?d:E,...v,"data-discover":!S&&n==="render"?"true":void 0})});gC.displayName="Form";function yC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vb(n){let t=N.useContext(ca);return te(t,yC(n)),t}function vC(n,{target:t,replace:i,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=MA(),d=tr(),f=Zo(n,{relative:l});return N.useCallback(m=>{if(ZA(m,t)){m.preventDefault();let y=i!==void 0?i:jo(d)===jo(f);h(n,{replace:y,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[d,h,f,i,r,t,n,o,l,c])}var _C=0,bC=()=>`__${String(++_C)}__`;function TC(){let{router:n}=Vb("useSubmit"),{basename:t}=N.useContext(oi),i=LA();return N.useCallback(async(r,o={})=>{let{action:l,method:c,encType:h,formData:d,body:f}=$A(r,t);if(o.navigate===!1){let m=o.fetcherKey||bC();await n.fetch(m,i,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,t,i])}function SC(n,{relative:t}={}){let{basename:i}=N.useContext(oi),r=N.useContext(Ui);te(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Zo(n||".",{relative:t})},c=tr();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:Mi([i,l.pathname])),jo(l)}function xC(n,t={}){let i=N.useContext(Ab);te(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Vb("useViewTransitionState"),o=Zo(n,{relative:t.relative});if(!i.isTransitioning)return!1;let l=Di(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Di(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Gu(o.pathname,c)!=null||Gu(o.pathname,l)!=null}[...aC];const Ub="15.1.22",x0=(n,t,i)=>({endTime:t,insertTime:i,type:"exponentialRampToValue",value:n}),w0=(n,t,i)=>({endTime:t,insertTime:i,type:"linearRampToValue",value:n}),_d=(n,t)=>({startTime:t,type:"setValue",value:n}),jb=(n,t,i)=>({duration:i,startTime:t,type:"setValueCurve",values:n}),Bb=(n,t,{startTime:i,target:r,timeConstant:o})=>r+(t-r)*Math.exp((i-n)/o),Hr=n=>n.type==="exponentialRampToValue",Yu=n=>n.type==="linearRampToValue",hs=n=>Hr(n)||Yu(n),ip=n=>n.type==="setValue",Ei=n=>n.type==="setValueCurve",Xu=(n,t,i,r)=>{const o=n[t];return o===void 0?r:hs(o)||ip(o)?o.value:Ei(o)?o.values[o.values.length-1]:Bb(i,Xu(n,t-1,o.startTime,r),o)},A0=(n,t,i,r,o)=>i===void 0?[r.insertTime,o]:hs(i)?[i.endTime,i.value]:ip(i)?[i.startTime,i.value]:Ei(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,Xu(n,t-1,i.startTime,o)],bd=n=>n.type==="cancelAndHold",Td=n=>n.type==="cancelScheduledValues",us=n=>bd(n)||Td(n)?n.cancelTime:Hr(n)||Yu(n)?n.endTime:n.startTime,C0=(n,t,i,{endTime:r,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((n-t)/(r-t)):0,E0=(n,t,i,{endTime:r,value:o})=>i+(n-t)/(r-t)*(o-i),wC=(n,t)=>{const i=Math.floor(t),r=Math.ceil(t);return i===r?n[i]:(1-(t-i))*n[i]+(1-(r-t))*n[r]},AC=(n,{duration:t,startTime:i,values:r})=>{const o=(n-i)/t*(r.length-1);return wC(r,o)},Ou=n=>n.type==="setTarget";class CC{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const i=us(t);if(bd(t)||Td(t)){const r=this._automationEvents.findIndex(l=>Td(t)&&Ei(l)?l.startTime+l.duration>=i:us(l)>=i),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),bd(t)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&hs(o)){if(l!==void 0&&Ou(l))throw new Error("The internal list is malformed.");const c=l===void 0?o.insertTime:Ei(l)?l.startTime+l.duration:us(l),h=l===void 0?this._defaultValue:Ei(l)?l.values[l.values.length-1]:l.value,d=Hr(o)?C0(i,c,h,o):E0(i,c,h,o),f=Hr(o)?x0(d,i,this._currenTime):w0(d,i,this._currenTime);this._automationEvents.push(f)}if(l!==void 0&&Ou(l)&&this._automationEvents.push(_d(this.getValue(i),i)),l!==void 0&&Ei(l)&&l.startTime+l.duration>i){const c=i-l.startTime,h=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(c*h)),f=c/(d-1)*h,m=l.values.slice(0,d);if(f<1)for(let y=1;y<d;y+=1){const v=f*y%1;m[y]=l.values[y-1]*(1-v)+l.values[y]*v}this._automationEvents[this._automationEvents.length-1]=jb(m,l.startTime,c)}}}else{const r=this._automationEvents.findIndex(c=>us(c)>i),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Ei(o)&&us(o)+o.duration>i)return!1;const l=Hr(t)?x0(t.value,t.endTime,this._currenTime):Yu(t)?w0(t.value,i,this._currenTime):t;if(r===-1)this._automationEvents.push(l);else{if(Ei(t)&&i+t.duration>us(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(t){const i=this._automationEvents.findIndex(r=>us(r)>t);if(i>1){const r=this._automationEvents.slice(i-1),o=r[0];Ou(o)&&r.unshift(_d(Xu(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(c=>us(c)>t),r=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,l=this._automationEvents[o];if(l!==void 0&&Ou(l)&&(r===void 0||!hs(r)||r.insertTime>t))return Bb(t,Xu(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&ip(l)&&(r===void 0||!hs(r)))return l.value;if(l!==void 0&&Ei(l)&&(r===void 0||!hs(r)||l.startTime+l.duration>t))return t<l.startTime+l.duration?AC(t,l):l.values[l.values.length-1];if(l!==void 0&&hs(l)&&(r===void 0||!hs(r)))return l.value;if(r!==void 0&&Hr(r)){const[c,h]=A0(this._automationEvents,o,l,r,this._defaultValue);return C0(t,c,h,r)}if(r!==void 0&&Yu(r)){const[c,h]=A0(this._automationEvents,o,l,r,this._defaultValue);return E0(t,c,h,r)}return this._defaultValue}}const EC=n=>({cancelTime:n,type:"cancelAndHold"}),MC=n=>({cancelTime:n,type:"cancelScheduledValues"}),OC=(n,t)=>({endTime:t,type:"exponentialRampToValue",value:n}),DC=(n,t)=>({endTime:t,type:"linearRampToValue",value:n}),kC=(n,t,i)=>({startTime:t,target:n,timeConstant:i,type:"setTarget"}),RC=()=>new DOMException("","AbortError"),NC=n=>(t,i,[r,o,l],c)=>{n(t[o],[i,r,l],h=>h[0]===i&&h[1]===r,c)},VC=n=>(t,i,r)=>{const o=[];for(let l=0;l<r.numberOfInputs;l+=1)o.push(new Set);n.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},UC=n=>(t,i)=>{n.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},ta=new WeakSet,Ib=new WeakMap,sp=new WeakMap,Lb=new WeakMap,rp=new WeakMap,dc=new WeakMap,Pb=new WeakMap,Sd=new WeakMap,xd=new WeakMap,wd=new WeakMap,zb={construct(){return zb}},jC=n=>{try{const t=new Proxy(n,zb);new t}catch{return!1}return!0},M0=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,O0=(n,t)=>{const i=[];let r=n.replace(/^[\s]+/,""),o=r.match(M0);for(;o!==null;){const l=o[1].slice(1,-1),c=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,t).toString());i.push(c),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(M0)}return[i.join(";"),r]},D0=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},k0=n=>{if(!jC(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},BC=(n,t,i,r,o,l,c,h,d,f,m,y,v)=>{let _=0;return(b,x,w={credentials:"omit"})=>{const S=m.get(b);if(S!==void 0&&S.has(x))return Promise.resolve();const E=f.get(b);if(E!==void 0){const C=E.get(x);if(C!==void 0)return C}const M=l(b),D=M.audioWorklet===void 0?o(x).then(([C,V])=>{const[B,U]=O0(C,V),Y=`${B};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${U}
})})(window,'_AWGS')`;return i(Y)}).then(()=>{const C=v._AWGS.pop();if(C===void 0)throw new SyntaxError;r(M.currentTime,M.sampleRate,()=>C(class{},void 0,(V,B)=>{if(V.trim()==="")throw t();const U=xd.get(M);if(U!==void 0){if(U.has(V))throw t();k0(B),D0(B.parameterDescriptors),U.set(V,B)}else k0(B),D0(B.parameterDescriptors),xd.set(M,new Map([[V,B]]))},M.sampleRate,void 0,void 0))}):Promise.all([o(x),Promise.resolve(n(y,y))]).then(([[C,V],B])=>{const U=_+1;_=U;const[Y,X]=O0(C,V),it=`${Y};((AudioWorkletProcessor,registerProcessor)=>{${X}
})(${B?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${B?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${B?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${U}',class extends AudioWorkletProcessor{process(){return !1}})`,lt=new Blob([it],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(lt);return M.audioWorklet.addModule(R,w).then(()=>{if(h(M))return M;const L=c(M);return L.audioWorklet.addModule(R,w).then(()=>L)}).then(L=>{if(d===null)throw new SyntaxError;try{new d(L,`__sac${U}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return E===void 0?f.set(b,new Map([[x,D]])):E.set(x,D),D.then(()=>{const C=m.get(b);C===void 0?m.set(b,new Set([x])):C.add(x)}).finally(()=>{const C=f.get(b);C!==void 0&&C.delete(x)}),D}},Gn=(n,t)=>{const i=n.get(t);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},pc=(n,t)=>{const i=Array.from(n).filter(t);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[r]=i;return n.delete(r),r},qb=(n,t,i,r)=>{const o=Gn(n,t),l=pc(o,c=>c[0]===i&&c[1]===r);return o.size===0&&n.delete(t),l},Ko=n=>Gn(Pb,n),ea=n=>{if(ta.has(n))throw new Error("The AudioNode is already stored.");ta.add(n),Ko(n).forEach(t=>t(!0))},Fb=n=>"port"in n,Qo=n=>{if(!ta.has(n))throw new Error("The AudioNode is not stored.");ta.delete(n),Ko(n).forEach(t=>t(!1))},Ad=(n,t)=>{!Fb(n)&&t.every(i=>i.size===0)&&Qo(n)},IC=(n,t,i,r,o,l,c,h,d,f,m,y,v)=>{const _=new WeakMap;return(b,x,w,S,E)=>{const{activeInputs:M,passiveInputs:D}=l(x),{outputs:C}=l(b),V=h(b),B=U=>{const Y=d(x),X=d(b);if(U){const K=qb(D,b,w,S);n(M,b,K,!1),!E&&!y(b)&&i(X,Y,w,S),v(x)&&ea(x)}else{const K=r(M,b,w,S);t(D,S,K,!1),!E&&!y(b)&&o(X,Y,w,S);const W=c(x);if(W===0)m(x)&&Ad(x,M);else{const st=_.get(x);st!==void 0&&clearTimeout(st),_.set(x,setTimeout(()=>{m(x)&&Ad(x,M)},W*1e3))}}};return f(C,[x,w,S],U=>U[0]===x&&U[1]===w&&U[2]===S,!0)?(V.add(B),m(b)?n(M,b,[w,S,B],!0):t(D,S,[b,w,B],!0),!0):!1}},LC=n=>(t,i,[r,o,l],c)=>{const h=t.get(r);h===void 0?t.set(r,new Set([[o,i,l]])):n(h,[o,i,l],d=>d[0]===o&&d[1]===i,c)},PC=n=>(t,i)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(r).connect(t.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(r),r.disconnect()};i.addEventListener("ended",o)},zC=n=>(t,i)=>{n(t).add(i)},qC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},FC=(n,t,i,r,o,l)=>class extends n{constructor(h,d){const f=o(h),m={...qC,...d},y=r(f,m),v=l(f)?t():null;super(h,!1,y,v),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(h){this._nativeAnalyserNode.fftSize=h}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(h){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=h,!(h>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(h){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=h,!(this._nativeAnalyserNode.maxDecibels>h))throw this._nativeAnalyserNode.minDecibels=d,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(h){this._nativeAnalyserNode.smoothingTimeConstant=h}getByteFrequencyData(h){this._nativeAnalyserNode.getByteFrequencyData(h)}getByteTimeDomainData(h){this._nativeAnalyserNode.getByteTimeDomainData(h)}getFloatFrequencyData(h){this._nativeAnalyserNode.getFloatFrequencyData(h)}getFloatTimeDomainData(h){this._nativeAnalyserNode.getFloatTimeDomainData(h)}},He=(n,t)=>n.context===t,HC=(n,t,i)=>()=>{const r=new WeakMap,o=async(l,c)=>{let h=t(l);if(!He(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,fftSize:h.fftSize,maxDecibels:h.maxDecibels,minDecibels:h.minDecibels,smoothingTimeConstant:h.smoothingTimeConstant};h=n(c,f)}return r.set(c,h),await i(l,c,h),h};return{render(l,c){const h=r.get(c);return h!==void 0?Promise.resolve(h):o(l,c)}}},Wu=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},li=()=>new DOMException("","IndexSizeError"),ap=n=>{n.getChannelData=(t=>i=>{try{return t.call(n,i)}catch(r){throw r.code===12?li():r}})(n.getChannelData)},GC={numberOfChannels:1},YC=(n,t,i,r,o,l,c,h)=>{let d=null;return class Hb{constructor(m){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:v,sampleRate:_}={...GC,...m};d===null&&(d=new o(1,1,44100));const b=r!==null&&t(l,l)?new r({length:y,numberOfChannels:v,sampleRate:_}):d.createBuffer(v,y,_);if(b.numberOfChannels===0)throw i();return typeof b.copyFromChannel!="function"?(c(b),ap(b)):t(Wu,()=>Wu(b))||h(b),n.add(b),b}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Hb.prototype||n.has(m)}}},gn=-34028234663852886e22,Ye=34028234663852886e22,Oi=n=>ta.has(n),XC={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},WC=(n,t,i,r,o,l,c,h)=>class extends n{constructor(f,m){const y=l(f),v={...XC,...m},_=o(y,v),b=c(y),x=b?t():null;super(f,!1,_,x),this._audioBufferSourceNodeRenderer=x,this._isBufferNullified=!1,this._isBufferSet=v.buffer!==null,this._nativeAudioBufferSourceNode=_,this._onended=null,this._playbackRate=i(this,b,_.playbackRate,Ye,gn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(f){if(this._nativeAudioBufferSourceNode.buffer=f,f!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(f){this._nativeAudioBufferSourceNode.loop=f}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(f){this._nativeAudioBufferSourceNode.loopEnd=f}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(f){this._nativeAudioBufferSourceNode.loopStart=f}get onended(){return this._onended}set onended(f){const m=typeof f=="function"?h(this,f):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?f:y}get playbackRate(){return this._playbackRate}start(f=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(f,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[f,m]:[f,m,y]),this.context.state!=="closed"){ea(this);const v=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",v),Oi(this)&&Qo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",v)}}stop(f=0){this._nativeAudioBufferSourceNode.stop(f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=f)}},ZC=(n,t,i,r,o)=>()=>{const l=new WeakMap;let c=null,h=null;const d=async(f,m)=>{let y=i(f);const v=He(y,m);if(!v){const _={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=t(m,_),c!==null&&y.start(...c),h!==null&&y.stop(h)}return l.set(m,y),v?await n(m,f.playbackRate,y.playbackRate):await r(m,f.playbackRate,y.playbackRate),await o(f,m,y),y};return{set start(f){c=f},set stop(f){h=f},render(f,m){const y=l.get(m);return y!==void 0?Promise.resolve(y):d(f,m)}}},KC=n=>"playbackRate"in n,QC=n=>"frequency"in n&&"gain"in n,$C=n=>"offset"in n,JC=n=>!("frequency"in n)&&"gain"in n,tE=n=>"detune"in n&&"frequency"in n&&!("gain"in n),eE=n=>"pan"in n,Xe=n=>Gn(Ib,n),$o=n=>Gn(Lb,n),Cd=(n,t)=>{const{activeInputs:i}=Xe(n);i.forEach(o=>o.forEach(([l])=>{t.includes(n)||Cd(l,[...t,n])}));const r=KC(n)?[n.playbackRate]:Fb(n)?Array.from(n.parameters.values()):QC(n)?[n.Q,n.detune,n.frequency,n.gain]:$C(n)?[n.offset]:JC(n)?[n.gain]:tE(n)?[n.detune,n.frequency]:eE(n)?[n.pan]:[];for(const o of r){const l=$o(o);l!==void 0&&l.activeInputs.forEach(([c])=>Cd(c,t))}Oi(n)&&Qo(n)},Gb=n=>{Cd(n.destination,[])},nE=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),iE=(n,t,i,r,o,l,c,h,d)=>class extends n{constructor(m={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new d(m)}catch(b){throw b.code===12&&b.message==="sampleRate is not in range"?i():b}if(y===null)throw r();if(!nE(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw i();super(y,2);const{latencyHint:v}=m,{sampleRate:_}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:v==="balanced"?512/_:v==="interactive"||v===void 0?256/_:v==="playback"?1024/_:Math.max(2,Math.min(128,Math.round(v*_/128)))*128/_,this._nativeAudioContext=y,d.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const b=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",b)};y.addEventListener("statechange",b)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Gb(this)}))}createMediaElementSource(m){return new o(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new c(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new h(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const v=()=>{this._nativeAudioContext.removeEventListener("statechange",v),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",v)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?t():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?t():m})}},sE=(n,t,i,r,o,l,c,h)=>class extends n{constructor(f,m){const y=l(f),v=c(y),_=o(y,m,v),b=v?t(h):null;super(f,!1,_,b),this._isNodeOfNativeOfflineAudioContext=v,this._nativeAudioDestinationNode=_}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(f){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(f>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=f}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(f){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=f}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},rE=n=>{const t=new WeakMap,i=async(r,o)=>{const l=o.destination;return t.set(o,l),await n(r,o,l),l};return{render(r,o){const l=t.get(o);return l!==void 0?Promise.resolve(l):i(r,o)}}},aE=(n,t,i,r,o,l,c,h)=>(d,f)=>{const m=f.listener,y=()=>{const C=new Float32Array(1),V=t(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),B=c(f);let U=!1,Y=[0,0,-1,0,1,0],X=[0,0,0];const K=()=>{if(U)return;U=!0;const lt=r(f,256,9,0);lt.onaudioprocess=({inputBuffer:R})=>{const L=[l(R,C,0),l(R,C,1),l(R,C,2),l(R,C,3),l(R,C,4),l(R,C,5)];L.some((et,O)=>et!==Y[O])&&(m.setOrientation(...L),Y=L);const Q=[l(R,C,6),l(R,C,7),l(R,C,8)];Q.some((et,O)=>et!==X[O])&&(m.setPosition(...Q),X=Q)},V.connect(lt)},W=lt=>R=>{R!==Y[lt]&&(Y[lt]=R,m.setOrientation(...Y))},st=lt=>R=>{R!==X[lt]&&(X[lt]=R,m.setPosition(...X))},it=(lt,R,L)=>{const Q=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});Q.connect(V,0,lt),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return R}});const et=n({context:d},B,Q.offset,Ye,gn);return h(et,"value",O=>()=>O.call(et),O=>F=>{try{O.call(et,F)}catch(tt){if(tt.code!==9)throw tt}K(),B&&L(F)}),et.cancelAndHoldAtTime=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.cancelAndHoldAtTime),et.cancelScheduledValues=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.cancelScheduledValues),et.exponentialRampToValueAtTime=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.exponentialRampToValueAtTime),et.linearRampToValueAtTime=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.linearRampToValueAtTime),et.setTargetAtTime=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.setTargetAtTime),et.setValueAtTime=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.setValueAtTime),et.setValueCurveAtTime=(O=>B?()=>{throw o()}:(...F)=>{const tt=O.apply(et,F);return K(),tt})(et.setValueCurveAtTime),et};return{forwardX:it(0,0,W(0)),forwardY:it(1,0,W(1)),forwardZ:it(2,-1,W(2)),positionX:it(6,0,st(0)),positionY:it(7,0,st(1)),positionZ:it(8,0,st(2)),upX:it(3,0,W(3)),upY:it(4,1,W(4)),upZ:it(5,0,W(5))}},{forwardX:v,forwardY:_,forwardZ:b,positionX:x,positionY:w,positionZ:S,upX:E,upY:M,upZ:D}=m.forwardX===void 0?y():m;return{get forwardX(){return v},get forwardY(){return _},get forwardZ(){return b},get positionX(){return x},get positionY(){return w},get positionZ(){return S},get upX(){return E},get upY(){return M},get upZ(){return D}}},Zu=n=>"context"in n,Jo=n=>Zu(n[0]),er=(n,t,i,r)=>{for(const o of n)if(i(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return n.add(t),!0},R0=(n,t,[i,r],o)=>{er(n,[t,i,r],l=>l[0]===t&&l[1]===i,o)},N0=(n,[t,i,r],o)=>{const l=n.get(t);l===void 0?n.set(t,new Set([[i,r]])):er(l,[i,r],c=>c[0]===i,o)},ha=n=>"inputs"in n,Ku=(n,t,i,r)=>{if(ha(t)){const o=t.inputs[r];return n.connect(o,i,0),[o,i,0]}return n.connect(t,i,r),[t,i,r]},Yb=(n,t,i)=>{for(const r of n)if(r[0]===t&&r[1]===i)return n.delete(r),r;return null},oE=(n,t,i)=>pc(n,r=>r[0]===t&&r[1]===i),Xb=(n,t)=>{if(!Ko(n).delete(t))throw new Error("Missing the expected event listener.")},Wb=(n,t,i)=>{const r=Gn(n,t),o=pc(r,l=>l[0]===i);return r.size===0&&n.delete(t),o},Qu=(n,t,i,r)=>{ha(t)?n.disconnect(t.inputs[r],i,0):n.disconnect(t,i,r)},Wt=n=>Gn(sp,n),Bo=n=>Gn(rp,n),$s=n=>Sd.has(n),Lu=n=>!ta.has(n),V0=(n,t)=>new Promise(i=>{if(t!==null)i(!0);else{const r=n.createScriptProcessor(256,1,1),o=n.createGain(),l=n.createBuffer(1,2,44100),c=l.getChannelData(0);c[0]=1,c[1]=1;const h=n.createBufferSource();h.buffer=l,h.loop=!0,h.connect(r).connect(n.destination),h.connect(o),h.disconnect(o),r.onaudioprocess=d=>{const f=d.inputBuffer.getChannelData(0);Array.prototype.some.call(f,m=>m===1)?i(!0):i(!1),h.stop(),r.onaudioprocess=null,h.disconnect(r),r.disconnect(n.destination)},h.start()}}),td=(n,t)=>{const i=new Map;for(const r of n)for(const o of r){const l=i.get(o);i.set(o,l===void 0?1:l+1)}i.forEach((r,o)=>t(o,r))},$u=n=>"context"in n,lE=n=>{const t=new Map;n.connect=(i=>(r,o=0,l=0)=>{const c=$u(r)?i(r,o,l):i(r,o),h=t.get(r);return h===void 0?t.set(r,[{input:l,output:o}]):h.every(d=>d.input!==l||d.output!==o)&&h.push({input:l,output:o}),c})(n.connect.bind(n)),n.disconnect=(i=>(r,o,l)=>{if(i.apply(n),r===void 0)t.clear();else if(typeof r=="number")for(const[c,h]of t){const d=h.filter(f=>f.output!==r);d.length===0?t.delete(c):t.set(c,d)}else if(t.has(r))if(o===void 0)t.delete(r);else{const c=t.get(r);if(c!==void 0){const h=c.filter(d=>d.output!==o&&(d.input!==l||l===void 0));h.length===0?t.delete(r):t.set(r,h)}}for(const[c,h]of t)h.forEach(d=>{$u(c)?n.connect(c,d.output,d.input):n.connect(c,d.output)})})(n.disconnect)},uE=(n,t,i,r)=>{const{activeInputs:o,passiveInputs:l}=$o(t),{outputs:c}=Xe(n),h=Ko(n),d=f=>{const m=Wt(n),y=Bo(t);if(f){const v=Wb(l,n,i);R0(o,n,v,!1),!r&&!$s(n)&&m.connect(y,i)}else{const v=oE(o,n,i);N0(l,v,!1),!r&&!$s(n)&&m.disconnect(y,i)}};return er(c,[t,i],f=>f[0]===t&&f[1]===i,!0)?(h.add(d),Oi(n)?R0(o,n,[i,d],!0):N0(l,[n,i,d],!0),!0):!1},cE=(n,t,i,r)=>{const{activeInputs:o,passiveInputs:l}=Xe(t),c=Yb(o[r],n,i);return c===null?[qb(l,n,i,r)[2],!1]:[c[2],!0]},hE=(n,t,i)=>{const{activeInputs:r,passiveInputs:o}=$o(t),l=Yb(r,n,i);return l===null?[Wb(o,n,i)[1],!1]:[l[2],!0]},op=(n,t,i,r,o)=>{const[l,c]=cE(n,i,r,o);if(l!==null&&(Xb(n,l),c&&!t&&!$s(n)&&Qu(Wt(n),Wt(i),r,o)),Oi(i)){const{activeInputs:h}=Xe(i);Ad(i,h)}},lp=(n,t,i,r)=>{const[o,l]=hE(n,i,r);o!==null&&(Xb(n,o),l&&!t&&!$s(n)&&Wt(n).disconnect(Bo(i),r))},fE=(n,t)=>{const i=Xe(n),r=[];for(const o of i.outputs)Jo(o)?op(n,t,...o):lp(n,t,...o),r.push(o[0]);return i.outputs.clear(),r},dE=(n,t,i)=>{const r=Xe(n),o=[];for(const l of r.outputs)l[1]===i&&(Jo(l)?op(n,t,...l):lp(n,t,...l),o.push(l[0]),r.outputs.delete(l));return o},pE=(n,t,i,r,o)=>{const l=Xe(n);return Array.from(l.outputs).filter(c=>c[0]===i&&(r===void 0||c[1]===r)&&(o===void 0||c[2]===o)).map(c=>(Jo(c)?op(n,t,...c):lp(n,t,...c),l.outputs.delete(c),c[0]))},mE=(n,t,i,r,o,l,c,h,d,f,m,y,v,_,b,x)=>class extends f{constructor(S,E,M,D){super(M),this._context=S,this._nativeAudioNode=M;const C=m(S);y(C)&&i(V0,()=>V0(C,x))!==!0&&lE(M),sp.set(this,M),Pb.set(this,new Set),S.state!=="closed"&&E&&ea(this),n(this,D,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(S){this._nativeAudioNode.channelCount=S}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(S){this._nativeAudioNode.channelCountMode=S}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(S){this._nativeAudioNode.channelInterpretation=S}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(S,E=0,M=0){if(E<0||E>=this._nativeAudioNode.numberOfOutputs)throw o();const D=m(this._context),C=b(D);if(v(S)||_(S))throw l();if(Zu(S)){const U=Wt(S);try{const X=Ku(this._nativeAudioNode,U,E,M),K=Lu(this);(C||K)&&this._nativeAudioNode.disconnect(...X),this.context.state!=="closed"&&!K&&Lu(S)&&ea(S)}catch(X){throw X.code===12?l():X}if(t(this,S,E,M,C)){const X=d([this],S);td(X,r(C))}return S}const V=Bo(S);if(V.name==="playbackRate"&&V.maxValue===1024)throw c();try{this._nativeAudioNode.connect(V,E),(C||Lu(this))&&this._nativeAudioNode.disconnect(V,E)}catch(U){throw U.code===12?l():U}if(uE(this,S,E,C)){const U=d([this],S);td(U,r(C))}}disconnect(S,E,M){let D;const C=m(this._context),V=b(C);if(S===void 0)D=fE(this,V);else if(typeof S=="number"){if(S<0||S>=this.numberOfOutputs)throw o();D=dE(this,V,S)}else{if(E!==void 0&&(E<0||E>=this.numberOfOutputs)||Zu(S)&&M!==void 0&&(M<0||M>=S.numberOfInputs))throw o();if(D=pE(this,V,S,E,M),D.length===0)throw l()}for(const B of D){const U=d([this],B);td(U,h)}}},gE=(n,t,i,r,o,l,c,h,d,f,m,y,v)=>(_,b,x,w=null,S=null)=>{const E=x.value,M=new CC(E),D=b?r(M):null,C={get defaultValue(){return E},get maxValue(){return w===null?x.maxValue:w},get minValue(){return S===null?x.minValue:S},get value(){return x.value},set value(V){x.value=V,C.setValueAtTime(V,_.context.currentTime)},cancelAndHoldAtTime(V){if(typeof x.cancelAndHoldAtTime=="function")D===null&&M.flush(_.context.currentTime),M.add(o(V)),x.cancelAndHoldAtTime(V);else{const B=Array.from(M).pop();D===null&&M.flush(_.context.currentTime),M.add(o(V));const U=Array.from(M).pop();x.cancelScheduledValues(V),B!==U&&U!==void 0&&(U.type==="exponentialRampToValue"?x.exponentialRampToValueAtTime(U.value,U.endTime):U.type==="linearRampToValue"?x.linearRampToValueAtTime(U.value,U.endTime):U.type==="setValue"?x.setValueAtTime(U.value,U.startTime):U.type==="setValueCurve"&&x.setValueCurveAtTime(U.values,U.startTime,U.duration))}return C},cancelScheduledValues(V){return D===null&&M.flush(_.context.currentTime),M.add(l(V)),x.cancelScheduledValues(V),C},exponentialRampToValueAtTime(V,B){if(V===0)throw new RangeError;if(!Number.isFinite(B)||B<0)throw new RangeError;const U=_.context.currentTime;return D===null&&M.flush(U),Array.from(M).length===0&&(M.add(f(E,U)),x.setValueAtTime(E,U)),M.add(c(V,B)),x.exponentialRampToValueAtTime(V,B),C},linearRampToValueAtTime(V,B){const U=_.context.currentTime;return D===null&&M.flush(U),Array.from(M).length===0&&(M.add(f(E,U)),x.setValueAtTime(E,U)),M.add(h(V,B)),x.linearRampToValueAtTime(V,B),C},setTargetAtTime(V,B,U){return D===null&&M.flush(_.context.currentTime),M.add(d(V,B,U)),x.setTargetAtTime(V,B,U),C},setValueAtTime(V,B){return D===null&&M.flush(_.context.currentTime),M.add(f(V,B)),x.setValueAtTime(V,B),C},setValueCurveAtTime(V,B,U){const Y=V instanceof Float32Array?V:new Float32Array(V);if(y!==null&&y.name==="webkitAudioContext"){const X=B+U,K=_.context.sampleRate,W=Math.ceil(B*K),st=Math.floor(X*K),it=st-W,lt=new Float32Array(it);for(let L=0;L<it;L+=1){const Q=(Y.length-1)/U*((W+L)/K-B),et=Math.floor(Q),O=Math.ceil(Q);lt[L]=et===O?Y[et]:(1-(Q-et))*Y[et]+(1-(O-Q))*Y[O]}D===null&&M.flush(_.context.currentTime),M.add(m(lt,B,U)),x.setValueCurveAtTime(lt,B,U);const R=st/K;R<X&&v(C,lt[lt.length-1],R),v(C,Y[Y.length-1],X)}else D===null&&M.flush(_.context.currentTime),M.add(m(Y,B,U)),x.setValueCurveAtTime(Y,B,U);return C}};return i.set(C,x),t.set(C,_),n(C,D),C},yE=n=>({replay(t){for(const i of n)if(i.type==="exponentialRampToValue"){const{endTime:r,value:o}=i;t.exponentialRampToValueAtTime(o,r)}else if(i.type==="linearRampToValue"){const{endTime:r,value:o}=i;t.linearRampToValueAtTime(o,r)}else if(i.type==="setTarget"){const{startTime:r,target:o,timeConstant:l}=i;t.setTargetAtTime(o,r,l)}else if(i.type==="setValue"){const{startTime:r,value:o}=i;t.setValueAtTime(o,r)}else if(i.type==="setValueCurve"){const{duration:r,startTime:o,values:l}=i;t.setValueCurveAtTime(l,o,r)}else throw new Error("Can't apply an unknown automation.")}});class Zb{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,i=null){return this._map.forEach((r,o)=>t.call(i,r,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const vE={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},_E=(n,t,i,r,o,l,c,h,d,f,m,y,v,_)=>class extends t{constructor(x,w,S){var E;const M=h(x),D=d(M),C=m({...vE,...S});v(C);const V=xd.get(M),B=V==null?void 0:V.get(w),U=D||M.state!=="closed"?M:(E=c(M))!==null&&E!==void 0?E:M,Y=o(U,D?null:x.baseLatency,f,w,B,C),X=D?r(w,C,B):null;super(x,!0,Y,X);const K=[];Y.parameters.forEach((st,it)=>{const lt=i(this,D,st);K.push([it,lt])}),this._nativeAudioWorkletNode=Y,this._onprocessorerror=null,this._parameters=new Zb(K),D&&n(M,this);const{activeInputs:W}=l(this);y(Y,W)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(x){const w=typeof x=="function"?_(this,x):null;this._nativeAudioWorkletNode.onprocessorerror=w;const S=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=S!==null&&S===w?x:S}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ju(n,t,i,r,o){if(typeof n.copyFromChannel=="function")t[i].byteLength===0&&(t[i]=new Float32Array(128)),n.copyFromChannel(t[i],r,o);else{const l=n.getChannelData(r);if(t[i].byteLength===0)t[i]=l.slice(o,o+128);else{const c=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[i].set(c)}}}const Kb=(n,t,i,r,o)=>{typeof n.copyToChannel=="function"?t[i].byteLength!==0&&n.copyToChannel(t[i],r,o):t[i].byteLength!==0&&n.getChannelData(r).set(t[i],o)},tc=(n,t)=>{const i=[];for(let r=0;r<n;r+=1){const o=[],l=typeof t=="number"?t:t[r];for(let c=0;c<l;c+=1)o.push(new Float32Array(128));i.push(o)}return i},bE=(n,t)=>{const i=Gn(wd,n),r=Wt(t);return Gn(i,r)},TE=async(n,t,i,r,o,l,c)=>{const h=t===null?Math.ceil(n.context.length/128)*128:t.length,d=r.channelCount*r.numberOfInputs,f=o.reduce((w,S)=>w+S,0),m=f===0?null:i.createBuffer(f,h,i.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const y=Xe(n),v=await bE(i,n),_=tc(r.numberOfInputs,r.channelCount),b=tc(r.numberOfOutputs,o),x=Array.from(n.parameters.keys()).reduce((w,S)=>({...w,[S]:new Float32Array(128)}),{});for(let w=0;w<h;w+=128){if(r.numberOfInputs>0&&t!==null)for(let S=0;S<r.numberOfInputs;S+=1)for(let E=0;E<r.channelCount;E+=1)Ju(t,_[S],E,E,w);l.parameterDescriptors!==void 0&&t!==null&&l.parameterDescriptors.forEach(({name:S},E)=>{Ju(t,x,S,d+E,w)});for(let S=0;S<r.numberOfInputs;S+=1)for(let E=0;E<o[S];E+=1)b[S][E].byteLength===0&&(b[S][E]=new Float32Array(128));try{const S=_.map((M,D)=>y.activeInputs[D].size===0?[]:M),E=c(w/i.sampleRate,i.sampleRate,()=>v.process(S,b,x));if(m!==null)for(let M=0,D=0;M<r.numberOfOutputs;M+=1){for(let C=0;C<o[M];C+=1)Kb(m,b[M],C,D+C,w);D+=o[M]}if(!E)break}catch(S){n.dispatchEvent(new ErrorEvent("processorerror",{colno:S.colno,filename:S.filename,lineno:S.lineno,message:S.message}));break}}return m},SE=(n,t,i,r,o,l,c,h,d,f,m,y,v,_,b,x)=>(w,S,E)=>{const M=new WeakMap;let D=null;const C=async(V,B)=>{let U=m(V),Y=null;const X=He(U,B),K=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(y===null){const W=K.reduce((R,L)=>R+L,0),st=o(B,{channelCount:Math.max(1,W),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,W)}),it=[];for(let R=0;R<V.numberOfOutputs;R+=1)it.push(r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:K[R]}));const lt=c(B,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1});lt.connect=t.bind(null,it),lt.disconnect=d.bind(null,it),Y=[st,it,lt]}else X||(U=new y(B,w));if(M.set(B,Y===null?U:Y[2]),Y!==null){if(D===null){if(E===void 0)throw new Error("Missing the processor constructor.");if(v===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=V.channelCount*V.numberOfInputs,Q=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length,et=L+Q;D=TE(V,et===0?null:await(async()=>{const F=new v(et,Math.ceil(V.context.length/128)*128,B.sampleRate),tt=[],nt=[];for(let ot=0;ot<S.numberOfInputs;ot+=1)tt.push(c(F,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),nt.push(o(F,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const ct=await Promise.all(Array.from(V.parameters.values()).map(async ot=>{const bt=l(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot.value});return await _(F,ot,bt.offset),bt})),at=r(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,L+Q)});for(let ot=0;ot<S.numberOfInputs;ot+=1){tt[ot].connect(nt[ot]);for(let bt=0;bt<S.channelCount;bt+=1)nt[ot].connect(at,bt,ot*S.channelCount+bt)}for(const[ot,bt]of ct.entries())bt.connect(at,0,L+ot),bt.start(0);return at.connect(F.destination),await Promise.all(tt.map(ot=>b(V,F,ot))),x(F)})(),B,S,K,E,f)}const W=await D,st=i(B,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[it,lt,R]=Y;W!==null&&(st.buffer=W,st.start(0)),st.connect(it);for(let L=0,Q=0;L<V.numberOfOutputs;L+=1){const et=lt[L];for(let O=0;O<K[L];O+=1)it.connect(et,Q+O,O);Q+=K[L]}return R}if(X)for(const[W,st]of V.parameters.entries())await n(B,st,U.parameters.get(W));else for(const[W,st]of V.parameters.entries())await _(B,st,U.parameters.get(W));return await b(V,B,U),U};return{render(V,B){h(B,V);const U=M.get(B);return U!==void 0?Promise.resolve(U):C(V,B)}}},xE=(n,t,i,r,o,l,c,h,d,f,m,y,v,_,b,x,w,S,E,M)=>class extends b{constructor(C,V){super(C,V),this._nativeContext=C,this._audioWorklet=n===void 0?void 0:{addModule:(B,U)=>n(this,B,U)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(C,V,B){return new i({length:V,numberOfChannels:C,sampleRate:B})}createBufferSource(){return new r(this)}createChannelMerger(C=6){return new l(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new c(this,{numberOfOutputs:C})}createConstantSource(){return new h(this)}createConvolver(){return new d(this)}createDelay(C=1){return new m(this,{maxDelayTime:C})}createDynamicsCompressor(){return new y(this)}createGain(){return new v(this)}createIIRFilter(C,V){return new _(this,{feedback:V,feedforward:C})}createOscillator(){return new x(this)}createPanner(){return new w(this)}createPeriodicWave(C,V,B={disableNormalization:!1}){return new S(this,{...B,imag:V,real:C})}createStereoPanner(){return new E(this)}createWaveShaper(){return new M(this)}decodeAudioData(C,V,B){return f(this._nativeContext,C).then(U=>(typeof V=="function"&&V(U),U),U=>{throw typeof B=="function"&&B(U),U})}},wE={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},AE=(n,t,i,r,o,l,c,h)=>class extends n{constructor(f,m){const y=l(f),v={...wE,...m},_=o(y,v),b=c(y),x=b?i():null;super(f,!1,_,x),this._Q=t(this,b,_.Q,Ye,gn),this._detune=t(this,b,_.detune,1200*Math.log2(Ye),-1200*Math.log2(Ye)),this._frequency=t(this,b,_.frequency,f.sampleRate/2,0),this._gain=t(this,b,_.gain,40*Math.log10(Ye),gn),this._nativeBiquadFilterNode=_,h(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(f){this._nativeBiquadFilterNode.type=f}getFrequencyResponse(f,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(f,m,y)}catch(v){throw v.code===11?r():v}if(f.length!==m.length||m.length!==y.length)throw r()}},CE=(n,t,i,r,o)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=i(h);const m=He(f,d);if(!m){const y={Q:f.Q.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,gain:f.gain.value,type:f.type};f=t(d,y)}return l.set(d,f),m?(await n(d,h.Q,f.Q),await n(d,h.detune,f.detune),await n(d,h.frequency,f.frequency),await n(d,h.gain,f.gain)):(await r(d,h.Q,f.Q),await r(d,h.detune,f.detune),await r(d,h.frequency,f.frequency),await r(d,h.gain,f.gain)),await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},EE=(n,t)=>(i,r)=>{const o=t.get(i);if(o!==void 0)return o;const l=n.get(i);if(l!==void 0)return l;try{const c=r();return c instanceof Promise?(n.set(i,c),c.catch(()=>!1).then(h=>(n.delete(i),t.set(i,h),h))):(t.set(i,c),c)}catch{return t.set(i,!1),!1}},ME={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},OE=(n,t,i,r,o)=>class extends n{constructor(c,h){const d=r(c),f={...ME,...h},m=i(d,f),y=o(d)?t():null;super(c,!1,m,y)}},DE=(n,t,i)=>()=>{const r=new WeakMap,o=async(l,c)=>{let h=t(l);if(!He(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfInputs:h.numberOfInputs};h=n(c,f)}return r.set(c,h),await i(l,c,h),h};return{render(l,c){const h=r.get(c);return h!==void 0?Promise.resolve(h):o(l,c)}}},kE={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},RE=(n,t,i,r,o,l)=>class extends n{constructor(h,d){const f=r(h),m=l({...kE,...d}),y=i(f,m),v=o(f)?t():null;super(h,!1,y,v)}},NE=(n,t,i)=>()=>{const r=new WeakMap,o=async(l,c)=>{let h=t(l);if(!He(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfOutputs:h.numberOfOutputs};h=n(c,f)}return r.set(c,h),await i(l,c,h),h};return{render(l,c){const h=r.get(c);return h!==void 0?Promise.resolve(h):o(l,c)}}},VE=n=>(t,i,r)=>n(i,t,r),UE=n=>(t,i,r=0,o=0)=>{const l=t[r];if(l===void 0)throw n();return $u(i)?l.connect(i,0,o):l.connect(i,0)},jE=n=>(t,i)=>{const r=n(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(i),r.start(),()=>{r.stop(),r.disconnect(i)}},BE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},IE=(n,t,i,r,o,l,c)=>class extends n{constructor(d,f){const m=o(d),y={...BE,...f},v=r(m,y),_=l(m),b=_?i():null;super(d,!1,v,b),this._constantSourceNodeRenderer=b,this._nativeConstantSourceNode=v,this._offset=t(this,_,v.offset,Ye,gn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?c(this,d):null;this._nativeConstantSourceNode.onended=f;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===f?d:m}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){ea(this);const f=()=>{this._nativeConstantSourceNode.removeEventListener("ended",f),Oi(this)&&Qo(this)};this._nativeConstantSourceNode.addEventListener("ended",f)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},LE=(n,t,i,r,o)=>()=>{const l=new WeakMap;let c=null,h=null;const d=async(f,m)=>{let y=i(f);const v=He(y,m);if(!v){const _={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=t(m,_),c!==null&&y.start(c),h!==null&&y.stop(h)}return l.set(m,y),v?await n(m,f.offset,y.offset):await r(m,f.offset,y.offset),await o(f,m,y),y};return{set start(f){c=f},set stop(f){h=f},render(f,m){const y=l.get(m);return y!==void 0?Promise.resolve(y):d(f,m)}}},PE=n=>t=>(n[0]=t,n[0]),zE={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},qE=(n,t,i,r,o,l)=>class extends n{constructor(h,d){const f=r(h),m={...zE,...d},y=i(f,m),_=o(f)?t():null;super(h,!1,y,_),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(h){if(this._nativeConvolverNode.buffer=h,h===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(h){this._nativeConvolverNode.normalize=h}},FE=(n,t,i)=>()=>{const r=new WeakMap,o=async(l,c)=>{let h=t(l);if(!He(h,c)){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,disableNormalization:!h.normalize};h=n(c,f)}return r.set(c,h),ha(h)?await i(l,c,h.inputs[0]):await i(l,c,h),h};return{render(l,c){const h=r.get(c);return h!==void 0?Promise.resolve(h):o(l,c)}}},HE=(n,t)=>(i,r,o)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(i,r,o)}catch(l){throw l.name==="SyntaxError"?n():l}},GE=()=>new DOMException("","DataCloneError"),U0=n=>{const{port1:t,port2:i}=new MessageChannel;return new Promise(r=>{const o=()=>{i.onmessage=null,t.close(),i.close(),r()};i.onmessage=()=>o();try{t.postMessage(n,[n])}catch{}finally{o()}})},YE=(n,t,i,r,o,l,c,h,d,f,m)=>(y,v)=>{const _=c(y)?y:l(y);if(o.has(v)){const b=i();return Promise.reject(b)}try{o.add(v)}catch{}return t(d,()=>d(_))?_.decodeAudioData(v).then(b=>(U0(v).catch(()=>{}),t(h,()=>h(b))||m(b),n.add(b),b)):new Promise((b,x)=>{const w=async()=>{try{await U0(v)}catch{}},S=E=>{x(E),w()};try{_.decodeAudioData(v,E=>{typeof E.copyFromChannel!="function"&&(f(E),ap(E)),n.add(E),w().then(()=>b(E))},E=>{S(E===null?r():E)})}catch(E){S(E)}})},XE=(n,t,i,r,o,l,c,h)=>(d,f)=>{const m=t.get(d);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=l(d.context),v=h(y);if(m===f){if(t.delete(d),!v&&c(d)){const _=r(d),{outputs:b}=i(d);for(const x of b)if(Jo(x)){const w=r(x[0]);n(_,w,x[1],x[2])}else{const w=o(x[0]);_.connect(w,x[1])}}}else t.set(d,m-f)},WE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},ZE=(n,t,i,r,o,l,c)=>class extends n{constructor(d,f){const m=o(d),y={...WE,...f},v=r(m,y),_=l(m),b=_?i(y.maxDelayTime):null;super(d,!1,v,b),this._delayTime=t(this,_,v.delayTime),c(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},KE=(n,t,i,r,o)=>l=>{const c=new WeakMap,h=async(d,f)=>{let m=i(d);const y=He(m,f);if(!y){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=t(f,v)}return c.set(f,m),y?await n(f,d.delayTime,m.delayTime):await r(f,d.delayTime,m.delayTime),await o(d,f,m),m};return{render(d,f){const m=c.get(f);return m!==void 0?Promise.resolve(m):h(d,f)}}},QE=n=>(t,i,r,o)=>n(t[o],l=>l[0]===i&&l[1]===r),$E=n=>(t,i)=>{n(t).delete(i)},JE=n=>"delayTime"in n,tM=(n,t,i)=>function r(o,l){const c=Zu(l)?l:i(n,l);if(JE(c))return[];if(o[0]===c)return[o];if(o.includes(c))return[];const{outputs:h}=t(c);return Array.from(h).map(d=>r([...o,c],d[0])).reduce((d,f)=>d.concat(f),[])},Du=(n,t,i)=>{const r=t[i];if(r===void 0)throw n();return r},eM=n=>(t,i=void 0,r=void 0,o=0)=>i===void 0?t.forEach(l=>l.disconnect()):typeof i=="number"?Du(n,t,i).disconnect():$u(i)?r===void 0?t.forEach(l=>l.disconnect(i)):o===void 0?Du(n,t,r).disconnect(i,0):Du(n,t,r).disconnect(i,0,o):r===void 0?t.forEach(l=>l.disconnect(i)):Du(n,t,r).disconnect(i,0),nM={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},iM=(n,t,i,r,o,l,c,h)=>class extends n{constructor(f,m){const y=l(f),v={...nM,...m},_=r(y,v),b=c(y),x=b?i():null;super(f,!1,_,x),this._attack=t(this,b,_.attack),this._knee=t(this,b,_.knee),this._nativeDynamicsCompressorNode=_,this._ratio=t(this,b,_.ratio),this._release=t(this,b,_.release),this._threshold=t(this,b,_.threshold),h(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(f){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=f,f>2)throw this._nativeDynamicsCompressorNode.channelCount=m,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(f){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=f,f==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},sM=(n,t,i,r,o)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=i(h);const m=He(f,d);if(!m){const y={attack:f.attack.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,knee:f.knee.value,ratio:f.ratio.value,release:f.release.value,threshold:f.threshold.value};f=t(d,y)}return l.set(d,f),m?(await n(d,h.attack,f.attack),await n(d,h.knee,f.knee),await n(d,h.ratio,f.ratio),await n(d,h.release,f.release),await n(d,h.threshold,f.threshold)):(await r(d,h.attack,f.attack),await r(d,h.knee,f.knee),await r(d,h.ratio,f.ratio),await r(d,h.release,f.release),await r(d,h.threshold,f.threshold)),await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},rM=()=>new DOMException("","EncodingError"),aM=n=>t=>new Promise((i,r)=>{if(n===null){r(new SyntaxError);return}const o=n.document.head;if(o===null)r(new SyntaxError);else{const l=n.document.createElement("script"),c=new Blob([t],{type:"application/javascript"}),h=URL.createObjectURL(c),d=n.onerror,f=()=>{n.onerror=d,URL.revokeObjectURL(h)};n.onerror=(m,y,v,_,b)=>{if(y===h||y===n.location.href&&v===1&&_===1)return f(),r(b),!1;if(d!==null)return d(m,y,v,_,b)},l.onerror=()=>{f(),r(new SyntaxError)},l.onload=()=>{f(),i()},l.src=h,l.type="module",o.appendChild(l)}}),oM=n=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,r,o){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=n(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(i,l,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,r,o){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(i,l===void 0?null:l,o)}},lM=n=>(t,i,r)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(t*i)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},uM=n=>async t=>{try{const i=await fetch(t);if(i.ok)return[await i.text(),i.url]}catch{}throw n()},cM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},hM=(n,t,i,r,o,l)=>class extends n{constructor(h,d){const f=o(h),m={...cM,...d},y=r(f,m),v=l(f),_=v?i():null;super(h,!1,y,_),this._gain=t(this,v,y.gain,Ye,gn)}get gain(){return this._gain}},fM=(n,t,i,r,o)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=i(h);const m=He(f,d);if(!m){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:f.gain.value};f=t(d,y)}return l.set(d,f),m?await n(d,h.gain,f.gain):await r(d,h.gain,f.gain),await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},dM=(n,t)=>i=>t(n,i),pM=n=>t=>{const i=n(t);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},mM=n=>t=>{var i;return(i=n.get(t))!==null&&i!==void 0?i:0},gM=n=>t=>{const i=n(t);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},yM=n=>t=>n.get(t),De=()=>new DOMException("","InvalidStateError"),vM=n=>t=>{const i=n.get(t);if(i===void 0)throw De();return i},_M=(n,t)=>i=>{let r=n.get(i);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),n.set(i,r),r},bM=n=>t=>{const i=n.get(t);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},mc=()=>new DOMException("","InvalidAccessError"),TM=n=>{n.getFrequencyResponse=(t=>(i,r,o)=>{if(i.length!==r.length||r.length!==o.length)throw mc();return t.call(n,i,r,o)})(n.getFrequencyResponse)},SM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},xM=(n,t,i,r,o,l)=>class extends n{constructor(h,d){const f=r(h),m=o(f),y={...SM,...d},v=t(f,m?null:h.baseLatency,y),_=m?i(y.feedback,y.feedforward):null;super(h,!1,v,_),TM(v),this._nativeIIRFilterNode=v,l(this,1)}getFrequencyResponse(h,d,f){return this._nativeIIRFilterNode.getFrequencyResponse(h,d,f)}},Qb=(n,t,i,r,o,l,c,h,d,f,m)=>{const y=f.length;let v=h;for(let _=0;_<y;_+=1){let b=i[0]*f[_];for(let x=1;x<o;x+=1){const w=v-x&d-1;b+=i[x]*l[w],b-=n[x]*c[w]}for(let x=o;x<r;x+=1)b+=i[x]*l[v-x&d-1];for(let x=o;x<t;x+=1)b-=n[x]*c[v-x&d-1];l[v]=f[_],c[v]=b,v=v+1&d-1,m[_]=b}return v},wM=(n,t,i,r)=>{const o=i instanceof Float64Array?i:new Float64Array(i),l=r instanceof Float64Array?r:new Float64Array(r),c=o.length,h=l.length,d=Math.min(c,h);if(o[0]!==1){for(let b=0;b<c;b+=1)l[b]/=o[0];for(let b=1;b<h;b+=1)o[b]/=o[0]}const f=32,m=new Float32Array(f),y=new Float32Array(f),v=t.createBuffer(n.numberOfChannels,n.length,n.sampleRate),_=n.numberOfChannels;for(let b=0;b<_;b+=1){const x=n.getChannelData(b),w=v.getChannelData(b);m.fill(0),y.fill(0),Qb(o,c,l,h,d,m,y,0,f,x,w)}return v},AM=(n,t,i,r,o)=>(l,c)=>{const h=new WeakMap;let d=null;const f=async(m,y)=>{let v=null,_=t(m);const b=He(_,y);if(y.createIIRFilter===void 0?v=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):b||(_=y.createIIRFilter(c,l)),h.set(y,v===null?_:v),v!==null){if(d===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new i(m.context.destination.channelCount,m.context.length,y.sampleRate);d=(async()=>{await r(m,w,w.destination);const S=await o(w);return wM(S,y,l,c)})()}const x=await d;return v.buffer=x,v.start(0),v}return await r(m,y,_),_};return{render(m,y){const v=h.get(y);return v!==void 0?Promise.resolve(v):f(m,y)}}},CM=(n,t,i,r,o,l)=>c=>(h,d)=>{const f=n.get(h);if(f===void 0){if(!c&&l(h)){const m=r(h),{outputs:y}=i(h);for(const v of y)if(Jo(v)){const _=r(v[0]);t(m,_,v[1],v[2])}else{const _=o(v[0]);m.disconnect(_,v[1])}}n.set(h,d)}else n.set(h,f+d)},EM=(n,t)=>i=>{const r=n.get(i);return t(r)||t(i)},MM=(n,t)=>i=>n.has(i)||t(i),OM=(n,t)=>i=>n.has(i)||t(i),DM=(n,t)=>i=>{const r=n.get(i);return t(r)||t(i)},kM=n=>t=>n!==null&&t instanceof n,RM=n=>t=>n!==null&&typeof n.AudioNode=="function"&&t instanceof n.AudioNode,NM=n=>t=>n!==null&&typeof n.AudioParam=="function"&&t instanceof n.AudioParam,VM=(n,t)=>i=>n(i)||t(i),UM=n=>t=>n!==null&&t instanceof n,jM=n=>n!==null&&n.isSecureContext,BM=(n,t,i,r)=>class extends n{constructor(l,c){const h=i(l),d=t(h,c);if(r(h))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},IM={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},LM=(n,t,i,r)=>class extends n{constructor(l,c){const h=i(l);if(r(h))throw new TypeError;const d={...IM,...c},f=t(h,d);super(l,!1,f,null),this._nativeMediaStreamAudioDestinationNode=f}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},PM=(n,t,i,r)=>class extends n{constructor(l,c){const h=i(l),d=t(h,c);if(r(h))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},zM=(n,t,i)=>class extends n{constructor(o,l){const c=i(o),h=t(c,l);super(o,!0,h,null)}},qM=(n,t,i,r,o,l)=>class extends i{constructor(h,d){super(h),this._nativeContext=h,dc.set(this,h),r(h)&&o.set(h,new Set),this._destination=new n(this,d),this._listener=t(this,h),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(h){const d=typeof h=="function"?l(this,h):null;this._nativeContext.onstatechange=d;const f=this._nativeContext.onstatechange;this._onstatechange=f!==null&&f===d?h:f}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Io=n=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=n.decodeAudioData(t.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},FM=(n,t)=>(i,r,o)=>{const l=new Set;return i.connect=(c=>(h,d=0,f=0)=>{const m=l.size===0;if(t(h))return c.call(i,h,d,f),n(l,[h,d,f],y=>y[0]===h&&y[1]===d&&y[2]===f,!0),m&&r(),h;c.call(i,h,d),n(l,[h,d],y=>y[0]===h&&y[1]===d,!0),m&&r()})(i.connect),i.disconnect=(c=>(h,d,f)=>{const m=l.size>0;if(h===void 0)c.apply(i),l.clear();else if(typeof h=="number"){c.call(i,h);for(const v of l)v[1]===h&&l.delete(v)}else{t(h)?c.call(i,h,d,f):c.call(i,h,d);for(const v of l)v[0]===h&&(d===void 0||v[1]===d)&&(f===void 0||v[2]===f)&&l.delete(v)}const y=l.size===0;m&&y&&o()})(i.disconnect),i},Kt=(n,t,i)=>{const r=t[i];r!==void 0&&r!==n[i]&&(n[i]=r)},Se=(n,t)=>{Kt(n,t,"channelCount"),Kt(n,t,"channelCountMode"),Kt(n,t,"channelInterpretation")},j0=n=>typeof n.getFloatTimeDomainData=="function",HM=n=>{n.getFloatTimeDomainData=t=>{const i=new Uint8Array(t.length);n.getByteTimeDomainData(i);const r=Math.max(i.length,n.fftSize);for(let o=0;o<r;o+=1)t[o]=(i[o]-128)*.0078125;return t}},GM=(n,t)=>(i,r)=>{const o=i.createAnalyser();if(Se(o,r),!(r.maxDecibels>r.minDecibels))throw t();return Kt(o,r,"fftSize"),Kt(o,r,"maxDecibels"),Kt(o,r,"minDecibels"),Kt(o,r,"smoothingTimeConstant"),n(j0,()=>j0(o))||HM(o),o},YM=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,re=(n,t,i)=>{const r=t[i];r!==void 0&&r!==n[i].value&&(n[i].value=r)},XM=n=>{n.start=(t=>{let i=!1;return(r=0,o=0,l)=>{if(i)throw De();t.call(n,r,o,l),i=!0}})(n.start)},up=n=>{n.start=(t=>(i=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||i<0)throw new RangeError("The parameters can't be negative.");t.call(n,i,r,o)})(n.start)},cp=n=>{n.stop=(t=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");t.call(n,i)})(n.stop)},WM=(n,t,i,r,o,l,c,h,d,f,m)=>(y,v)=>{const _=y.createBufferSource();return Se(_,v),re(_,v,"playbackRate"),Kt(_,v,"buffer"),Kt(_,v,"loop"),Kt(_,v,"loopEnd"),Kt(_,v,"loopStart"),t(i,()=>i(y))||XM(_),t(r,()=>r(y))||d(_),t(o,()=>o(y))||f(_,y),t(l,()=>l(y))||up(_),t(c,()=>c(y))||m(_,y),t(h,()=>h(y))||cp(_),n(y,_),_},ZM=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,KM=(n,t)=>(i,r,o)=>{const l=i.destination;if(l.channelCount!==r)try{l.channelCount=r}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const c=n(i,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return t(c,"channelCount",h=>()=>h.call(c),h=>d=>{h.call(c,d);try{l.channelCount=d}catch(f){if(d>l.maxChannelCount)throw f}}),t(c,"channelCountMode",h=>()=>h.call(c),h=>d=>{h.call(c,d),l.channelCountMode=d}),t(c,"channelInterpretation",h=>()=>h.call(c),h=>d=>{h.call(c,d),l.channelInterpretation=d}),Object.defineProperty(c,"maxChannelCount",{get:()=>l.maxChannelCount}),c.connect(l),c},QM=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,$M=n=>{const{port1:t}=new MessageChannel;try{t.postMessage(n)}finally{t.close()}},JM=(n,t,i,r,o)=>(l,c,h,d,f,m)=>{if(h!==null)try{const y=new h(l,d,m),v=new Map;let _=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>_,set:b=>{typeof _=="function"&&y.removeEventListener("processorerror",_),_=typeof b=="function"?b:null,typeof _=="function"&&y.addEventListener("processorerror",_)}}}),y.addEventListener=(b=>(...x)=>{if(x[0]==="processorerror"){const w=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(w!==null){const S=v.get(x[1]);S!==void 0?x[1]=S:(x[1]=E=>{E.type==="error"?(Object.defineProperties(E,{type:{value:"processorerror"}}),w(E)):w(new ErrorEvent(x[0],{...E}))},v.set(w,x[1]))}}return b.call(y,"error",x[1],x[2]),b.call(y,...x)})(y.addEventListener),y.removeEventListener=(b=>(...x)=>{if(x[0]==="processorerror"){const w=v.get(x[1]);w!==void 0&&(v.delete(x[1]),x[1]=w)}return b.call(y,"error",x[1],x[2]),b.call(y,x[0],x[1],x[2])})(y.removeEventListener),m.numberOfOutputs!==0){const b=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(b).connect(l.destination),o(y,()=>b.disconnect(),()=>b.connect(l.destination))}return y}catch(y){throw y.code===11?r():y}if(f===void 0)throw r();return $M(m),t(l,c,f,m)},$b=(n,t)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*t))))),tO=n=>new Promise((t,i)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),o.close(),t(l)},r.onmessageerror=({data:l})=>{r.close(),o.close(),i(l)},o.postMessage(n)}),eO=async(n,t)=>{const i=await tO(t);return new n(i)},nO=(n,t,i,r)=>{let o=wd.get(n);o===void 0&&(o=new WeakMap,wd.set(n,o));const l=eO(i,r);return o.set(t,l),l},iO=(n,t,i,r,o,l,c,h,d,f,m,y,v)=>(_,b,x,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw d();const S=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(S.some(ut=>ut<1))throw d();if(S.length!==w.numberOfOutputs)throw t();if(w.channelCountMode!=="explicit")throw d();const E=w.channelCount*w.numberOfInputs,M=S.reduce((ut,mt)=>ut+mt,0),D=x.parameterDescriptors===void 0?0:x.parameterDescriptors.length;if(E+D>6||M>6)throw d();const C=new MessageChannel,V=[],B=[];for(let ut=0;ut<w.numberOfInputs;ut+=1)V.push(c(_,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),B.push(o(_,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const U=[];if(x.parameterDescriptors!==void 0)for(const{defaultValue:ut,maxValue:mt,minValue:Nt,name:Ft}of x.parameterDescriptors){const ht=l(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[Ft]!==void 0?w.parameterData[Ft]:ut===void 0?0:ut});Object.defineProperties(ht.offset,{defaultValue:{get:()=>ut===void 0?0:ut},maxValue:{get:()=>mt===void 0?Ye:mt},minValue:{get:()=>Nt===void 0?gn:Nt}}),U.push(ht)}const Y=r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,E+D)}),X=$b(b,_.sampleRate),K=h(_,X,E+D,Math.max(1,M)),W=o(_,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),st=[];for(let ut=0;ut<w.numberOfOutputs;ut+=1)st.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[ut]}));for(let ut=0;ut<w.numberOfInputs;ut+=1){V[ut].connect(B[ut]);for(let mt=0;mt<w.channelCount;mt+=1)B[ut].connect(Y,mt,ut*w.channelCount+mt)}const it=new Zb(x.parameterDescriptors===void 0?[]:x.parameterDescriptors.map(({name:ut},mt)=>{const Nt=U[mt];return Nt.connect(Y,0,E+mt),Nt.start(0),[ut,Nt.offset]}));Y.connect(K);let lt=w.channelInterpretation,R=null;const L=w.numberOfOutputs===0?[K]:st,Q={get bufferSize(){return X},get channelCount(){return w.channelCount},set channelCount(ut){throw i()},get channelCountMode(){return w.channelCountMode},set channelCountMode(ut){throw i()},get channelInterpretation(){return lt},set channelInterpretation(ut){for(const mt of V)mt.channelInterpretation=ut;lt=ut},get context(){return K.context},get inputs(){return V},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(ut){typeof R=="function"&&Q.removeEventListener("processorerror",R),R=typeof ut=="function"?ut:null,typeof R=="function"&&Q.addEventListener("processorerror",R)},get parameters(){return it},get port(){return C.port2},addEventListener(...ut){return K.addEventListener(ut[0],ut[1],ut[2])},connect:n.bind(null,L),disconnect:f.bind(null,L),dispatchEvent(...ut){return K.dispatchEvent(ut[0])},removeEventListener(...ut){return K.removeEventListener(ut[0],ut[1],ut[2])}},et=new Map;C.port1.addEventListener=(ut=>(...mt)=>{if(mt[0]==="message"){const Nt=typeof mt[1]=="function"?mt[1]:typeof mt[1]=="object"&&mt[1]!==null&&typeof mt[1].handleEvent=="function"?mt[1].handleEvent:null;if(Nt!==null){const Ft=et.get(mt[1]);Ft!==void 0?mt[1]=Ft:(mt[1]=ht=>{m(_.currentTime,_.sampleRate,()=>Nt(ht))},et.set(Nt,mt[1]))}}return ut.call(C.port1,mt[0],mt[1],mt[2])})(C.port1.addEventListener),C.port1.removeEventListener=(ut=>(...mt)=>{if(mt[0]==="message"){const Nt=et.get(mt[1]);Nt!==void 0&&(et.delete(mt[1]),mt[1]=Nt)}return ut.call(C.port1,mt[0],mt[1],mt[2])})(C.port1.removeEventListener);let O=null;Object.defineProperty(C.port1,"onmessage",{get:()=>O,set:ut=>{typeof O=="function"&&C.port1.removeEventListener("message",O),O=typeof ut=="function"?ut:null,typeof O=="function"&&(C.port1.addEventListener("message",O),C.port1.start())}}),x.prototype.port=C.port1;let F=null;nO(_,Q,x,w).then(ut=>F=ut);const nt=tc(w.numberOfInputs,w.channelCount),ct=tc(w.numberOfOutputs,S),at=x.parameterDescriptors===void 0?[]:x.parameterDescriptors.reduce((ut,{name:mt})=>({...ut,[mt]:new Float32Array(128)}),{});let ot=!0;const bt=()=>{w.numberOfOutputs>0&&K.disconnect(W);for(let ut=0,mt=0;ut<w.numberOfOutputs;ut+=1){const Nt=st[ut];for(let Ft=0;Ft<S[ut];Ft+=1)W.disconnect(Nt,mt+Ft,Ft);mt+=S[ut]}},rt=new Map;K.onaudioprocess=({inputBuffer:ut,outputBuffer:mt})=>{if(F!==null){const Nt=y(Q);for(let Ft=0;Ft<X;Ft+=128){for(let ht=0;ht<w.numberOfInputs;ht+=1)for(let pt=0;pt<w.channelCount;pt+=1)Ju(ut,nt[ht],pt,pt,Ft);x.parameterDescriptors!==void 0&&x.parameterDescriptors.forEach(({name:ht},pt)=>{Ju(ut,at,ht,E+pt,Ft)});for(let ht=0;ht<w.numberOfInputs;ht+=1)for(let pt=0;pt<S[ht];pt+=1)ct[ht][pt].byteLength===0&&(ct[ht][pt]=new Float32Array(128));try{const ht=nt.map((xt,ve)=>{if(Nt[ve].size>0)return rt.set(ve,X/128),xt;const Re=rt.get(ve);return Re===void 0?[]:(xt.every(In=>In.every(ln=>ln===0))&&(Re===1?rt.delete(ve):rt.set(ve,Re-1)),xt)});ot=m(_.currentTime+Ft/_.sampleRate,_.sampleRate,()=>F.process(ht,ct,at));for(let xt=0,ve=0;xt<w.numberOfOutputs;xt+=1){for(let we=0;we<S[xt];we+=1)Kb(mt,ct[xt],we,ve+we,Ft);ve+=S[xt]}}catch(ht){ot=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:ht.colno,filename:ht.filename,lineno:ht.lineno,message:ht.message}))}if(!ot){for(let ht=0;ht<w.numberOfInputs;ht+=1){V[ht].disconnect(B[ht]);for(let pt=0;pt<w.channelCount;pt+=1)B[Ft].disconnect(Y,pt,ht*w.channelCount+pt)}if(x.parameterDescriptors!==void 0){const ht=x.parameterDescriptors.length;for(let pt=0;pt<ht;pt+=1){const xt=U[pt];xt.disconnect(Y,0,E+pt),xt.stop()}}Y.disconnect(K),K.onaudioprocess=null,xe?bt():Tn();break}}}};let xe=!1;const Ke=c(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),on=()=>K.connect(Ke).connect(_.destination),Tn=()=>{K.disconnect(Ke),Ke.disconnect()},Bn=()=>{if(ot){Tn(),w.numberOfOutputs>0&&K.connect(W);for(let ut=0,mt=0;ut<w.numberOfOutputs;ut+=1){const Nt=st[ut];for(let Ft=0;Ft<S[ut];Ft+=1)W.connect(Nt,mt+Ft,Ft);mt+=S[ut]}}xe=!0},Li=()=>{ot&&(on(),bt()),xe=!1};return on(),v(Q,Bn,Li)},Jb=(n,t)=>{const i=n.createBiquadFilter();return Se(i,t),re(i,t,"Q"),re(i,t,"detune"),re(i,t,"frequency"),re(i,t,"gain"),Kt(i,t,"type"),i},sO=(n,t)=>(i,r)=>{const o=i.createChannelMerger(r.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&t(i,o),Se(o,r),o},rO=n=>{const t=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>t,set:i=>{if(i!==t)throw De()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw De()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw De()}})},tl=(n,t)=>{const i=n.createChannelSplitter(t.numberOfOutputs);return Se(i,t),rO(i),i},aO=(n,t,i,r,o)=>(l,c)=>{if(l.createConstantSource===void 0)return i(l,c);const h=l.createConstantSource();return Se(h,c),re(h,c,"offset"),t(r,()=>r(l))||up(h),t(o,()=>o(l))||cp(h),n(l,h),h},fa=(n,t)=>(n.connect=t.connect.bind(t),n.disconnect=t.disconnect.bind(t),n),oO=(n,t,i,r)=>(o,{offset:l,...c})=>{const h=o.createBuffer(1,2,44100),d=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),f=i(o,{...c,gain:l}),m=h.getChannelData(0);m[0]=1,m[1]=1,d.buffer=h,d.loop=!0;const y={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(b){f.channelCount=b},get channelCountMode(){return f.channelCountMode},set channelCountMode(b){f.channelCountMode=b},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(b){f.channelInterpretation=b},get context(){return f.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get offset(){return f.gain},get onended(){return d.onended},set onended(b){d.onended=b},addEventListener(...b){return d.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return d.dispatchEvent(b[0])},removeEventListener(...b){return d.removeEventListener(b[0],b[1],b[2])},start(b=0){d.start.call(d,b)},stop(b=0){d.stop.call(d,b)}},v=()=>d.connect(f),_=()=>d.disconnect(f);return n(o,d),r(fa(y,f),v,_)},lO=(n,t)=>(i,r)=>{const o=i.createConvolver();if(Se(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Kt(o,r,"buffer"),r.channelCount>2||(t(o,"channelCount",l=>()=>l.call(o),l=>c=>{if(c>2)throw n();return l.call(o,c)}),r.channelCountMode==="max"))throw n();return t(o,"channelCountMode",l=>()=>l.call(o),l=>c=>{if(c==="max")throw n();return l.call(o,c)}),o},tT=(n,t)=>{const i=n.createDelay(t.maxDelayTime);return Se(i,t),re(i,t,"delayTime"),i},uO=n=>(t,i)=>{const r=t.createDynamicsCompressor();if(Se(r,i),i.channelCount>2||i.channelCountMode==="max")throw n();return re(r,i,"attack"),re(r,i,"knee"),re(r,i,"ratio"),re(r,i,"release"),re(r,i,"threshold"),r},rn=(n,t)=>{const i=n.createGain();return Se(i,t),re(i,t,"gain"),i},cO=n=>(t,i,r)=>{if(t.createIIRFilter===void 0)return n(t,i,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return Se(o,r),o};function hO(n,t){const i=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/i,(n[1]*t[0]-n[0]*t[1])/i]}function fO(n,t){return[n[0]*t[0]-n[1]*t[1],n[0]*t[1]+n[1]*t[0]]}function B0(n,t){let i=[0,0];for(let r=n.length-1;r>=0;r-=1)i=fO(i,t),i[0]+=n[r];return i}const dO=(n,t,i,r)=>(o,l,{channelCount:c,channelCountMode:h,channelInterpretation:d,feedback:f,feedforward:m})=>{const y=$b(l,o.sampleRate),v=f instanceof Float64Array?f:new Float64Array(f),_=m instanceof Float64Array?m:new Float64Array(m),b=v.length,x=_.length,w=Math.min(b,x);if(b===0||b>20)throw r();if(v[0]===0)throw t();if(x===0||x>20)throw r();if(_[0]===0)throw t();if(v[0]!==1){for(let U=0;U<x;U+=1)_[U]/=v[0];for(let U=1;U<b;U+=1)v[U]/=v[0]}const S=i(o,y,c,c);S.channelCount=c,S.channelCountMode=h,S.channelInterpretation=d;const E=32,M=[],D=[],C=[];for(let U=0;U<c;U+=1){M.push(0);const Y=new Float32Array(E),X=new Float32Array(E);Y.fill(0),X.fill(0),D.push(Y),C.push(X)}S.onaudioprocess=U=>{const Y=U.inputBuffer,X=U.outputBuffer,K=Y.numberOfChannels;for(let W=0;W<K;W+=1){const st=Y.getChannelData(W),it=X.getChannelData(W);M[W]=Qb(v,b,_,x,w,D[W],C[W],M[W],E,st,it)}};const V=o.sampleRate/2;return fa({get bufferSize(){return y},get channelCount(){return S.channelCount},set channelCount(U){S.channelCount=U},get channelCountMode(){return S.channelCountMode},set channelCountMode(U){S.channelCountMode=U},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(U){S.channelInterpretation=U},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},addEventListener(...U){return S.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return S.dispatchEvent(U[0])},getFrequencyResponse(U,Y,X){if(U.length!==Y.length||Y.length!==X.length)throw n();const K=U.length;for(let W=0;W<K;W+=1){const st=-Math.PI*(U[W]/V),it=[Math.cos(st),Math.sin(st)],lt=B0(_,it),R=B0(v,it),L=hO(lt,R);Y[W]=Math.sqrt(L[0]*L[0]+L[1]*L[1]),X[W]=Math.atan2(L[1],L[0])}},removeEventListener(...U){return S.removeEventListener(U[0],U[1],U[2])}},S)},pO=(n,t)=>n.createMediaElementSource(t.mediaElement),mO=(n,t)=>{const i=n.createMediaStreamDestination();return Se(i,t),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},gO=(n,{mediaStream:t})=>{const i=t.getAudioTracks();i.sort((l,c)=>l.id<c.id?-1:l.id>c.id?1:0);const r=i.slice(0,1),o=n.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},yO=(n,t)=>(i,{mediaStreamTrack:r})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(r);const o=new MediaStream([r]),l=i.createMediaStreamSource(o);if(r.kind!=="audio")throw n();if(t(i))throw new TypeError;return l},vO=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,_O=(n,t,i,r,o,l)=>(c,h)=>{const d=c.createOscillator();return Se(d,h),re(d,h,"detune"),re(d,h,"frequency"),h.periodicWave!==void 0?d.setPeriodicWave(h.periodicWave):Kt(d,h,"type"),t(i,()=>i(c))||up(d),t(r,()=>r(c))||l(d,c),t(o,()=>o(c))||cp(d),n(c,d),d},bO=n=>(t,i)=>{const r=t.createPanner();return r.orientationX===void 0?n(t,i):(Se(r,i),re(r,i,"orientationX"),re(r,i,"orientationY"),re(r,i,"orientationZ"),re(r,i,"positionX"),re(r,i,"positionY"),re(r,i,"positionZ"),Kt(r,i,"coneInnerAngle"),Kt(r,i,"coneOuterAngle"),Kt(r,i,"coneOuterGain"),Kt(r,i,"distanceModel"),Kt(r,i,"maxDistance"),Kt(r,i,"panningModel"),Kt(r,i,"refDistance"),Kt(r,i,"rolloffFactor"),r)},TO=(n,t,i,r,o,l,c,h,d,f)=>(m,{coneInnerAngle:y,coneOuterAngle:v,coneOuterGain:_,distanceModel:b,maxDistance:x,orientationX:w,orientationY:S,orientationZ:E,panningModel:M,positionX:D,positionY:C,positionZ:V,refDistance:B,rolloffFactor:U,...Y})=>{const X=m.createPanner();if(Y.channelCount>2||Y.channelCountMode==="max")throw c();Se(X,Y);const K={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},W=i(m,{...K,channelInterpretation:"speakers",numberOfInputs:6}),st=r(m,{...Y,gain:1}),it=r(m,{...K,gain:1}),lt=r(m,{...K,gain:0}),R=r(m,{...K,gain:0}),L=r(m,{...K,gain:0}),Q=r(m,{...K,gain:0}),et=r(m,{...K,gain:0}),O=o(m,256,6,1),F=l(m,{...K,curve:new Float32Array([1,1]),oversample:"none"});let tt=[w,S,E],nt=[D,C,V];const ct=new Float32Array(1);O.onaudioprocess=({inputBuffer:rt})=>{const xe=[d(rt,ct,0),d(rt,ct,1),d(rt,ct,2)];xe.some((on,Tn)=>on!==tt[Tn])&&(X.setOrientation(...xe),tt=xe);const Ke=[d(rt,ct,3),d(rt,ct,4),d(rt,ct,5)];Ke.some((on,Tn)=>on!==nt[Tn])&&(X.setPosition(...Ke),nt=Ke)},Object.defineProperty(lt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(et.gain,"defaultValue",{get:()=>0});const at={get bufferSize(){},get channelCount(){return X.channelCount},set channelCount(rt){if(rt>2)throw c();st.channelCount=rt,X.channelCount=rt},get channelCountMode(){return X.channelCountMode},set channelCountMode(rt){if(rt==="max")throw c();st.channelCountMode=rt,X.channelCountMode=rt},get channelInterpretation(){return X.channelInterpretation},set channelInterpretation(rt){st.channelInterpretation=rt,X.channelInterpretation=rt},get coneInnerAngle(){return X.coneInnerAngle},set coneInnerAngle(rt){X.coneInnerAngle=rt},get coneOuterAngle(){return X.coneOuterAngle},set coneOuterAngle(rt){X.coneOuterAngle=rt},get coneOuterGain(){return X.coneOuterGain},set coneOuterGain(rt){if(rt<0||rt>1)throw t();X.coneOuterGain=rt},get context(){return X.context},get distanceModel(){return X.distanceModel},set distanceModel(rt){X.distanceModel=rt},get inputs(){return[st]},get maxDistance(){return X.maxDistance},set maxDistance(rt){if(rt<0)throw new RangeError;X.maxDistance=rt},get numberOfInputs(){return X.numberOfInputs},get numberOfOutputs(){return X.numberOfOutputs},get orientationX(){return it.gain},get orientationY(){return lt.gain},get orientationZ(){return R.gain},get panningModel(){return X.panningModel},set panningModel(rt){X.panningModel=rt},get positionX(){return L.gain},get positionY(){return Q.gain},get positionZ(){return et.gain},get refDistance(){return X.refDistance},set refDistance(rt){if(rt<0)throw new RangeError;X.refDistance=rt},get rolloffFactor(){return X.rolloffFactor},set rolloffFactor(rt){if(rt<0)throw new RangeError;X.rolloffFactor=rt},addEventListener(...rt){return st.addEventListener(rt[0],rt[1],rt[2])},dispatchEvent(...rt){return st.dispatchEvent(rt[0])},removeEventListener(...rt){return st.removeEventListener(rt[0],rt[1],rt[2])}};y!==at.coneInnerAngle&&(at.coneInnerAngle=y),v!==at.coneOuterAngle&&(at.coneOuterAngle=v),_!==at.coneOuterGain&&(at.coneOuterGain=_),b!==at.distanceModel&&(at.distanceModel=b),x!==at.maxDistance&&(at.maxDistance=x),w!==at.orientationX.value&&(at.orientationX.value=w),S!==at.orientationY.value&&(at.orientationY.value=S),E!==at.orientationZ.value&&(at.orientationZ.value=E),M!==at.panningModel&&(at.panningModel=M),D!==at.positionX.value&&(at.positionX.value=D),C!==at.positionY.value&&(at.positionY.value=C),V!==at.positionZ.value&&(at.positionZ.value=V),B!==at.refDistance&&(at.refDistance=B),U!==at.rolloffFactor&&(at.rolloffFactor=U),(tt[0]!==1||tt[1]!==0||tt[2]!==0)&&X.setOrientation(...tt),(nt[0]!==0||nt[1]!==0||nt[2]!==0)&&X.setPosition(...nt);const ot=()=>{st.connect(X),n(st,F,0,0),F.connect(it).connect(W,0,0),F.connect(lt).connect(W,0,1),F.connect(R).connect(W,0,2),F.connect(L).connect(W,0,3),F.connect(Q).connect(W,0,4),F.connect(et).connect(W,0,5),W.connect(O).connect(m.destination)},bt=()=>{st.disconnect(X),h(st,F,0,0),F.disconnect(it),it.disconnect(W),F.disconnect(lt),lt.disconnect(W),F.disconnect(R),R.disconnect(W),F.disconnect(L),L.disconnect(W),F.disconnect(Q),Q.disconnect(W),F.disconnect(et),et.disconnect(W),W.disconnect(O),O.disconnect(m.destination)};return f(fa(at,X),ot,bt)},SO=n=>(t,{disableNormalization:i,imag:r,real:o})=>{const l=r instanceof Float32Array?r:new Float32Array(r),c=o instanceof Float32Array?o:new Float32Array(o),h=t.createPeriodicWave(c,l,{disableNormalization:i});if(Array.from(r).length<2)throw n();return h},el=(n,t,i,r)=>n.createScriptProcessor(t,i,r),xO=(n,t)=>(i,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw t();if(i.createStereoPanner===void 0)return n(i,r);const l=i.createStereoPanner();return Se(l,r),re(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:c=>{if(c!==o)throw t()}}),l},wO=(n,t,i,r,o,l)=>{const h=new Float32Array([1,1]),d=Math.PI/2,f={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...f,oversample:"none"},y=(b,x,w,S)=>{const E=new Float32Array(16385),M=new Float32Array(16385);for(let Y=0;Y<16385;Y+=1){const X=Y/16384*d;E[Y]=Math.cos(X),M[Y]=Math.sin(X)}const D=i(b,{...f,gain:0}),C=r(b,{...m,curve:E}),V=r(b,{...m,curve:h}),B=i(b,{...f,gain:0}),U=r(b,{...m,curve:M});return{connectGraph(){x.connect(D),x.connect(V.inputs===void 0?V:V.inputs[0]),x.connect(B),V.connect(w),w.connect(C.inputs===void 0?C:C.inputs[0]),w.connect(U.inputs===void 0?U:U.inputs[0]),C.connect(D.gain),U.connect(B.gain),D.connect(S,0,0),B.connect(S,0,1)},disconnectGraph(){x.disconnect(D),x.disconnect(V.inputs===void 0?V:V.inputs[0]),x.disconnect(B),V.disconnect(w),w.disconnect(C.inputs===void 0?C:C.inputs[0]),w.disconnect(U.inputs===void 0?U:U.inputs[0]),C.disconnect(D.gain),U.disconnect(B.gain),D.disconnect(S,0,0),B.disconnect(S,0,1)}}},v=(b,x,w,S)=>{const E=new Float32Array(16385),M=new Float32Array(16385),D=new Float32Array(16385),C=new Float32Array(16385),V=Math.floor(16385/2);for(let L=0;L<16385;L+=1)if(L>V){const Q=(L-V)/(16384-V)*d;E[L]=Math.cos(Q),M[L]=Math.sin(Q),D[L]=0,C[L]=1}else{const Q=L/(16384-V)*d;E[L]=1,M[L]=0,D[L]=Math.cos(Q),C[L]=Math.sin(Q)}const B=t(b,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),U=i(b,{...f,gain:0}),Y=r(b,{...m,curve:E}),X=i(b,{...f,gain:0}),K=r(b,{...m,curve:M}),W=r(b,{...m,curve:h}),st=i(b,{...f,gain:0}),it=r(b,{...m,curve:D}),lt=i(b,{...f,gain:0}),R=r(b,{...m,curve:C});return{connectGraph(){x.connect(B),x.connect(W.inputs===void 0?W:W.inputs[0]),B.connect(U,0),B.connect(X,0),B.connect(st,1),B.connect(lt,1),W.connect(w),w.connect(Y.inputs===void 0?Y:Y.inputs[0]),w.connect(K.inputs===void 0?K:K.inputs[0]),w.connect(it.inputs===void 0?it:it.inputs[0]),w.connect(R.inputs===void 0?R:R.inputs[0]),Y.connect(U.gain),K.connect(X.gain),it.connect(st.gain),R.connect(lt.gain),U.connect(S,0,0),st.connect(S,0,0),X.connect(S,0,1),lt.connect(S,0,1)},disconnectGraph(){x.disconnect(B),x.disconnect(W.inputs===void 0?W:W.inputs[0]),B.disconnect(U,0),B.disconnect(X,0),B.disconnect(st,1),B.disconnect(lt,1),W.disconnect(w),w.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),w.disconnect(K.inputs===void 0?K:K.inputs[0]),w.disconnect(it.inputs===void 0?it:it.inputs[0]),w.disconnect(R.inputs===void 0?R:R.inputs[0]),Y.disconnect(U.gain),K.disconnect(X.gain),it.disconnect(st.gain),R.disconnect(lt.gain),U.disconnect(S,0,0),st.disconnect(S,0,0),X.disconnect(S,0,1),lt.disconnect(S,0,1)}}},_=(b,x,w,S,E)=>{if(x===1)return y(b,w,S,E);if(x===2)return v(b,w,S,E);throw o()};return(b,{channelCount:x,channelCountMode:w,pan:S,...E})=>{if(w==="max")throw o();const M=n(b,{...E,channelCount:1,channelCountMode:w,numberOfInputs:2}),D=i(b,{...E,channelCount:x,channelCountMode:w,gain:1}),C=i(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:S});let{connectGraph:V,disconnectGraph:B}=_(b,x,D,C,M);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const U={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(W){D.channelCount!==W&&(Y&&B(),{connectGraph:V,disconnectGraph:B}=_(b,W,D,C,M),Y&&V()),D.channelCount=W},get channelCountMode(){return D.channelCountMode},set channelCountMode(W){if(W==="clamped-max"||W==="max")throw o();D.channelCountMode=W},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(W){D.channelInterpretation=W},get context(){return D.context},get inputs(){return[D]},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get pan(){return C.gain},addEventListener(...W){return D.addEventListener(W[0],W[1],W[2])},dispatchEvent(...W){return D.dispatchEvent(W[0])},removeEventListener(...W){return D.removeEventListener(W[0],W[1],W[2])}};let Y=!1;const X=()=>{V(),Y=!0},K=()=>{B(),Y=!1};return l(fa(U,M),X,K)}},AO=(n,t,i,r,o,l,c)=>(h,d)=>{const f=h.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&h.createGain().gain.automationRate===void 0)return i(h,d);Se(f,d);const m=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(m!==null&&m.length<2)throw t();Kt(f,{curve:m},"curve"),Kt(f,d,"oversample");let y=null,v=!1;return c(f,"curve",x=>()=>x.call(f),x=>w=>(x.call(f,w),v&&(r(w)&&y===null?y=n(h,f):!r(w)&&y!==null&&(y(),y=null)),w)),o(f,()=>{v=!0,r(f.curve)&&(y=n(h,f))},()=>{v=!1,y!==null&&(y(),y=null)})},CO=(n,t,i,r,o)=>(l,{curve:c,oversample:h,...d})=>{const f=l.createWaveShaper(),m=l.createWaveShaper();Se(f,d),Se(m,d);const y=i(l,{...d,gain:1}),v=i(l,{...d,gain:-1}),_=i(l,{...d,gain:1}),b=i(l,{...d,gain:-1});let x=null,w=!1,S=null;const E={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(C){y.channelCount=C,v.channelCount=C,f.channelCount=C,_.channelCount=C,m.channelCount=C,b.channelCount=C},get channelCountMode(){return f.channelCountMode},set channelCountMode(C){y.channelCountMode=C,v.channelCountMode=C,f.channelCountMode=C,_.channelCountMode=C,m.channelCountMode=C,b.channelCountMode=C},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(C){y.channelInterpretation=C,v.channelInterpretation=C,f.channelInterpretation=C,_.channelInterpretation=C,m.channelInterpretation=C,b.channelInterpretation=C},get context(){return f.context},get curve(){return S},set curve(C){if(C!==null&&C.length<2)throw t();if(C===null)f.curve=C,m.curve=C;else{const V=C.length,B=new Float32Array(V+2-V%2),U=new Float32Array(V+2-V%2);B[0]=C[0],U[0]=-C[V-1];const Y=Math.ceil((V+1)/2),X=(V+1)/2-1;for(let K=1;K<Y;K+=1){const W=K/Y*X,st=Math.floor(W),it=Math.ceil(W);B[K]=st===it?C[st]:(1-(W-st))*C[st]+(1-(it-W))*C[it],U[K]=st===it?-C[V-1-st]:-((1-(W-st))*C[V-1-st])-(1-(it-W))*C[V-1-it]}B[Y]=V%2===1?C[Y-1]:(C[Y-2]+C[Y-1])/2,f.curve=B,m.curve=U}S=C,w&&(r(S)&&x===null?x=n(l,y):x!==null&&(x(),x=null))},get inputs(){return[y]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get oversample(){return f.oversample},set oversample(C){f.oversample=C,m.oversample=C},addEventListener(...C){return y.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return y.dispatchEvent(C[0])},removeEventListener(...C){return y.removeEventListener(C[0],C[1],C[2])}};c!==null&&(E.curve=c instanceof Float32Array?c:new Float32Array(c)),h!==E.oversample&&(E.oversample=h);const M=()=>{y.connect(f).connect(_),y.connect(v).connect(m).connect(b).connect(_),w=!0,r(S)&&(x=n(l,y))},D=()=>{y.disconnect(f),f.disconnect(_),y.disconnect(v),v.disconnect(m),m.disconnect(b),b.disconnect(_),w=!1,x!==null&&(x(),x=null)};return o(fa(E,_),M,D)},Ze=()=>new DOMException("","NotSupportedError"),EO={numberOfChannels:1},MO=(n,t,i,r,o)=>class extends n{constructor(c,h,d){let f;if(typeof c=="number"&&h!==void 0&&d!==void 0)f={length:h,numberOfChannels:c,sampleRate:d};else if(typeof c=="object")f=c;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:v}={...EO,...f},_=r(y,m,v);t(Io,()=>Io(_))||_.addEventListener("statechange",(()=>{let b=0;const x=w=>{this._state==="running"&&(b>0?(_.removeEventListener("statechange",x),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):b+=1)};return x})()),super(_,y),this._length=m,this._nativeOfflineAudioContext=_,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Gb(this)}))}_waitForThePromiseToSettle(c){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(c):setTimeout(()=>this._waitForThePromiseToSettle(c))}},OO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},DO=(n,t,i,r,o,l,c)=>class extends n{constructor(d,f){const m=o(d),y={...OO,...f},v=i(m,y),_=l(m),b=_?r():null,x=d.sampleRate/2;super(d,!1,v,b),this._detune=t(this,_,v.detune,153600,-153600),this._frequency=t(this,_,v.frequency,x,-x),this._nativeOscillatorNode=v,this._onended=null,this._oscillatorNodeRenderer=b,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?c(this,d):null;this._nativeOscillatorNode.onended=f;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===f?d:m}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){ea(this);const f=()=>{this._nativeOscillatorNode.removeEventListener("ended",f),Oi(this)&&Qo(this)};this._nativeOscillatorNode.addEventListener("ended",f)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},kO=(n,t,i,r,o)=>()=>{const l=new WeakMap;let c=null,h=null,d=null;const f=async(m,y)=>{let v=i(m);const _=He(v,y);if(!_){const b={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,detune:v.detune.value,frequency:v.frequency.value,periodicWave:c===null?void 0:c,type:v.type};v=t(y,b),h!==null&&v.start(h),d!==null&&v.stop(d)}return l.set(y,v),_?(await n(y,m.detune,v.detune),await n(y,m.frequency,v.frequency)):(await r(y,m.detune,v.detune),await r(y,m.frequency,v.frequency)),await o(m,y,v),v};return{set periodicWave(m){c=m},set start(m){h=m},set stop(m){d=m},render(m,y){const v=l.get(y);return v!==void 0?Promise.resolve(v):f(m,y)}}},RO={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},NO=(n,t,i,r,o,l,c)=>class extends n{constructor(d,f){const m=o(d),y={...RO,...f},v=i(m,y),_=l(m),b=_?r():null;super(d,!1,v,b),this._nativePannerNode=v,this._orientationX=t(this,_,v.orientationX,Ye,gn),this._orientationY=t(this,_,v.orientationY,Ye,gn),this._orientationZ=t(this,_,v.orientationZ,Ye,gn),this._positionX=t(this,_,v.positionX,Ye,gn),this._positionY=t(this,_,v.positionY,Ye,gn),this._positionZ=t(this,_,v.positionZ,Ye,gn),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},VO=(n,t,i,r,o,l,c,h,d,f)=>()=>{const m=new WeakMap;let y=null;const v=async(_,b)=>{let x=null,w=l(_);const S={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},E={...S,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},M=He(w,b);if("bufferSize"in w)x=r(b,{...S,gain:1});else if(!M){const D={...E,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=o(b,D)}if(m.set(b,x===null?w:x),x!==null){if(y===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const K=new c(6,_.context.length,b.sampleRate),W=t(K,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});W.connect(K.destination),y=(async()=>{const st=await Promise.all([_.orientationX,_.orientationY,_.orientationZ,_.positionX,_.positionY,_.positionZ].map(async(it,lt)=>{const R=i(K,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:lt===0?1:0});return await h(K,it,R.offset),R}));for(let it=0;it<6;it+=1)st[it].connect(W,0,it),st[it].start(0);return f(K)})()}const D=await y,C=r(b,{...S,gain:1});await d(_,b,C);const V=[];for(let K=0;K<D.numberOfChannels;K+=1)V.push(D.getChannelData(K));let B=[V[0][0],V[1][0],V[2][0]],U=[V[3][0],V[4][0],V[5][0]],Y=r(b,{...S,gain:1}),X=o(b,{...E,orientationX:B[0],orientationY:B[1],orientationZ:B[2],positionX:U[0],positionY:U[1],positionZ:U[2]});C.connect(Y).connect(X.inputs[0]),X.connect(x);for(let K=128;K<D.length;K+=128){const W=[V[0][K],V[1][K],V[2][K]],st=[V[3][K],V[4][K],V[5][K]];if(W.some((it,lt)=>it!==B[lt])||st.some((it,lt)=>it!==U[lt])){B=W,U=st;const it=K/b.sampleRate;Y.gain.setValueAtTime(0,it),Y=r(b,{...S,gain:0}),X=o(b,{...E,orientationX:B[0],orientationY:B[1],orientationZ:B[2],positionX:U[0],positionY:U[1],positionZ:U[2]}),Y.gain.setValueAtTime(1,it),C.connect(Y).connect(X.inputs[0]),X.connect(x)}}return x}return M?(await n(b,_.orientationX,w.orientationX),await n(b,_.orientationY,w.orientationY),await n(b,_.orientationZ,w.orientationZ),await n(b,_.positionX,w.positionX),await n(b,_.positionY,w.positionY),await n(b,_.positionZ,w.positionZ)):(await h(b,_.orientationX,w.orientationX),await h(b,_.orientationY,w.orientationY),await h(b,_.orientationZ,w.orientationZ),await h(b,_.positionX,w.positionX),await h(b,_.positionY,w.positionY),await h(b,_.positionZ,w.positionZ)),ha(w)?await d(_,b,w.inputs[0]):await d(_,b,w),w};return{render(_,b){const x=m.get(b);return x!==void 0?Promise.resolve(x):v(_,b)}}},UO={disableNormalization:!1},jO=(n,t,i,r)=>class eT{constructor(l,c){const h=t(l),d=r({...UO,...c}),f=n(h,d);return i.add(f),f}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===eT.prototype||i.has(l)}},BO=(n,t)=>(i,r,o)=>(n(r).replay(o),t(r,i,o)),IO=(n,t,i)=>async(r,o,l)=>{const c=n(r);await Promise.all(c.activeInputs.map((h,d)=>Array.from(h).map(async([f,m])=>{const v=await t(f).render(f,o),_=r.context.destination;!i(f)&&(r!==_||!i(r))&&v.connect(l,m,d)})).reduce((h,d)=>[...h,...d],[]))},LO=(n,t,i)=>async(r,o,l)=>{const c=t(r);await Promise.all(Array.from(c.activeInputs).map(async([h,d])=>{const m=await n(h).render(h,o);i(h)||m.connect(l,d)}))},PO=(n,t,i,r)=>o=>n(Io,()=>Io(o))?Promise.resolve(n(r,r)).then(l=>{if(!l){const c=i(o,512,0,1);o.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>o.currentTime,c.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const c=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=h=>{c.disconnect(),l(h.renderedBuffer)},c.connect(o.destination),o.startRendering()}),zO=n=>(t,i)=>{n.set(t,i)},qO=n=>(t,i)=>n.set(t,i),FO=(n,t,i,r,o,l,c,h)=>(d,f)=>i(d).render(d,f).then(()=>Promise.all(Array.from(r(f)).map(m=>i(m).render(m,f)))).then(()=>o(f)).then(m=>(typeof m.copyFromChannel!="function"?(c(m),ap(m)):t(l,()=>l(m))||h(m),n.add(m),m)),HO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},GO=(n,t,i,r,o,l)=>class extends n{constructor(h,d){const f=o(h),m={...HO,...d},y=i(f,m),v=l(f),_=v?r():null;super(h,!1,y,_),this._pan=t(this,v,y.pan)}get pan(){return this._pan}},YO=(n,t,i,r,o)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=i(h);const m=He(f,d);if(!m){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,pan:f.pan.value};f=t(d,y)}return l.set(d,f),m?await n(d,h.pan,f.pan):await r(d,h.pan,f.pan),ha(f)?await o(h,d,f.inputs[0]):await o(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},XO=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},WO=(n,t)=>async()=>{if(n===null)return!0;if(t===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(i);let l=!1,c=!1;try{await r.audioWorklet.addModule(o);const h=new n(r,"a",{numberOfOutputs:0}),d=r.createOscillator();h.port.onmessage=()=>l=!0,h.onprocessorerror=()=>c=!0,d.connect(h),d.start(0),await r.startRendering(),await new Promise(f=>setTimeout(f))}catch{}finally{URL.revokeObjectURL(o)}return l&&!c},ZO=(n,t)=>()=>{if(t===null)return Promise.resolve(!1);const i=new t(1,1,44100),r=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{r.disconnect(),o(i.currentTime!==0)},i.startRendering()})},KO=()=>new DOMException("","UnknownError"),QO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},$O=(n,t,i,r,o,l,c)=>class extends n{constructor(d,f){const m=o(d),y={...QO,...f},v=i(m,y),b=l(m)?r():null;super(d,!0,v,b),this._isCurveNullified=!1,this._nativeWaveShaperNode=v,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},JO=(n,t,i)=>()=>{const r=new WeakMap,o=async(l,c)=>{let h=t(l);if(!He(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,curve:h.curve,oversample:h.oversample};h=n(c,f)}return r.set(c,h),ha(h)?await i(l,c,h.inputs[0]):await i(l,c,h),h};return{render(l,c){const h=r.get(c);return h!==void 0?Promise.resolve(h):o(l,c)}}},tD=()=>typeof window>"u"?null:window,eD=(n,t)=>i=>{i.copyFromChannel=(r,o,l=0)=>{const c=n(l),h=n(o);if(h>=i.numberOfChannels)throw t();const d=i.length,f=i.getChannelData(h),m=r.length;for(let y=c<0?-c:0;y+c<d&&y<m;y+=1)r[y]=f[y+c]},i.copyToChannel=(r,o,l=0)=>{const c=n(l),h=n(o);if(h>=i.numberOfChannels)throw t();const d=i.length,f=i.getChannelData(h),m=r.length;for(let y=c<0?-c:0;y+c<d&&y<m;y+=1)f[y+c]=r[y]}},nD=n=>t=>{t.copyFromChannel=(i=>(r,o,l=0)=>{const c=n(l),h=n(o);if(c<t.length)return i.call(t,r,h,c)})(t.copyFromChannel),t.copyToChannel=(i=>(r,o,l=0)=>{const c=n(l),h=n(o);if(c<t.length)return i.call(t,r,h,c)})(t.copyToChannel)},iD=n=>(t,i)=>{const r=i.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),n(t,"buffer",o=>()=>{const l=o.call(t);return l===r?null:l},o=>l=>o.call(t,l===null?r:l))},sD=(n,t)=>(i,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const o=i.createBufferSource();t(r,()=>{const h=r.numberOfInputs;for(let d=0;d<h;d+=1)o.connect(r,0,d)},()=>o.disconnect(r))},nT=(n,t,i)=>n.copyFromChannel===void 0?n.getChannelData(i)[0]:(n.copyFromChannel(t,i),t[0]),iT=n=>{if(n===null)return!1;const t=n.length;return t%2!==0?n[Math.floor(t/2)]!==0:n[t/2-1]+n[t/2]!==0},nl=(n,t,i,r)=>{let o=n;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:l,set:c}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(n,t,{get:i(l),set:r(c)})},rD=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),aD=n=>({...n,channelCount:n.numberOfOutputs}),oD=n=>{const{imag:t,real:i}=n;return t===void 0?i===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(i,()=>0),real:i}:i===void 0?{...n,imag:t,real:Array.from(t,()=>0)}:{...n,imag:t,real:i}},sT=(n,t,i)=>{try{n.setValueAtTime(t,i)}catch(r){if(r.code!==9)throw r;sT(n,t,i+1e-7)}},lD=n=>{const t=n.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},uD=n=>{const t=n.createBufferSource(),i=n.createBuffer(1,1,44100);t.buffer=i;try{t.start(0,1)}catch{return!1}return!0},cD=n=>{const t=n.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},hp=n=>{const t=n.createOscillator();try{t.start(-1)}catch(i){return i instanceof RangeError}return!1},rT=n=>{const t=n.createBuffer(1,1,44100),i=n.createBufferSource();i.buffer=t,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},fp=n=>{const t=n.createOscillator();try{t.stop(-1)}catch(i){return i instanceof RangeError}return!1},hD=n=>{const{port1:t,port2:i}=new MessageChannel;try{t.postMessage(n)}finally{t.close(),i.close()}},fD=n=>{n.start=(t=>(i=0,r=0,o)=>{const l=n.buffer,c=l===null?r:Math.min(l.duration,r);l!==null&&c>l.duration-.5/n.context.sampleRate?t.call(n,i,0,0):t.call(n,i,c,o)})(n.start)},aT=(n,t)=>{const i=t.createGain();n.connect(i);const r=(o=>()=>{o.call(n,i),n.removeEventListener("ended",r)})(n.disconnect);n.addEventListener("ended",r),fa(n,i),n.stop=(o=>{let l=!1;return(c=0)=>{if(l)try{o.call(n,c)}catch{i.gain.setValueAtTime(0,c)}else o.call(n,c),l=!0}})(n.stop)},da=(n,t)=>i=>{const r={value:n};return Object.defineProperties(i,{currentTarget:r,target:r}),typeof t=="function"?t.call(n,i):t.handleEvent.call(n,i)},dD=NC(er),pD=LC(er),mD=QE(pc),oT=new WeakMap,gD=mM(oT),Yn=EE(new Map,new WeakMap),ai=tD(),lT=GM(Yn,li),dp=pM(Xe),Be=IO(Xe,dp,$s),yD=HC(lT,Wt,Be),Yt=vM(dc),ji=vO(ai),qt=UM(ji),uT=new WeakMap,cT=oM(da),il=ZM(ai),pp=kM(il),mp=RM(ai),hT=NM(ai),Lo=QM(ai),he=mE(VC(Ib),IC(dD,pD,Ku,mD,Qu,Xe,gD,Ko,Wt,er,Oi,$s,Lu),Yn,CM(Sd,Qu,Xe,Wt,Bo,Oi),li,mc,Ze,XE(Ku,Sd,Xe,Wt,Bo,Yt,Oi,qt),tM(uT,Xe,Gn),cT,Yt,pp,mp,hT,qt,Lo),vD=FC(he,yD,li,lT,Yt,qt),gp=new WeakSet,I0=YM(ai),fT=PE(new Uint32Array(1)),yp=eD(fT,li),vp=nD(fT),dT=YC(gp,Yn,Ze,I0,ji,XO(I0),yp,vp),gc=PC(rn),pT=LO(dp,$o,$s),ui=VE(pT),pa=WM(gc,Yn,lD,uD,cD,hp,rT,fp,fD,iD(nl),aT),ci=BO(gM($o),pT),_D=ZC(ui,pa,Wt,ci,Be),Xn=gE(UC(Lb),uT,rp,yE,EC,MC,OC,DC,kC,_d,jb,il,sT),bD=WC(he,_D,Xn,De,pa,Yt,qt,da),TD=sE(he,rE,li,De,KM(rn,nl),Yt,qt,Be),SD=CE(ui,Jb,Wt,ci,Be),nr=qO(oT),xD=AE(he,Xn,SD,mc,Jb,Yt,qt,nr),vs=FM(er,mp),wD=sD(De,vs),_s=sO(il,wD),AD=DE(_s,Wt,Be),CD=OE(he,AD,_s,Yt,qt),ED=NE(tl,Wt,Be),MD=RE(he,ED,tl,Yt,qt,aD),OD=oO(gc,pa,rn,vs),ma=aO(gc,Yn,OD,hp,fp),DD=LE(ui,ma,Wt,ci,Be),kD=IE(he,Xn,DD,ma,Yt,qt,da),mT=lO(Ze,nl),RD=FE(mT,Wt,Be),ND=qE(he,RD,mT,Yt,qt,nr),VD=KE(ui,tT,Wt,ci,Be),UD=ZE(he,Xn,VD,tT,Yt,qt,nr),gT=uO(Ze),jD=sM(ui,gT,Wt,ci,Be),BD=iM(he,Xn,jD,gT,Ze,Yt,qt,nr),ID=fM(ui,rn,Wt,ci,Be),LD=hM(he,Xn,ID,rn,Yt,qt),PD=dO(mc,De,el,Ze),yc=PO(Yn,rn,el,ZO(rn,ji)),zD=AM(pa,Wt,ji,Be,yc),qD=cO(PD),FD=xM(he,qD,zD,Yt,qt,nr),HD=aE(Xn,_s,ma,el,Ze,nT,qt,nl),yT=new WeakMap,GD=qM(TD,HD,cT,qt,yT,da),vT=_O(gc,Yn,hp,rT,fp,aT),YD=kO(ui,vT,Wt,ci,Be),XD=DO(he,Xn,vT,YD,Yt,qt,da),_T=jE(pa),WD=CO(_T,De,rn,iT,vs),vc=AO(_T,De,WD,iT,vs,il,nl),ZD=TO(Ku,De,_s,rn,el,vc,Ze,Qu,nT,vs),bT=bO(ZD),KD=VO(ui,_s,ma,rn,bT,Wt,ji,ci,Be,yc),QD=NO(he,Xn,bT,KD,Yt,qt,nr),$D=SO(li),JD=jO($D,Yt,new WeakSet,oD),tk=wO(_s,tl,rn,vc,Ze,vs),TT=xO(tk,Ze),ek=YO(ui,TT,Wt,ci,Be),nk=GO(he,Xn,TT,ek,Yt,qt),ik=JO(vc,Wt,Be),sk=$O(he,De,vc,ik,Yt,qt,nr),ST=jM(ai),_p=lM(ai),xT=new WeakMap,rk=_M(xT,ji),ak=ST?BC(Yn,Ze,aM(ai),_p,uM(RC),Yt,rk,qt,Lo,new WeakMap,new WeakMap,WO(Lo,ji),ai):void 0,ok=VM(pp,qt),lk=YE(gp,Yn,GE,rM,new WeakSet,Yt,ok,Wu,Io,yp,vp),wT=xE(ak,vD,dT,bD,xD,CD,MD,kD,ND,lk,UD,BD,LD,FD,GD,XD,QD,JD,nk,sk),uk=BM(he,pO,Yt,qt),ck=LM(he,mO,Yt,qt),hk=PM(he,gO,Yt,qt),fk=yO(De,qt),dk=zM(he,fk,Yt),pk=iE(wT,De,Ze,KO,uk,ck,hk,dk,il),bp=bM(yT),mk=zC(bp),AT=UE(li),gk=$E(bp),CT=eM(li),ET=new WeakMap,yk=dM(ET,Gn),vk=iO(AT,li,De,_s,tl,ma,rn,el,Ze,CT,_p,yk,vs),_k=JM(De,vk,rn,Ze,vs),bk=SE(ui,AT,pa,_s,tl,ma,rn,gk,CT,_p,Wt,Lo,ji,ci,Be,yc),Tk=yM(xT),Sk=zO(ET),L0=ST?_E(mk,he,Xn,bk,_k,Xe,Tk,Yt,qt,Lo,rD,Sk,hD,da):void 0,xk=HE(Ze,ji),wk=FO(gp,Yn,dp,bp,yc,Wu,yp,vp),Ak=MO(wT,Yn,De,xk,wk),Ck=EM(dc,pp),Ek=MM(sp,mp),Mk=OM(rp,hT),Ok=DM(dc,qt);function _n(n){return n===void 0}function Ct(n){return n!==void 0}function Dk(n){return typeof n=="function"}function ki(n){return typeof n=="number"}function fs(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function MT(n){return typeof n=="boolean"}function Vn(n){return Array.isArray(n)}function Ri(n){return typeof n=="string"}function ku(n){return Ri(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function wt(n,t){if(!n)throw new Error(t)}function ps(n,t,i=1/0){if(!(t<=n&&n<=i))throw new RangeError(`Value must be within [${t}, ${i}], got: ${n}`)}function OT(n){!n.isOffline&&n.state!=="running"&&Tp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let DT=!1,P0=!1;function z0(n){DT=n}function kk(n){_n(n)&&DT&&!P0&&(P0=!0,Tp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let kT=console;function Rk(...n){kT.log(...n)}function Tp(...n){kT.warn(...n)}function Nk(n){return new pk(n)}function Vk(n,t,i){return new Ak(n,t,i)}const yn=typeof self=="object"?self:null,Uk=yn&&(yn.hasOwnProperty("AudioContext")||yn.hasOwnProperty("webkitAudioContext"));function jk(n,t,i){return wt(Ct(L0),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof(yn==null?void 0:yn.BaseAudioContext)?yn==null?void 0:yn.AudioWorkletNode:L0)(n,t,i)}function Wn(n,t,i,r){var o=arguments.length,l=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,t,i,r);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(l=(o<3?c(l):o>3?c(t,i,l):c(t,i))||l);return o>3&&l&&Object.defineProperty(t,i,l),l}function ye(n,t,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(m){try{f(r.next(m))}catch(y){c(y)}}function d(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?l(m.value):o(m.value).then(h,d)}f((r=r.apply(n,t||[])).next())})}class Bk{constructor(t,i,r,o){this._callback=t,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(t),r=new Worker(i);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var i;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Js(n){return Mk(n)}function ds(n){return Ek(n)}function Pu(n){return Ok(n)}function Fr(n){return Ck(n)}function Ik(n){return n instanceof dT}function Lk(n,t){return n==="value"||Js(t)||ds(t)||Ik(t)}function $r(n,...t){if(!t.length)return n;const i=t.shift();if(fs(n)&&fs(i))for(const r in i)Lk(r,i[r])?n[r]=i[r]:fs(i[r])?(n[r]||Object.assign(n,{[r]:{}}),$r(n[r],i[r])):Object.assign(n,{[r]:i[r]});return $r(n,...t)}function Pk(n,t){return n.length===t.length&&n.every((i,r)=>t[r]===i)}function Tt(n,t,i=[],r){const o={},l=Array.from(t);if(fs(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(h=>Reflect.has(n,h))||($r(o,{[r]:l[0]}),i.splice(i.indexOf(r),1),l.shift())),l.length===1&&fs(l[0]))$r(o,l[0]);else for(let c=0;c<i.length;c++)Ct(l[c])&&(o[i[c]]=l[c]);return $r(n,o)}function zk(n){return n.constructor.getDefaults()}function ei(n,t){return _n(n)?t:n}function q0(n,t){return t.forEach(i=>{Reflect.has(n,i)&&delete n[i]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Bi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||yn&&this.toString()===yn.TONE_DEBUG_CLASS)&&Rk(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Bi.version=Ub;const Sp=1e-6;function na(n,t){return n>t+Sp}function Ed(n,t){return na(n,t)||Fn(n,t)}function ec(n,t){return n+Sp<t}function Fn(n,t){return Math.abs(n-t)<Sp}function qk(n,t,i){return Math.max(Math.min(n,i),t)}class Un extends Bi{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Tt(Un.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(wt(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];wt(Ed(t.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const i=this._search(t.time);this._timeline.splice(i+1,0,t)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(t){const i=this._timeline.indexOf(t);return i!==-1&&this._timeline.splice(i,1),this}get(t,i="time"){const r=this._search(t,i);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,i="time"){const r=this._search(t,i);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(t){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<t)return this._timeline[i-1];const r=this._search(t);return r-1>=0?this._timeline[r-1]:null}cancel(t){if(this._timeline.length>1){let i=this._search(t);if(i>=0)if(Fn(this._timeline[i].time,t)){for(let r=i;r>=0&&Fn(this._timeline[r].time,t);r--)i=r;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&Ed(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const i=this._search(t);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(t){const i=this._timeline.indexOf(t);return i>0?this._timeline[i-1]:null}_search(t,i="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][i]<=t)return o-1;for(;r<l;){let c=Math.floor(r+(l-r)/2);const h=this._timeline[c],d=this._timeline[c+1];if(Fn(h[i],t)){for(let f=c;f<this._timeline.length;f++){const m=this._timeline[f];if(Fn(m[i],t))c=f;else break}return c}else{if(ec(h[i],t)&&na(d[i],t))return c;na(h[i],t)?l=c:r=c+1}}return-1}_iterate(t,i=0,r=this._timeline.length-1){this._timeline.slice(i,r+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,i){const r=this._search(t);return r!==-1&&this._iterate(i,0,r),this}forEachAfter(t,i){const r=this._search(t);return this._iterate(i,r+1),this}forEachBetween(t,i,r){let o=this._search(t),l=this._search(i);return o!==-1&&l!==-1?(this._timeline[o].time!==t&&(o+=1),this._timeline[l].time===i&&(l-=1),this._iterate(r,o,l)):o===-1&&this._iterate(r,0,l),this}forEachFrom(t,i){let r=this._search(t);for(;r>=0&&this._timeline[r].time>=t;)r--;return this._iterate(i,r+1),this}forEachAtTime(t,i){const r=this._search(t);if(r!==-1&&Fn(this._timeline[r].time,t)){let o=r;for(let l=r;l>=0&&Fn(this._timeline[l].time,t);l--)o=l;this._iterate(l=>{i(l)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const RT=[];function _c(n){RT.push(n)}function Fk(n){RT.forEach(t=>t(n))}const NT=[];function bc(n){NT.push(n)}function Hk(n){NT.forEach(t=>t(n))}class sl extends Bi{constructor(){super(...arguments),this.name="Emitter"}on(t,i){return t.split(/\W+/).forEach(o=>{_n(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(t,i){const r=(...o)=>{i(...o),this.off(t,r)};return this.on(t,r),this}off(t,i){return t.split(/\W+/).forEach(o=>{if(_n(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(_n(i))this._events[o]=[];else{const l=this._events[o];for(let c=l.length-1;c>=0;c--)l[c]===i&&l.splice(c,1)}}),this}emit(t,...i){if(this._events&&this._events.hasOwnProperty(t)){const r=this._events[t].slice(0);for(let o=0,l=r.length;o<l;o++)r[o].apply(this,i)}return this}static mixin(t){["on","once","off","emit"].forEach(i=>{const r=Object.getOwnPropertyDescriptor(sl.prototype,i);Object.defineProperty(t.prototype,i,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class VT extends sl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class rl extends VT{constructor(){var t,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new Un,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Tt(rl.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=Nk({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new Bk(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Fk(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,i,r){return this._context.createBuffer(t,i,r)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,i){return this._context.createIIRFilter(t,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,i,r){return this._context.createPeriodicWave(t,i,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return wt(Fr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return wt(Fr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return wt(Fr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){wt(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){wt(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){wt(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){wt(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,i){return jk(this.rawContext,t,i)}addAudioWorkletModule(t){return ye(this,void 0,void 0,function*(){wt(Ct(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return ye(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Fr(this._context)?this._context.resume():Promise.resolve()}close(){return ye(this,void 0,void 0,function*(){Fr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Hk(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const i=this._context.createBuffer(1,128,this._context.sampleRate),r=i.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=t;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(t,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();this._timeouts.forEachBefore(t,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(t,i){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:r+i}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(i=>{i.id===t&&this._timeouts.remove(i)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,i){const r=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{t(),o()},id:r,time:l+i})};return o(),r}}class Gk extends VT{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,i,r){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,i){return{}}createPanner(){return{}}createPeriodicWave(t,i,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,i){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return ye(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,i){return 0}clearTimeout(t){return this}setInterval(t,i){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function ae(n,t){Vn(t)?t.forEach(i=>ae(n,i)):Object.defineProperty(n,t,{enumerable:!0,writable:!1})}function UT(n,t){Vn(t)?t.forEach(i=>UT(n,i)):Object.defineProperty(n,t,{writable:!0})}const It=()=>{};class Xt extends Bi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=It;const t=Tt(Xt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Ri(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:It,onload:It,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:nn().sampleRate}set(t){return t instanceof Xt?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return ye(this,void 0,void 0,function*(){const i=Xt.load(t).then(r=>{this.set(r),this.onload(this)});Xt.downloads.push(i);try{yield i}finally{const r=Xt.downloads.indexOf(i);Xt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const i=Vn(t)&&t[0].length>0,r=i?t.length:1,o=i?t[0].length:t.length,l=nn(),c=l.createBuffer(r,o,l.sampleRate),h=!i&&r===1?[t]:t;for(let d=0;d<r;d++)c.copyToChannel(h[d],d);return this._buffer=c,this}toMono(t){if(ki(t))this.fromArray(this.toArray(t));else{let i=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const l=this.toArray(o);for(let c=0;c<l.length;c++)i[c]+=l[c]}i=i.map(o=>o/r),this.fromArray(i)}return this}toArray(t){if(ki(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let r=0;r<this.numberOfChannels;r++)i[r]=this.getChannelData(r);return i}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,i=this.duration){wt(this.loaded,"Buffer is not loaded");const r=Math.floor(t*this.sampleRate),o=Math.floor(i*this.sampleRate);wt(r<o,"The start time must be less than the end time");const l=o-r,c=nn().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let h=0;h<this.numberOfChannels;h++)c.copyToChannel(this.getChannelData(h).subarray(r,o),h);return new Xt(c)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new Xt().fromArray(t)}static fromUrl(t){return ye(this,void 0,void 0,function*(){return yield new Xt().load(t)})}static load(t){return ye(this,void 0,void 0,function*(){const i=Xt.baseUrl===""||Xt.baseUrl.endsWith("/")?Xt.baseUrl:Xt.baseUrl+"/",r=yield fetch(i+t);if(!r.ok)throw new Error(`could not load url: ${t}`);const o=yield r.arrayBuffer();return yield nn().decodeAudioData(o)})}static supportsType(t){const i=t.split("."),r=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return ye(this,void 0,void 0,function*(){for(yield Promise.resolve();Xt.downloads.length;)yield Xt.downloads[0]})}}Xt.baseUrl="";Xt.downloads=[];class xp extends rl{constructor(){super({clockSource:"offline",context:Pu(arguments[0])?arguments[0]:Vk(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Pu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Pu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return ye(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const r=Math.floor(this.sampleRate/128);t&&i%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return ye(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const i=yield this._context.startRendering();return new Xt(i)})}close(){return Promise.resolve()}}const jT=new Gk;let Ys=jT;function nn(){return Ys===jT&&Uk&&Yk(new rl),Ys}function Yk(n,t=!1){t&&Ys.dispose(),Fr(n)?Ys=new rl(n):Pu(n)?Ys=new xp(n):Ys=n}function BT(){return Ys.resume()}if(yn&&!yn.TONE_SILENCE_LOGGING){const t=` * Tone.js v${Ub} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Xk(n){return Math.pow(10,n/20)}function Wk(n){return 20*(Math.log(n)/Math.LN10)}function IT(n){return Math.pow(2,n/12)}let Tc=440;function Zk(){return Tc}function Kk(n){Tc=n}function Xs(n){return Math.round(LT(n))}function LT(n){return 69+12*Math.log2(n/Tc)}function PT(n){return Tc*Math.pow(2,(n-69)/12)}class wp extends Bi{constructor(t,i,r){super(),this.defaultUnits="s",this._val=i,this._units=r,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,i)=>{const r=parseInt(t,10),o=i==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const i=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,i,r)=>{let o=0;return t&&t!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof wp&&this.fromType(this._val),_n(this._val))return this._noArg();if(Ri(this._val)&&_n(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(fs(this._val)){let t=0;for(const i in this._val)if(Ct(this._val[i])){const r=this._val[i],o=new this.constructor(this.context,i).valueOf()*r;t+=o}return t}if(Ct(this._units)){const t=this._expressions[this._units],i=this._val.toString().trim().match(t.regexp);return i?t.method.apply(this,i.slice(1)):t.method.call(this,this._val)}else return Ri(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Hn extends wp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const i=new Hn(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(t,i=1){const r=new this.constructor(this.context,t).valueOf(),o=this.valueOf(),h=Math.round(o/r)*r-o;return o+h*i}toNotation(){const t=this.toSeconds(),i=["1m"];for(let l=1;l<9;l++){const c=Math.pow(2,l);i.push(c+"n."),i.push(c+"n"),i.push(c+"t")}i.push("0");let r=i[0],o=new Hn(this.context,i[0]).toSeconds();return i.forEach(l=>{const c=new Hn(this.context,l).toSeconds();Math.abs(c-t)<Math.abs(o-t)&&(r=l,o=c)}),r}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let i=this.valueOf()/t;i=parseFloat(i.toFixed(4));const r=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[r,i,o].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Xs(this.toFrequency())}_now(){return this.context.now()}}class vn extends Hn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Zk()}static set A4(t){Kk(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:vn.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,i){const o=Qk[t.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:vn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,i,r){let o=1;return t&&t!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(t){return new vn(this.context,this.valueOf()*IT(t))}harmonize(t){return t.map(i=>this.transpose(i))}toMidi(){return Xs(this.valueOf())}toNote(){const t=this.toFrequency(),i=Math.log2(t/vn.A4);let r=Math.round(12*i)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),$k[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return PT(t)}static ftom(t){return Xs(t)}}const Qk={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},$k=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Jr extends Hn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qe extends Bi{constructor(){super();const t=Tt(qe.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:nn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return kk(t),new Hn(this.context,t).toSeconds()}toFrequency(t){return new vn(this.context,t).toFrequency()}toTicks(t){return new Jr(this.context,t).toTicks()}_getPartialProperties(t){const i=this.get();return Object.keys(i).forEach(r=>{_n(t[r])&&delete i[r]}),i}get(){const t=zk(this);return Object.keys(t).forEach(i=>{if(Reflect.has(this,i)){const r=this[i];Ct(r)&&Ct(r.value)&&Ct(r.setValueAtTime)?t[i]=r.value:r instanceof qe?t[i]=r._getPartialProperties(t[i]):Vn(r)||ki(r)||Ri(r)||MT(r)?t[i]=r:delete t[i]}}),t}set(t){return Object.keys(t).forEach(i=>{Reflect.has(this,i)&&Ct(this[i])&&(this[i]&&Ct(this[i].value)&&Ct(this[i].setValueAtTime)?this[i].value!==t[i]&&(this[i].value=t[i]):this[i]instanceof qe?this[i].set(t[i]):this[i]=t[i])}),this}}class al extends Un{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const i=this.get(t);return i!==null?i.state:this._initial}setStateAtTime(t,i,r){return ps(i,0),this.add(Object.assign({},r,{state:t,time:i})),this}getLastState(t,i){const r=this._search(i);for(let o=r;o>=0;o--){const l=this._timeline[o];if(l.state===t)return l}}getNextState(t,i){const r=this._search(i);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===t)return l}}}class $t extends qe{constructor(){const t=Tt($t.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,wt(Ct(t.param)&&(Js(t.param)||t.param instanceof $t),"param must be an AudioParam");!Js(t.param);)t.param=t.param._param;this._swappable=Ct(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Un(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Ct(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qe.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Ct(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ct(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,i){return this.units===i}_assertRange(t){return Ct(this.maxValue)&&Ct(this.minValue)&&ps(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Xk(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?Wk(t):t}setValueAtTime(t,i){const r=this.toSeconds(i),o=this._fromType(t);return wt(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",t,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(t){const i=Math.max(this.toSeconds(t),0),r=this._events.getAfter(i),o=this._events.get(i);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const c=this._events.getBefore(o.time);let h;c===null?h=this._initialValue:h=c.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,h,o.value,o.constant,i))}else if(r===null)l=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let c=o.value;if(o.type==="setTargetAtTime"){const h=this._events.getBefore(o.time);h===null?c=this._initialValue:c=h.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,c,r.time,r.value,i):l=this._exponentialInterpolate(o.time,c,r.time,r.value,i)}else l=o.value;return this._toType(l)}setRampPoint(t){t=this.toSeconds(t);let i=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,t),this}linearRampToValueAtTime(t,i){const r=this._fromType(t),o=this.toSeconds(i);return wt(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",t,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(t,i){let r=this._fromType(t);r=Fn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(i);return wt(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",t,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(t,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(t,r+this.toSeconds(i)),this}linearRampTo(t,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(t,r+this.toSeconds(i)),this}targetRampTo(t,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(t,r,i),this}exponentialApproachValueAtTime(t,i,r){i=this.toSeconds(i),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(t,i,o),this.cancelAndHoldAtTime(i+r*.9),this.linearRampToValueAtTime(t,i+r),this}setTargetAtTime(t,i,r){const o=this._fromType(t);wt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(i);return this._assertRange(o),wt(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",t,l,r),this._param.setTargetAtTime(o,l,r),this}setValueCurveAtTime(t,i,r,o=1){r=this.toSeconds(r),i=this.toSeconds(i);const l=this._fromType(t[0])*o;this.setValueAtTime(this._toType(l),i);const c=r/(t.length-1);for(let h=1;h<t.length;h++){const d=this._fromType(t[h])*o;this.linearRampToValueAtTime(this._toType(d),i+h*c)}return this}cancelScheduledValues(t){const i=this.toSeconds(t);return wt(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(t){const i=this.toSeconds(t),r=this._fromType(this.getValueAtTime(i));wt(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+r);const o=this._events.get(i),l=this._events.getAfter(i);return o&&Fn(o.time,i)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),i):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),i)),this._events.add({time:i,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,i),this}rampTo(t,i=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,i,r):this.linearRampTo(t,i,r),this}apply(t){const i=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(i),i);const r=this._events.get(i);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),l=o?o.time:i+2,c=(l-i)/10;for(let h=i;h<l;h+=c)t.linearRampToValueAtTime(this.getValueAtTime(h),h)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?t.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?t.setTargetAtTime(o.value,o.time,o.constant):t[o.type](o.value,o.time)}),this}setParam(t){wt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(t),this._param=t,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,i,r,o,l){return r+(i-r)*Math.exp(-(l-t)/o)}_linearInterpolate(t,i,r,o,l){return i+(o-i)*((l-t)/(r-t))}_exponentialInterpolate(t,i,r,o,l){return i*Math.pow(o/i,(l-t)/(r-t))}}class Dt extends qe{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ct(this.input)?Js(this.input)||this.input instanceof $t?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ct(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Ct(t)&&(t instanceof Dt||ds(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(r=>{r.channelCount=t.channelCount,r.channelCountMode=t.channelCountMode,r.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();wt(t.length>0,"ToneAudioNode does not have any internal nodes");const i=t[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:t}))}connect(t,i=0,r=0){return ga(this,t,i,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Tp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,i=0,r=0){return Jk(this,t,i,r),this}chain(...t){return Md(this,...t),this}fan(...t){return t.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),Ct(this.input)&&(this.input instanceof Dt?this.input.dispose():ds(this.input)&&this.input.disconnect()),Ct(this.output)&&(this.output instanceof Dt?this.output.dispose():ds(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Md(...n){const t=n.shift();n.reduce((i,r)=>(i instanceof Dt?i.connect(r):ds(i)&&ga(i,r),r),t)}function ga(n,t,i=0,r=0){for(wt(Ct(n),"Cannot connect from undefined node"),wt(Ct(t),"Cannot connect to undefined node"),(t instanceof Dt||ds(t))&&wt(t.numberOfInputs>0,"Cannot connect to node with no inputs"),wt(n.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Dt||t instanceof $t;)Ct(t.input)&&(t=t.input);for(;n instanceof Dt;)Ct(n.output)&&(n=n.output);Js(t)?n.connect(t,i):n.connect(t,i,r)}function Jk(n,t,i=0,r=0){if(Ct(t))for(;t instanceof Dt;)t=t.input;for(;!ds(n);)Ct(n.output)&&(n=n.output);Js(t)?n.disconnect(t,i):ds(t)?n.disconnect(t,i,r):n.disconnect()}class Fe extends Dt{constructor(){const t=Tt(Fe.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new $t({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),ae(this,"gain")}static getDefaults(){return Object.assign(Dt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ia extends Dt{constructor(t){super(t),this.onended=It,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Fe({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const r=this.toSeconds(i);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Dt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:It})}_startGain(t,i=1){wt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=t+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,t+r):this._gainNode.gain.exponentialApproachValueAtTime(i,t,r)):this._gainNode.gain.setValueAtTime(i,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){wt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,t):this._gainNode.gain.targetRampTo(0,i,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==It&&(this.onended(this),this.onended=It,!this.context.isOffline)){const t=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(t):setTimeout(t,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),wt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=It,this}}class Ap extends ia{constructor(){const t=Tt(Ap.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ga(this._source,this._gainNode),this.offset=new $t({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(ia.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const i=this.toSeconds(t);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ke extends Dt{constructor(){const t=Tt(ke.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ap({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Dt.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,i=0,r=0){return Cp(this,t,i,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,i){return this._param.setValueAtTime(t,i),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,i){return this._param.linearRampToValueAtTime(t,i),this}exponentialRampToValueAtTime(t,i){return this._param.exponentialRampToValueAtTime(t,i),this}exponentialRampTo(t,i,r){return this._param.exponentialRampTo(t,i,r),this}linearRampTo(t,i,r){return this._param.linearRampTo(t,i,r),this}targetRampTo(t,i,r){return this._param.targetRampTo(t,i,r),this}exponentialApproachValueAtTime(t,i,r){return this._param.exponentialApproachValueAtTime(t,i,r),this}setTargetAtTime(t,i,r){return this._param.setTargetAtTime(t,i,r),this}setValueCurveAtTime(t,i,r,o){return this._param.setValueCurveAtTime(t,i,r,o),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,i,r){return this._param.rampTo(t,i,r),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Cp(n,t,i,r){(t instanceof $t||Js(t)||t instanceof ke&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof ke&&(t.overridden=!0)),ga(n,t,i,r)}class Ep extends $t{constructor(){const t=Tt(Ep.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new Un(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign($t.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,i,r){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(t),l=this._events.get(i),c=Math.round(Math.max(1/r,1));for(let h=0;h<=c;h++){const d=r*h+i,f=this._exponentialApproach(l.time,l.value,o,r,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}setValueAtTime(t,i){const r=this.toSeconds(i);super.setValueAtTime(t,i);const o=this._events.get(r),l=this._events.previousEvent(o),c=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(c,0),this}linearRampToValueAtTime(t,i){const r=this.toSeconds(i);super.linearRampToValueAtTime(t,i);const o=this._events.get(r),l=this._events.previousEvent(o),c=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(c,0),this}exponentialRampToValueAtTime(t,i){i=this.toSeconds(i);const r=this._fromType(t),o=this._events.get(i),l=Math.round(Math.max((i-o.time)*10,1)),c=(i-o.time)/l;for(let h=0;h<=l;h++){const d=c*h+o.time,f=this._exponentialInterpolate(o.time,o.value,i,r,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}_getTicksUntilEvent(t,i){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(_n(t.ticks)){const c=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(c,t.time)}const r=this._fromType(this.getValueAtTime(t.time));let o=this._fromType(this.getValueAtTime(i));const l=this._events.get(i);return l&&l.time===i&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-t.time)*(r+o)+t.ticks}getTicksAtTime(t){const i=this.toSeconds(t),r=this._events.get(i);return Math.max(this._getTicksUntilEvent(r,i),0)}getDurationOfTicks(t,i){const r=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+t)-r}getTimeOfTick(t){const i=this._events.get(t,"ticks"),r=this._events.getAfter(t,"ticks");if(i&&i.ticks===t)return i.time;if(i&&r&&r.type==="linearRampToValueAtTime"&&i.value!==r.value){const o=this._fromType(this.getValueAtTime(i.time)),c=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-i.time),h=Math.sqrt(Math.pow(o,2)-2*c*(i.ticks-t)),d=(-o+h)/c,f=(-o-h)/c;return(d>0?d:f)+i.time}else return i?i.value===0?1/0:i.time+(t-i.ticks)/i.value:t/this._initialValue}ticksToTime(t,i){return this.getDurationOfTicks(t,i)}timeToTicks(t,i){const r=this.toSeconds(i),o=this.toSeconds(t),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-l}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const i=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Mp extends ke{constructor(){const t=Tt(Mp.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new Ep({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(ke.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,i){return this._param.ticksToTime(t,i)}timeToTicks(t,i){return this._param.timeToTicks(t,i)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,i){return this._param.getDurationOfTicks(t,i)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Op extends qe{constructor(){const t=Tt(Op.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new al,this._tickOffset=new Un,this._ticksAtTime=new Un,this._secondsAtTime=new Un,this.frequency=new Mp({context:this.context,units:t.units,value:t.frequency}),ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qe.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,i){const r=this.toSeconds(t);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Ct(i)&&this.setTicksAtTime(i,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="stopped"){const r=this._state.get(i);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const i=this.toSeconds(t),r=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),l={state:"paused",time:i};this._state.add(l);let c=o||r,h=o?o.ticks:0,d=null;return this._state.forEachBetween(c.time,i+this.sampleTime,f=>{let m=c.time;const y=this._tickOffset.get(f.time);y&&y.time>=c.time&&(h=y.ticks,m=y.time),c.state==="started"&&f.state!=="started"&&(h+=this.frequency.getTicksAtTime(f.time)-this.frequency.getTicksAtTime(m),f.time!==l.time&&(d={state:f.state,time:f.time,ticks:h})),c=f}),this._state.remove(l),d&&this._ticksAtTime.add(d),h}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const i=this.now(),r=this.frequency.timeToTicks(t,i);this.setTicksAtTime(r,i)}getSecondsAtTime(t){t=this.toSeconds(t);const i=this._state.getLastState("stopped",t),r={state:"paused",time:t};this._state.add(r);const o=this._secondsAtTime.get(t);let l=o||i,c=o?o.seconds:0,h=null;return this._state.forEachBetween(l.time,t+this.sampleTime,d=>{let f=l.time;const m=this._tickOffset.get(d.time);m&&m.time>=l.time&&(c=m.seconds,f=m.time),l.state==="started"&&d.state!=="started"&&(c+=d.time-f,d.time!==r.time&&(h={state:d.state,time:d.time,seconds:c})),l=d}),this._state.remove(r),h&&this._secondsAtTime.add(h),c}setTicksAtTime(t,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,i),ticks:t,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,i=this.now()){const r=this._tickOffset.get(i),o=this._state.get(i),l=Math.max(r.time,o.time),c=this.frequency.getTicksAtTime(l)+t-r.ticks;return this.frequency.getTimeOfTick(c)}forEachTickBetween(t,i,r){let o=this._state.get(t);this._state.forEachBetween(t,i,c=>{o&&o.state==="started"&&c.state!=="started"&&this.forEachTickBetween(Math.max(o.time,t),c.time-this.sampleTime,r),o=c});let l=null;if(o&&o.state==="started"){const c=Math.max(o.time,t),h=this.frequency.getTicksAtTime(c),d=this.frequency.getTicksAtTime(o.time),f=h-d;let m=Math.ceil(f)-f;m=Fn(m,1)?0:m;let y=this.frequency.getTimeOfTick(h+m);for(;y<i;){try{r(y,Math.round(this.getTicksAtTime(y)))}catch(v){l=v;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Sc extends qe{constructor(){const t=Tt(Sc.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=It,this._lastUpdate=0,this._state=new al("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new Op({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qe.getDefaults(),{callback:It,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,i){OT(this.context);const r=this.toSeconds(t);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,i),r<this._lastUpdate&&this.emit("start",r,i)),this}stop(t){const i=this.toSeconds(t);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,i){return this._tickSource.setTicksAtTime(t,i),this}getTimeOfTick(t,i=this.now()){return this._tickSource.getTimeOfTick(t,i)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,i){const r=this.toSeconds(i),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+t,r)}_loop(){const t=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",t,i),t!==i&&(this._state.forEachBetween(t,i,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(t,i,(r,o)=>{this.callback(r,o)}))}getStateAtTime(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}sl.mixin(Sc);class ya extends Dt{constructor(){const t=Tt(ya.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new Fe({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,ae(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Dt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Dp extends Dt{constructor(){const t=Tt(Dp.getDefaults(),arguments);super(t),this.name="Destination",this.input=new ya({context:this.context}),this.output=new Fe({context:this.context}),this.volume=this.input.volume,Md(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Dt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Md(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}_c(n=>{n.destination=new Dp({context:n})});bc(n=>{n.destination.dispose()});class tR extends Dt{constructor(){super(...arguments),this.name="Listener",this.positionX=new $t({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new $t({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new $t({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new $t({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new $t({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new $t({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new $t({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new $t({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new $t({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Dt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}_c(n=>{n.listener=new tR({context:n})});bc(n=>{n.listener.dispose()});class kp extends Bi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Tt(kp.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(i=>{this._loadingCount++;const r=t.urls[i];this.add(i,r,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:It,onload:It,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return wt(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,i])=>i.loaded)}add(t,i,r=It,o=It){return Ri(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new Xt(this.baseUrl+i,r,o))):this._buffers.set(t.toString(),new Xt(i,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Rp extends vn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Xs(super._frequencyToUnits(t))}_ticksToUnits(t){return Xs(super._ticksToUnits(t))}_beatsToUnits(t){return Xs(super._beatsToUnits(t))}_secondsToUnits(t){return Xs(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return PT(this.toMidi())}transpose(t){return new Rp(this.context,this.toMidi()+t)}}function eR(n,t){return new Rp(nn(),n,t)}class Te extends Jr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class nR extends qe{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Un,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,i){return this._events.add({callback:t,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;this._events.forEachBefore(t+this.anticipation,i=>{t-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}_c(n=>{n.draw=new nR({context:n})});bc(n=>{n.draw.dispose()});class iR extends Bi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){wt(Ct(t.time),"Events must have a time property"),wt(Ct(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let i=new sR(t.time,t.time+t.duration,t);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(t){if(this._root!==null){const i=[];this._root.search(t.time,i);for(const r of i)if(r.event===t){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,i=>this.remove(i)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,i){t.parent!==null?(t.isLeftChild()?t.parent.left=i:t.parent.right=i,this._rebalance(t.parent)):this._setRoot(i)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const i=t.getBalance();let r,o=null;if(i>0)if(t.left.right===null)r=t.left,r.right=t.right,o=r;else{for(r=t.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=t.left,r.right=t.right)}else if(t.right.left===null)r=t.right,r.left=t.left,o=r;else{for(r=t.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=t.left,r.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=r:t.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}t.dispose()}_rotateLeft(t){const i=t.parent,r=t.isLeftChild(),o=t.right;o&&(t.right=o.left,o.left=t),i!==null?r?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(t){const i=t.parent,r=t.isLeftChild(),o=t.left;o&&(t.left=o.right,o.right=t),i!==null?r?i.left=o:i.right=o:this._setRoot(o)}_rebalance(t){const i=t.getBalance();i>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):i<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const i=[];if(this._root.search(t,i),i.length>0){let r=i[0];for(let o=1;o<i.length;o++)i[o].low>r.low&&(r=i[o]);return r.event}}return null}forEach(t){if(this._root!==null){const i=[];this._root.traverse(r=>i.push(r)),i.forEach(r=>{r.event&&t(r.event)})}return this}forEachAtTime(t,i){if(this._root!==null){const r=[];this._root.search(t,r),r.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(t,i){if(this._root!==null){const r=[];this._root.searchAfter(t,r),r.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class sR{constructor(t,i,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=t,this.high=i,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,i){t>this.max||(this.left!==null&&this.left.search(t,i),this.low<=t&&this.high>t&&i.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,i))}searchAfter(t,i){this.low>=t&&(i.push(this),this.left!==null&&this.left.searchAfter(t,i)),this.right!==null&&this.right.searchAfter(t,i)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class rR extends Bi{constructor(t){super(),this.name="TimelineValue",this._timeline=new Un({memory:10}),this._initialValue=t}set(t,i){return this._timeline.add({value:t,time:i}),this}get(t){const i=this._timeline.get(t);return i?i.value:this._initialValue}}class sa extends Dt{constructor(){super(Tt(sa.getDefaults(),arguments,["context"]))}connect(t,i=0,r=0){return Cp(this,t,i,r),this}}class ol extends sa{constructor(){const t=Tt(ol.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Vn(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Dk(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(ke.getDefaults(),{length:1024})}setMap(t,i=1024){const r=new Float32Array(i);for(let o=0,l=i;o<l;o++){const c=o/(l-1)*2-1;r[o]=t(c,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const i=["none","2x","4x"].some(r=>r.includes(t));wt(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Np extends sa{constructor(){const t=Tt(Np.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new ol({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(sa.getDefaults(),{value:1})}_expFunc(t){return i=>Math.pow(Math.abs(i),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ms{constructor(t,i){this.id=ms._eventId++,this._remainderTime=0;const r=Object.assign(ms.getDefaults(),i);this.transport=t,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:It,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ms._eventId=0;class Vp extends ms{constructor(t,i){super(t,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Vp.getDefaults(),i);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ms.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return ec(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Te(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){ec(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Te(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(t);na(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class xc extends qe{constructor(){const t=Tt(xc.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new rR(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Un,this._repeatedEvents=new iR,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new Sc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),ae(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(qe.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,i){if(this._loop.get(t)&&i>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),i=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const r=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;t+=new Te(this.context,this._swingTicks*2/3).toSeconds()*o}z0(!0),this._timeline.forEachAtTime(i,r=>r.invoke(t)),z0(!1)}schedule(t,i){const r=new ms(this,{callback:t,time:new Jr(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(t,i,r,o=1/0){const l=new Vp(this,{callback:t,duration:new Hn(this.context,o).toTicks(),interval:new Hn(this.context,i).toTicks(),time:new Jr(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(t,i){const r=new ms(this,{callback:t,once:!0,time:new Jr(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const i=this._scheduledEvents[t.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,i){return this._scheduledEvents[t.id.toString()]={event:t,timeline:i},i.add(t),t.id}cancel(t=0){const i=this.toTicks(t);return this._timeline.forEachFrom(i,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(i,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(t,i)=>{i=new Te(this.context,i).toSeconds(),this.emit("start",t,i)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,i){this.context.resume();let r;return Ct(i)&&(r=this.toTicks(i)),this._clock.start(t,r),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Vn(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Hn(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Hn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Te(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),i=this._clock.getTicksAtTime(t);return new Te(this.context,i).toBarsBeatsSixteenths()}set position(t){const i=this.toTicks(t);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(t){const i=this.now(),r=this._clock.frequency.timeToTicks(t,i);this.ticks=r}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const i=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,i),l=i+o;this.emit("stop",l),this._clock.setTicksAtTime(t,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",i),this._clock.setTicksAtTime(t,i)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const i=this.now(),r=this.getTicksAtTime(i),o=t-r%t;return this._clock.nextTickTime(o,i)}}syncSignal(t,i){const r=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(r)/this.PPQ),c=[];if(t.units==="time"){const d=.015625/l,f=new Fe(d),m=new Np(-1),y=new Fe(d);o.chain(f,m,y),o=y,l=1/l,c=[f,m,y]}i||(t.getValueAtTime(r)!==0?i=t.getValueAtTime(r)/l:i=0);const h=new Fe(i);return o.connect(h),h.connect(t._param),c.push(h),this._syncedSignals.push({initial:t.value,nodes:c,signal:t}),t.value=0,this}unsyncSignal(t){for(let i=this._syncedSignals.length-1;i>=0;i--){const r=this._syncedSignals[i];r.signal===t&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),UT(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}sl.mixin(xc);_c(n=>{n.transport=new xc({context:n})});bc(n=>{n.transport.dispose()});class bn extends Dt{constructor(t){super(t),this.input=void 0,this._state=new al("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=It,this._syncedStop=It,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ya({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,ae(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Dt.getDefaults(),{mute:!1,onstop:It,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,i,r){let o=_n(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")wt(na(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(ei(i,0)),l.duration=r?this.toSeconds(r):void 0);const c=this.context.transport.schedule(h=>{this._start(h,i,r)},o);this._scheduled.push(c),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else OT(this.context),this._start(o,i,r);return this}stop(t){let i=_n(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||Ct(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const r=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(r)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(t,i,r){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,i,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,i)=>{if(na(i,0)){const r=this._state.get(i);if(r&&r.state==="started"&&r.time!==i){const o=i-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-o),this._start(t,this.toSeconds(r.offset)+o,l)}}},this._syncedStop=t=>{const i=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=It,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class wc extends ia{constructor(){const t=Tt(wc.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ga(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new $t({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Xt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ia.getDefaults(),{url:new Xt,loop:!1,loopEnd:0,loopStart:0,onload:It,onerror:It,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,i,r,o=1){wt(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(t);this._startGain(l,o),this.loop?i=ei(i,this.loopStart):i=ei(i,0);let c=Math.max(this.toSeconds(i),0);if(this.loop){const h=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),f=h-d;Ed(c,h)&&(c=(c-d)%f+d),Fn(c,this.buffer.duration)&&(c=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ec(c,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,c)),Ct(r)){let h=this.toSeconds(r);h=Math.max(h,0),this.stop(l+h)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function ir(n,t){return ye(this,void 0,void 0,function*(){const i=t/n.context.sampleRate,r=new xp(1,i,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/i,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Up extends ia{constructor(){const t=Tt(Up.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ga(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new $t({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new $t({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(ia.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const i=this.toSeconds(t);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ge extends bn{constructor(){const t=Tt(ge.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new ke({context:this.context,units:"frequency",value:t.frequency}),ae(this,"frequency"),this.detune=new ke({context:this.context,units:"cents",value:t.detune}),ae(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(bn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const i=this.toSeconds(t),r=new Up({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(t){const i=this.toSeconds(t);this._oscillator&&this._oscillator.stop(i)}_restart(t){const i=this.toSeconds(t);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ge._periodicWaveCache.find(i=>i.phase===this._phase&&Pk(i.partials,this._partials));{const t=ge._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const i=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const r=this._getCachedPeriodicWave();if(Ct(r)){const{partials:o,wave:l}=r;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(t,this._phase),c=this.context.createPeriodicWave(o,l);this._wave=c,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ge._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),ge._periodicWaveCache.length>100&&ge._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ps(t,0);let i=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(i=r[1]),this._type!=="custom")t===0?this.type=i:this.type=i+t.toString();else{const o=new Float32Array(t);this._partials.forEach((l,c)=>o[c]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(t,i){let o=2048;const l=new Float32Array(o),c=new Float32Array(o);let h=1;if(t==="custom"){if(h=this._partials.length+1,this._partialCount=this._partials.length,o=h,this._partials.length===0)return[l,c]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);d?(h=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),t=d[1],h=Math.max(h,2),o=h):this._partialCount=0,this._partials=[]}for(let d=1;d<o;++d){const f=2/(d*Math.PI);let m;switch(t){case"sine":m=d<=h?1:0,this._partials[d-1]=m;break;case"square":m=d&1?2*f:0,this._partials[d-1]=m;break;case"sawtooth":m=f*(d&1?1:-1),this._partials[d-1]=m;break;case"triangle":d&1?m=2*(f*f)*(d-1>>1&1?-1:1):m=0,this._partials[d-1]=m;break;case"custom":m=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}m!==0?(l[d]=-m*Math.sin(i*d),c[d]=m*Math.cos(i*d)):(l[d]=0,c[d]=0)}return[l,c]}_inverseFFT(t,i,r){let o=0;const l=t.length;for(let c=0;c<l;c++)o+=t[c]*Math.cos(c*r)+i[c]*Math.sin(c*r);return o}getInitialValue(){const[t,i]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,l=32;for(let c=0;c<l;c++)r=Math.max(this._inverseFFT(t,i,c/l*o),r);return qk(-this._inverseFFT(t,i,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ge._periodicWaveCache=[];class aR extends sa{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ol({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ra extends ke{constructor(){const t=Tt(ra.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Fe({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ke.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ac extends bn{constructor(){const t=Tt(Ac.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new aR({context:this.context}),this._modulationNode=new Fe({context:this.context}),this._carrier=new ge({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ge({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ra({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ae(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ge.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Cc extends bn{constructor(){const t=Tt(Cc.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new Fe({context:this.context,gain:0}),this._carrier=new ge({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new ke({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new ge({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ra({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new ra({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ae(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ge.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ll extends bn{constructor(){const t=Tt(ll.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new Fe({context:this.context,gain:0}),this._thresh=new ol({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new ke({context:this.context,units:"audioRange",value:t.width}),this._triangle=new ge({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ae(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(bn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ec extends bn{constructor(){const t=Tt(Ec.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new ke({context:this.context,units:"frequency",value:t.frequency}),this.detune=new ke({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(ge.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(i=>i.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(i=>i.stop(t))}_restart(t){this._forEach(i=>i.restart(t))}_forEach(t){for(let i=0;i<this._oscillators.length;i++)t(this._oscillators[i],i)}get type(){return this._type}set type(t){this._type=t,this._forEach(i=>i.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const i=-t/2,r=t/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=i+r*l)}}get count(){return this._oscillators.length}set count(t){if(ps(t,1),this._oscillators.length!==t){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<t;i++){const r=new ge({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+i/t*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):It});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[i]=r}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((i,r)=>i.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(i=>i.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(i=>i.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(i=>i.partialCount=t),this._type=this._oscillators[0].type}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Mc extends bn{constructor(){const t=Tt(Mc.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ra({context:this.context,value:2}),this._pulse=new ll({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ge({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ae(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(bn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const F0={am:Ac,fat:Ec,fm:Cc,oscillator:ge,pulse:ll,pwm:Mc};class nc extends bn{constructor(){const t=Tt(nc.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new ke({context:this.context,units:"frequency",value:t.frequency}),this.detune=new ke({context:this.context,units:"cents",value:t.detune}),ae(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(ge.getDefaults(),Cc.getDefaults(),Ac.getDefaults(),Ec.getDefaults(),ll.getDefaults(),Mc.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const i=F0[t],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),t==="fm"?this.type="fm"+i:t==="am"?this.type="am"+i:t==="fat"?this.type="fat"+i:t==="oscillator"?this.type=i:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,i){return t instanceof F0[i]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&ki(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&ki(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ri(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return ye(this,arguments,void 0,function*(t=1024){return ir(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function zT(n,t=1/0){const i=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(l){ps(l,n,t),i.set(this,l)}})}}function Ii(n,t=1/0){const i=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(l){ps(this.toSeconds(l),n,t),i.set(this,l)}})}}class Oc extends bn{constructor(){const t=Tt(Oc.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new Xt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(bn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:It,onerror:It,playbackRate:1,reverse:!1})}load(t){return ye(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=It){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,i,r){return super.start(t,i,r),this}_start(t,i,r){this._loop?i=ei(i,this._loopStart):i=ei(i,0);const o=this.toSeconds(i),l=r;r=ei(r,Math.max(this._buffer.duration-o,0));let c=this.toSeconds(r);c=c/this._playbackRate,t=this.toSeconds(t);const h=new wc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+c),this._state.setStateAtTime("stopped",t+c,{implicitEnd:!0})),this._activeSources.add(h),this._loop&&_n(l)?h.start(t,o):h.start(t,o,c-this.toSeconds(this.fadeOut))}_stop(t){const i=this.toSeconds(t);this._activeSources.forEach(r=>r.stop(i))}restart(t,i,r){return super.restart(t,i,r),this}_restart(t,i,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(t),this._start(t,i,r)}seek(t,i){const r=this.toSeconds(i);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(t);this._stop(r),this._start(r,o)}return this}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ps(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ps(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(i=>{i.loop=t}),t)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const i=this.now(),r=this._state.getNextState("stopped",i);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(t,i)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Wn([Ii(0)],Oc.prototype,"fadeIn",void 0);Wn([Ii(0)],Oc.prototype,"fadeOut",void 0);class bs extends Dt{constructor(){const t=Tt(bs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new ke({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Dt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,i){if(Ri(t))return t;{let r;for(r in Ru)if(Ru[r][i]===t)return r;return t}}_setCurve(t,i,r){if(Ri(r)&&Reflect.has(Ru,r)){const o=Ru[r];fs(o)?t!=="_decayCurve"&&(this[t]=o[i]):this[t]=o}else if(Vn(r)&&t!=="_decayCurve")this[t]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,i=1){this.log("triggerAttack",t,i),t=this.toSeconds(t);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),c=this.getValueAtTime(t);if(c>0){const h=1/o;o=(1-c)/h}if(o<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(i,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,t);else{this._sig.cancelAndHoldAtTime(t);let h=this._attackCurve;for(let d=1;d<h.length;d++)if(h[d-1]<=c&&c<=h[d]){h=this._attackCurve.slice(d),h[0]=c;break}this._sig.setValueCurveAtTime(h,t,o,i)}if(l&&this.sustain<1){const h=i*this.sustain,d=t+o;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(h,l+d):this._sig.exponentialApproachValueAtTime(h,d,l)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const i=this.getValueAtTime(t);if(i>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,t):(wt(Vn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,r,i))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,i,r=1){return i=this.toSeconds(i),this.triggerAttack(i,r),this.triggerRelease(i+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,i=0,r=0){return Cp(this,t,i,r),this}asArray(){return ye(this,arguments,void 0,function*(t=1024){const i=t/this.context.sampleRate,r=new xp(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),c=l*.1,h=l+c,d=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/h,decay:i*this.toSeconds(this.decay)/h,release:i*this.toSeconds(this.release)/h,context:r}));return d._sig.toDestination(),d.triggerAttackRelease(i*(o+c)/h,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Wn([Ii(0)],bs.prototype,"attack",void 0);Wn([Ii(0)],bs.prototype,"decay",void 0);Wn([zT(0,1)],bs.prototype,"sustain",void 0);Wn([Ii(0)],bs.prototype,"release",void 0);const Ru=(()=>{let t,i;const r=[];for(t=0;t<128;t++)r[t]=Math.sin(t/127*(Math.PI/2));const o=[],l=6.4;for(t=0;t<127;t++){i=t/127;const v=Math.sin(i*(Math.PI*2)*l-Math.PI/2)+1;o[t]=v/10+i*.83}o[127]=1;const c=[],h=5;for(t=0;t<128;t++)c[t]=Math.ceil(t/127*h)/h;const d=[];for(t=0;t<128;t++)i=t/127,d[t]=.5*(1-Math.cos(Math.PI*i));const f=[];for(t=0;t<128;t++){i=t/127;const v=Math.pow(i,3)*4+.2,_=Math.cos(v*Math.PI*2*i);f[t]=Math.abs(_*(1-i))}function m(v){const _=new Array(v.length);for(let b=0;b<v.length;b++)_[b]=1-v[b];return _}function y(v){return v.slice(0).reverse()}return{bounce:{In:m(f),Out:f},cosine:{In:r,Out:y(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:m(o)},sine:{In:d,Out:m(d)},step:{In:c,Out:m(c)}}})();let ic=class qT extends Dt{constructor(){const t=Tt(qT.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new ya({context:this.context,volume:t.volume}),this.volume=this._volume.volume,ae(this,"volume")}static getDefaults(){return Object.assign(Dt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,i){const r=this["_original_"+t]=this[t];this[t]=(...o)=>{const l=o[i],c=this.context.transport.schedule(h=>{o[i]=h,r.apply(this,o)},l);this._scheduledEvents.push(c)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,i,r,o){const l=this.toSeconds(r),c=this.toSeconds(i);return this.triggerAttack(t,l,o),this.triggerRelease(l+c),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class aa extends ic{constructor(){const t=Tt(aa.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(ic.getDefaults(),{detune:0,onsilence:It,portamento:0})}triggerAttack(t,i,r=1){this.log("triggerAttack",t,i,r);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,r),this.setNote(t,o),this}triggerRelease(t){this.log("triggerRelease",t);const i=this.toSeconds(t);return this._triggerEnvelopeRelease(i),this}setNote(t,i){const r=this.toSeconds(i),o=t instanceof vn?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,r)}else this.frequency.setValueAtTime(o,r);return this}}Wn([Ii(0)],aa.prototype,"portamento",void 0);class jp extends bs{constructor(){super(Tt(jp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Fe({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class sc extends aa{constructor(){const t=Tt(sc.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new nc(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new jp(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),ae(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(aa.getDefaults(),{envelope:Object.assign(q0(bs.getDefaults(),Object.keys(Dt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(q0(nc.getDefaults(),[...Object.keys(bn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,i){if(this.envelope.triggerAttack(t,i),this.oscillator.start(t),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+r+o)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Dc extends sc{constructor(){const t=Tt(Dc.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,ae(this,["oscillator","envelope"])}static getDefaults(){return $r(aa.getDefaults(),sc.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,i){const r=this.toSeconds(i),o=this.toFrequency(t instanceof vn?t.toFrequency():t),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Wn([zT(0)],Dc.prototype,"octaves",void 0);Wn([Ii(0)],Dc.prototype,"pitchDecay",void 0);const FT=new Set;function Bp(n){FT.add(n)}function HT(n,t){const i=`registerProcessor("${n}", ${t})`;FT.add(i)}const oR=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Bp(oR);const lR=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Bp(lR);const uR=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Bp(uR);const cR="feedback-comb-filter",hR=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;HT(cR,hR);class ul extends ic{constructor(){const t=Tt(ul.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(t.urls).forEach(r=>{const o=parseInt(r,10);if(wt(ku(r)||ki(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),ku(r)){const l=new vn(this.context,r).toMidi();i[l]=t.urls[r]}else ki(o)&&isFinite(o)&&(i[o]=t.urls[o])}),this._buffers=new kp({urls:i,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(ic.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:It,onerror:It,release:.1,urls:{}})}_findClosest(t){let r=0;for(;r<96;){if(this._buffers.has(t+r))return-r;if(this._buffers.has(t-r))return r;r++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,i,r=1){return this.log("triggerAttack",t,i,r),Array.isArray(t)||(t=[t]),t.forEach(o=>{const l=LT(new vn(this.context,o).toFrequency()),c=Math.round(l),h=l-c,d=this._findClosest(c),f=c-d,m=this._buffers.get(f),y=IT(d+h),v=new wc({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);v.start(i,0,m.duration/y,r),Vn(this._activeSources.get(c))||this._activeSources.set(c,[]),this._activeSources.get(c).push(v),v.onended=()=>{if(this._activeSources&&this._activeSources.has(c)){const _=this._activeSources.get(c),b=_.indexOf(v);b!==-1&&_.splice(b,1)}}}),this}triggerRelease(t,i){return this.log("triggerRelease",t,i),Array.isArray(t)||(t=[t]),t.forEach(r=>{const o=new vn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);i=this.toSeconds(i),l.forEach(c=>{c.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(t){const i=this.toSeconds(t);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,i,r,o=1){const l=this.toSeconds(r);return this.triggerAttack(t,l,o),Vn(i)?(wt(Vn(t),"notes must be an array when duration is array"),t.forEach((c,h)=>{const d=i[Math.min(h,i.length-1)];this.triggerRelease(c,l+this.toSeconds(d))})):this.triggerRelease(t,l+this.toSeconds(i)),this}add(t,i,r){if(wt(ku(t)||isFinite(t),`note must be a pitch or midi: ${t}`),ku(t)){const o=new vn(this.context,t).toMidi();this._buffers.add(o,i,r)}else this._buffers.add(t,i,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}Wn([Ii(0)],ul.prototype,"attack",void 0);Wn([Ii(0)],ul.prototype,"release",void 0);class Gr extends qe{constructor(){const t=Tt(Gr.getDefaults(),arguments,["callback","value"]);super(t),this.name="ToneEvent",this._state=new al("stopped"),this._startOffset=0,this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(qe.getDefaults(),{callback:It,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,i=>{let r;if(i.state==="started"){i.id!==-1&&this.context.transport.clear(i.id);const o=i.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||ki(this._loop)&&this._loop>1){r=1/0,ki(this._loop)&&(r=this._loop*this._getLoopDuration());const l=this._state.getAfter(o);l!==null&&(r=Math.min(r,l.time-o)),r!==1/0&&(r=new Te(this.context,r));const c=new Te(this.context,this._getLoopDuration());i.id=this.context.transport.scheduleRepeat(this._tick.bind(this),c,new Te(this.context,o),r)}else i.id=this.context.transport.schedule(this._tick.bind(this),new Te(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const i=this.toTicks(t);return this._state.getValueAtTime(i)==="stopped"&&(this._state.add({id:-1,state:"started",time:i}),this._rescheduleEvents(i)),this}stop(t){this.cancel(t);const i=this.toTicks(t);if(this._state.getValueAtTime(i)==="started"){this._state.setStateAtTime("stopped",i,{id:-1});const r=this._state.getBefore(i);let o=i;r!==null&&(o=r.time),this._rescheduleEvents(o)}return this}cancel(t){t=ei(t,-1/0);const i=this.toTicks(t);return this._state.forEachFrom(i,r=>{this.context.transport.clear(r.id)}),this._state.cancel(i),this}_tick(t){const i=this.context.transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(i)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;MT(this.humanize)||(r=this.toSeconds(this.humanize)),t+=(Math.random()*2-1)*r}this.callback(t,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new Te(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new Te(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,i=this._state.get(t);if(i!==null&&i.state==="started"){const r=this._getLoopDuration();return(t-i.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class rc extends Gr{constructor(){const t=Tt(rc.getDefaults(),arguments,["callback","events"]);super(t),this.name="Part",this._state=new al("stopped"),this._events=new Set,this._state.increasing=!0,t.events.forEach(i=>{Vn(i)?this.add(i[0],i[1]):this.add(i)})}static getDefaults(){return Object.assign(Gr.getDefaults(),{events:[]})}start(t,i){const r=this.toTicks(t);if(this._state.getValueAtTime(r)!=="started"){i=ei(i,this._loop?this._loopStart:0),this._loop?i=ei(i,this._loopStart):i=ei(i,0);const o=this.toTicks(i);this._state.add({id:-1,offset:o,state:"started",time:r}),this._forEach(l=>{this._startNote(l,r,o)})}return this}_startNote(t,i,r){i-=r,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<r&&(i+=this._getLoopDuration()),t.start(new Te(this.context,i))):t.startOffset<this._loopStart&&t.startOffset>=r&&(t.loop=!1,t.start(new Te(this.context,i))):t.startOffset>=r&&t.start(new Te(this.context,i))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(i=>{i.startOffset+=this._startOffset})}stop(t){const i=this.toTicks(t);return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._forEach(r=>{r.stop(t)}),this}at(t,i){const r=new Jr(this.context,t).toTicks(),o=new Te(this.context,1).toSeconds(),l=this._events.values();let c=l.next();for(;!c.done;){const h=c.value;if(Math.abs(r-h.startOffset)<o)return Ct(i)&&(h.value=i),h;c=l.next()}return Ct(i)?(this.add(t,i),this.at(t)):null}add(t,i){t instanceof Object&&Reflect.has(t,"time")&&(i=t,t=i.time);const r=this.toTicks(t);let o;return i instanceof Gr?(o=i,o.callback=this._tick.bind(this)):o=new Gr({callback:this._tick.bind(this),context:this.context,value:i}),o.startOffset=r,o.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(o),this._restartEvent(o),this}_restartEvent(t){this._state.forEach(i=>{i.state==="started"?this._startNote(t,i.time,i.offset):t.stop(new Te(this.context,i.time))})}remove(t,i){return fs(t)&&t.hasOwnProperty("time")&&(i=t,t=i.time),t=this.toTicks(t),this._events.forEach(r=>{r.startOffset===t&&(_n(i)||Ct(i)&&r.value===i)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(t=>t.dispose()),this._events.clear(),this}cancel(t){return this._forEach(i=>i.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach(i=>{i instanceof rc?i._forEach(t):t(i)}),this}_setAll(t,i){this._forEach(r=>{r[t]=i})}_tick(t,i){this.mute||this.callback(t,i)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state==="stopped"&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(i=>{i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.loop=t,this._testLoopBoundries(i)})}get loopEnd(){return new Te(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(i=>{i.loopEnd=t,this._testLoopBoundries(i)})}get loopStart(){return new Te(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(i=>{i.loopStart=this.loopStart,this._testLoopBoundries(i)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class Ip extends Dt{constructor(){const t=Tt(Ip.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new $t({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",ae(this,"pan")}static getDefaults(){return Object.assign(Dt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const fR="bit-crusher",dR=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;HT(fR,dR);class pe extends Dt{constructor(){const t=Tt(pe.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new Fe({context:this.context}),pe._allSolos.has(this.context)||pe._allSolos.set(this.context,new Set),pe._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Dt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),pe._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){pe._soloed.has(this.context)||pe._soloed.set(this.context,new Set),pe._soloed.get(this.context).add(this)}_removeSolo(){pe._soloed.has(this.context)&&pe._soloed.get(this.context).delete(this)}_isSoloed(){return pe._soloed.has(this.context)&&pe._soloed.get(this.context).has(this)}_noSolos(){return!pe._soloed.has(this.context)||pe._soloed.has(this.context)&&pe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),pe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}pe._allSolos=new Map;pe._soloed=new Map;class Lp extends Dt{constructor(){const t=Tt(Lp.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new Ip({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ya({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,ae(this,["pan","volume"])}static getDefaults(){return Object.assign(Dt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Yr extends Dt{constructor(){const t=Tt(Yr.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new pe({solo:t.solo,context:this.context}),this._panVol=this.output=new Lp({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ae(this,["pan","volume"])}static getDefaults(){return Object.assign(Dt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Yr.buses.has(t)||Yr.buses.set(t,new Fe({context:this.context})),Yr.buses.get(t)}send(t,i=0){const r=this._getBus(t),o=new Fe({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(r),o}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Yr.buses=new Map;function H0(){return nn().now()}nn().transport;function Rn(){return nn().transport}nn().destination;nn().destination;nn().listener;nn().draw;nn();function pR(){return Xt.loaded()}var zs={},Nu={},ed,G0;function mR(){if(G0)return ed;G0=1;function n(o){var l=new r(o),c=l.readChunk();if(c.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+c.id+"'";for(var h=t(c.data),d=[],f=0;!l.eof()&&f<h.numTracks;f++){var m=l.readChunk();if(m.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+m.id+"'";var y=i(m.data);d.push(y)}return{header:h,tracks:d}}function t(o){var l=new r(o),c=l.readUInt16(),h=l.readUInt16(),d={format:c,numTracks:h},f=l.readUInt16();return f&32768?(d.framesPerSecond=256-(f>>8),d.ticksPerFrame=f&255):d.ticksPerBeat=f,d}function i(o){for(var l=new r(o),c=[];!l.eof();){var h=f();c.push(h)}return c;var d;function f(){var m={};m.deltaTime=l.readVarInt();var y=l.readUInt8();if((y&240)===240)if(y===255){m.meta=!0;var v=l.readUInt8(),_=l.readVarInt();switch(v){case 0:if(m.type="sequenceNumber",_!==2)throw"Expected length for sequenceNumber event is 2, got "+_;return m.number=l.readUInt16(),m;case 1:return m.type="text",m.text=l.readString(_),m;case 2:return m.type="copyrightNotice",m.text=l.readString(_),m;case 3:return m.type="trackName",m.text=l.readString(_),m;case 4:return m.type="instrumentName",m.text=l.readString(_),m;case 5:return m.type="lyrics",m.text=l.readString(_),m;case 6:return m.type="marker",m.text=l.readString(_),m;case 7:return m.type="cuePoint",m.text=l.readString(_),m;case 32:if(m.type="channelPrefix",_!=1)throw"Expected length for channelPrefix event is 1, got "+_;return m.channel=l.readUInt8(),m;case 33:if(m.type="portPrefix",_!=1)throw"Expected length for portPrefix event is 1, got "+_;return m.port=l.readUInt8(),m;case 47:if(m.type="endOfTrack",_!=0)throw"Expected length for endOfTrack event is 0, got "+_;return m;case 81:if(m.type="setTempo",_!=3)throw"Expected length for setTempo event is 3, got "+_;return m.microsecondsPerBeat=l.readUInt24(),m;case 84:if(m.type="smpteOffset",_!=5)throw"Expected length for smpteOffset event is 5, got "+_;var b=l.readUInt8(),x={0:24,32:25,64:29,96:30};return m.frameRate=x[b&96],m.hour=b&31,m.min=l.readUInt8(),m.sec=l.readUInt8(),m.frame=l.readUInt8(),m.subFrame=l.readUInt8(),m;case 88:if(m.type="timeSignature",_!=2&&_!=4)throw"Expected length for timeSignature event is 4 or 2, got "+_;return m.numerator=l.readUInt8(),m.denominator=1<<l.readUInt8(),_===4?(m.metronome=l.readUInt8(),m.thirtyseconds=l.readUInt8()):(m.metronome=36,m.thirtyseconds=8),m;case 89:if(m.type="keySignature",_!=2)throw"Expected length for keySignature event is 2, got "+_;return m.key=l.readInt8(),m.scale=l.readUInt8(),m;case 127:return m.type="sequencerSpecific",m.data=l.readBytes(_),m;default:return m.type="unknownMeta",m.data=l.readBytes(_),m.metatypeByte=v,m}}else if(y==240){m.type="sysEx";var _=l.readVarInt();return m.data=l.readBytes(_),m}else if(y==247){m.type="endSysEx";var _=l.readVarInt();return m.data=l.readBytes(_),m}else throw"Unrecognised MIDI event type byte: "+y;else{var w;if((y&128)===0){if(d===null)throw"Running status byte encountered before status byte";w=y,y=d,m.running=!0}else w=l.readUInt8(),d=y;var S=y>>4;switch(m.channel=y&15,S){case 8:return m.type="noteOff",m.noteNumber=w,m.velocity=l.readUInt8(),m;case 9:var E=l.readUInt8();return m.type=E===0?"noteOff":"noteOn",m.noteNumber=w,m.velocity=E,E===0&&(m.byte9=!0),m;case 10:return m.type="noteAftertouch",m.noteNumber=w,m.amount=l.readUInt8(),m;case 11:return m.type="controller",m.controllerType=w,m.value=l.readUInt8(),m;case 12:return m.type="programChange",m.programNumber=w,m;case 13:return m.type="channelAftertouch",m.amount=w,m;case 14:return m.type="pitchBend",m.value=w+(l.readUInt8()<<7)-8192,m;default:throw"Unrecognised MIDI event type: "+S}}}}function r(o){this.buffer=o,this.bufferLen=this.buffer.length,this.pos=0}return r.prototype.eof=function(){return this.pos>=this.bufferLen},r.prototype.readUInt8=function(){var o=this.buffer[this.pos];return this.pos+=1,o},r.prototype.readInt8=function(){var o=this.readUInt8();return o&128?o-256:o},r.prototype.readUInt16=function(){var o=this.readUInt8(),l=this.readUInt8();return(o<<8)+l},r.prototype.readInt16=function(){var o=this.readUInt16();return o&32768?o-65536:o},r.prototype.readUInt24=function(){var o=this.readUInt8(),l=this.readUInt8(),c=this.readUInt8();return(o<<16)+(l<<8)+c},r.prototype.readInt24=function(){var o=this.readUInt24();return o&8388608?o-16777216:o},r.prototype.readUInt32=function(){var o=this.readUInt8(),l=this.readUInt8(),c=this.readUInt8(),h=this.readUInt8();return(o<<24)+(l<<16)+(c<<8)+h},r.prototype.readBytes=function(o){var l=this.buffer.slice(this.pos,this.pos+o);return this.pos+=o,l},r.prototype.readString=function(o){var l=this.readBytes(o);return String.fromCharCode.apply(null,l)},r.prototype.readVarInt=function(){for(var o=0;!this.eof();){var l=this.readUInt8();if(l&128)o+=l&127,o<<=7;else return o+l}return o},r.prototype.readChunk=function(){var o=this.readString(4),l=this.readUInt32(),c=this.readBytes(l);return{id:o,length:l,data:c}},ed=n,ed}var nd,Y0;function gR(){if(Y0)return nd;Y0=1;function n(l,c){if(typeof l!="object")throw"Invalid MIDI data";c=c||{};var h=l.header||{},d=l.tracks||[],f,m=d.length,y=new o;for(t(y,h,m),f=0;f<m;f++)i(y,d[f],c);return y.buffer}function t(l,c,h){var d=c.format==null?1:c.format,f=128;c.timeDivision?f=c.timeDivision:c.ticksPerFrame&&c.framesPerSecond?f=-(c.framesPerSecond&255)<<8|c.ticksPerFrame&255:c.ticksPerBeat&&(f=c.ticksPerBeat&32767);var m=new o;m.writeUInt16(d),m.writeUInt16(h),m.writeUInt16(f),l.writeChunk("MThd",m.buffer)}function i(l,c,h){var d=new o,f,m=c.length,y=null;for(f=0;f<m;f++)(h.running===!1||!h.running&&!c[f].running)&&(y=null),y=r(d,c[f],y,h.useByte9ForNoteOff);l.writeChunk("MTrk",d.buffer)}function r(l,c,h,d){var f=c.type,m=c.deltaTime,y=c.text||"",v=c.data||[],_=null;switch(l.writeVarInt(m),f){case"sequenceNumber":l.writeUInt8(255),l.writeUInt8(0),l.writeVarInt(2),l.writeUInt16(c.number);break;case"text":l.writeUInt8(255),l.writeUInt8(1),l.writeVarInt(y.length),l.writeString(y);break;case"copyrightNotice":l.writeUInt8(255),l.writeUInt8(2),l.writeVarInt(y.length),l.writeString(y);break;case"trackName":l.writeUInt8(255),l.writeUInt8(3),l.writeVarInt(y.length),l.writeString(y);break;case"instrumentName":l.writeUInt8(255),l.writeUInt8(4),l.writeVarInt(y.length),l.writeString(y);break;case"lyrics":l.writeUInt8(255),l.writeUInt8(5),l.writeVarInt(y.length),l.writeString(y);break;case"marker":l.writeUInt8(255),l.writeUInt8(6),l.writeVarInt(y.length),l.writeString(y);break;case"cuePoint":l.writeUInt8(255),l.writeUInt8(7),l.writeVarInt(y.length),l.writeString(y);break;case"channelPrefix":l.writeUInt8(255),l.writeUInt8(32),l.writeVarInt(1),l.writeUInt8(c.channel);break;case"portPrefix":l.writeUInt8(255),l.writeUInt8(33),l.writeVarInt(1),l.writeUInt8(c.port);break;case"endOfTrack":l.writeUInt8(255),l.writeUInt8(47),l.writeVarInt(0);break;case"setTempo":l.writeUInt8(255),l.writeUInt8(81),l.writeVarInt(3),l.writeUInt24(c.microsecondsPerBeat);break;case"smpteOffset":l.writeUInt8(255),l.writeUInt8(84),l.writeVarInt(5);var b={24:0,25:32,29:64,30:96},x=c.hour&31|b[c.frameRate];l.writeUInt8(x),l.writeUInt8(c.min),l.writeUInt8(c.sec),l.writeUInt8(c.frame),l.writeUInt8(c.subFrame);break;case"timeSignature":l.writeUInt8(255),l.writeUInt8(88),l.writeVarInt(4),l.writeUInt8(c.numerator);var w=Math.floor(Math.log(c.denominator)/Math.LN2)&255;l.writeUInt8(w),l.writeUInt8(c.metronome),l.writeUInt8(c.thirtyseconds||8);break;case"keySignature":l.writeUInt8(255),l.writeUInt8(89),l.writeVarInt(2),l.writeInt8(c.key),l.writeUInt8(c.scale);break;case"sequencerSpecific":l.writeUInt8(255),l.writeUInt8(127),l.writeVarInt(v.length),l.writeBytes(v);break;case"unknownMeta":c.metatypeByte!=null&&(l.writeUInt8(255),l.writeUInt8(c.metatypeByte),l.writeVarInt(v.length),l.writeBytes(v));break;case"sysEx":l.writeUInt8(240),l.writeVarInt(v.length),l.writeBytes(v);break;case"endSysEx":l.writeUInt8(247),l.writeVarInt(v.length),l.writeBytes(v);break;case"noteOff":var S=d!==!1&&c.byte9||d&&c.velocity==0?144:128;_=S|c.channel,_!==h&&l.writeUInt8(_),l.writeUInt8(c.noteNumber),l.writeUInt8(c.velocity);break;case"noteOn":_=144|c.channel,_!==h&&l.writeUInt8(_),l.writeUInt8(c.noteNumber),l.writeUInt8(c.velocity);break;case"noteAftertouch":_=160|c.channel,_!==h&&l.writeUInt8(_),l.writeUInt8(c.noteNumber),l.writeUInt8(c.amount);break;case"controller":_=176|c.channel,_!==h&&l.writeUInt8(_),l.writeUInt8(c.controllerType),l.writeUInt8(c.value);break;case"programChange":_=192|c.channel,_!==h&&l.writeUInt8(_),l.writeUInt8(c.programNumber);break;case"channelAftertouch":_=208|c.channel,_!==h&&l.writeUInt8(_),l.writeUInt8(c.amount);break;case"pitchBend":_=224|c.channel,_!==h&&l.writeUInt8(_);var E=8192+c.value,M=E&127,D=E>>7&127;l.writeUInt8(M),l.writeUInt8(D);break;default:throw"Unrecognized event type: "+f}return _}function o(){this.buffer=[]}return o.prototype.writeUInt8=function(l){this.buffer.push(l&255)},o.prototype.writeInt8=o.prototype.writeUInt8,o.prototype.writeUInt16=function(l){var c=l>>8&255,h=l&255;this.writeUInt8(c),this.writeUInt8(h)},o.prototype.writeInt16=o.prototype.writeUInt16,o.prototype.writeUInt24=function(l){var c=l>>16&255,h=l>>8&255,d=l&255;this.writeUInt8(c),this.writeUInt8(h),this.writeUInt8(d)},o.prototype.writeInt24=o.prototype.writeUInt24,o.prototype.writeUInt32=function(l){var c=l>>24&255,h=l>>16&255,d=l>>8&255,f=l&255;this.writeUInt8(c),this.writeUInt8(h),this.writeUInt8(d),this.writeUInt8(f)},o.prototype.writeInt32=o.prototype.writeUInt32,o.prototype.writeBytes=function(l){this.buffer=this.buffer.concat(Array.prototype.slice.call(l,0))},o.prototype.writeString=function(l){var c,h=l.length,d=[];for(c=0;c<h;c++)d.push(l.codePointAt(c));this.writeBytes(d)},o.prototype.writeVarInt=function(l){if(l<0)throw"Cannot write negative variable-length integer";if(l<=127)this.writeUInt8(l);else{var c=l,h=[];for(h.push(c&127),c>>=7;c;){var d=c&127|128;h.push(d),c>>=7}this.writeBytes(h.reverse())}},o.prototype.writeChunk=function(l,c){this.writeString(l),this.writeUInt32(c.length),this.writeBytes(c)},nd=n,nd}var X0;function GT(){return X0||(X0=1,Nu.parseMidi=mR(),Nu.writeMidi=gR()),Nu}var id={},qs={},W0;function YT(){if(W0)return qs;W0=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.insert=qs.search=void 0;function n(i,r,o){o===void 0&&(o="ticks");var l=0,c=i.length,h=c;if(c>0&&i[c-1][o]<=r)return c-1;for(;l<h;){var d=Math.floor(l+(h-l)/2),f=i[d],m=i[d+1];if(f[o]===r){for(var y=d;y<i.length;y++){var v=i[y];v[o]===r&&(d=y)}return d}else{if(f[o]<r&&m[o]>r)return d;f[o]>r?h=d:f[o]<r&&(l=d+1)}}return-1}qs.search=n;function t(i,r,o){if(o===void 0&&(o="ticks"),i.length){var l=n(i,r[o],o);i.splice(l+1,0,r)}else i.push(r)}return qs.insert=t,qs}var Z0;function Od(){return Z0||(Z0=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Header=n.keySignatureKeys=void 0;var t=YT(),i=new WeakMap;n.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function o(l){var c=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",i.set(this,480),l){i.set(this,l.header.ticksPerBeat),l.tracks.forEach(function(d){d.forEach(function(f){f.meta&&(f.type==="timeSignature"?c.timeSignatures.push({ticks:f.absoluteTime,timeSignature:[f.numerator,f.denominator]}):f.type==="setTempo"?c.tempos.push({bpm:6e7/f.microsecondsPerBeat,ticks:f.absoluteTime}):f.type==="keySignature"&&c.keySignatures.push({key:n.keySignatureKeys[f.key+7],scale:f.scale===0?"major":"minor",ticks:f.absoluteTime}))})});var h=0;l.tracks[0].forEach(function(d){h+=d.deltaTime,d.meta&&(d.type==="trackName"?c.name=d.text:(d.type==="text"||d.type==="cuePoint"||d.type==="marker"||d.type==="lyrics")&&c.meta.push({text:d.text,ticks:h,type:d.type}))}),this.update()}}return o.prototype.update=function(){var l=this,c=0,h=0;this.tempos.sort(function(d,f){return d.ticks-f.ticks}),this.tempos.forEach(function(d,f){var m=f>0?l.tempos[f-1].bpm:l.tempos[0].bpm,y=d.ticks/l.ppq-h,v=60/m*y;d.time=v+c,c=d.time,h+=y}),this.timeSignatures.sort(function(d,f){return d.ticks-f.ticks}),this.timeSignatures.forEach(function(d,f){var m=f>0?l.timeSignatures[f-1]:l.timeSignatures[0],y=(d.ticks-m.ticks)/l.ppq,v=y/m.timeSignature[0]/(m.timeSignature[1]/4);m.measures=m.measures||0,d.measures=v+m.measures})},o.prototype.ticksToSeconds=function(l){var c=(0,t.search)(this.tempos,l);if(c!==-1){var h=this.tempos[c],d=h.time,f=(l-h.ticks)/this.ppq;return d+60/h.bpm*f}else{var m=l/this.ppq;return 60/120*m}},o.prototype.ticksToMeasures=function(l){var c=(0,t.search)(this.timeSignatures,l);if(c!==-1){var h=this.timeSignatures[c],d=(l-h.ticks)/this.ppq;return h.measures+d/(h.timeSignature[0]/h.timeSignature[1])/4}else return l/this.ppq/4},Object.defineProperty(o.prototype,"ppq",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),o.prototype.secondsToTicks=function(l){var c=(0,t.search)(this.tempos,l,"time");if(c!==-1){var h=this.tempos[c],d=h.time,f=l-d,m=f/(60/h.bpm);return Math.round(h.ticks+m*this.ppq)}else{var y=l/.5;return Math.round(y*this.ppq)}},o.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(l){return{bpm:l.bpm,ticks:l.ticks}}),timeSignatures:this.timeSignatures}},o.prototype.fromJSON=function(l){this.name=l.name,this.tempos=l.tempos.map(function(c){return Object.assign({},c)}),this.timeSignatures=l.timeSignatures.map(function(c){return Object.assign({},c)}),this.keySignatures=l.keySignatures.map(function(c){return Object.assign({},c)}),this.meta=l.meta.map(function(c){return Object.assign({},c)}),i.set(this,l.ppq),this.update()},o.prototype.setTempo=function(l){this.tempos=[{bpm:l,ticks:0}],this.update()},o}();n.Header=r}(id)),id}var So={},sd={},K0;function XT(){return K0||(K0=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ControlChange=n.controlChangeIds=n.controlChangeNames=void 0,n.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},n.controlChangeIds=Object.keys(n.controlChangeNames).reduce(function(o,l){return o[n.controlChangeNames[l]]=l,o},{});var t=new WeakMap,i=new WeakMap,r=function(){function o(l,c){t.set(this,c),i.set(this,l.controllerType),this.ticks=l.absoluteTime,this.value=l.value}return Object.defineProperty(o.prototype,"number",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return n.controlChangeNames[this.number]?n.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){var l=t.get(this);return l.ticksToSeconds(this.ticks)},set:function(l){var c=t.get(this);this.ticks=c.secondsToTicks(l)},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},o}();n.ControlChange=r}(sd)),sd}var xo={},Q0;function yR(){if(Q0)return xo;Q0=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.createControlChanges=void 0;var n=XT();function t(){return new Proxy({},{get:function(i,r){if(i[r])return i[r];if(n.controlChangeIds.hasOwnProperty(r))return i[n.controlChangeIds[r]]},set:function(i,r,o){return n.controlChangeIds.hasOwnProperty(r)?i[n.controlChangeIds[r]]=o:i[r]=o,!0}})}return xo.createControlChanges=t,xo}var wo={},$0;function vR(){if($0)return wo;$0=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.PitchBend=void 0;var n=new WeakMap,t=function(){function i(r,o){n.set(this,o),this.ticks=r.absoluteTime,this.value=r.value}return Object.defineProperty(i.prototype,"time",{get:function(){var r=n.get(this);return r.ticksToSeconds(this.ticks)},set:function(r){var o=n.get(this);this.ticks=o.secondsToTicks(r)},enumerable:!1,configurable:!0}),i.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},i}();return wo.PitchBend=t,wo}var Ao={},Ci={},J0;function _R(){return J0||(J0=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.DrumKitByPatchID=Ci.InstrumentFamilyByID=Ci.instrumentByPatchID=void 0,Ci.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],Ci.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],Ci.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),Ci}var t_;function bR(){if(t_)return Ao;t_=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.Instrument=void 0;var n=_R(),t=new WeakMap,i=function(){function r(o,l){if(this.number=0,t.set(this,l),this.number=0,o){var c=o.find(function(h){return h.type==="programChange"});c&&(this.number=c.programNumber)}}return Object.defineProperty(r.prototype,"name",{get:function(){return this.percussion?n.DrumKitByPatchID[this.number]:n.instrumentByPatchID[this.number]},set:function(o){var l=n.instrumentByPatchID.indexOf(o);l!==-1&&(this.number=l)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"family",{get:function(){return this.percussion?"drums":n.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"percussion",{get:function(){var o=t.get(this);return o.channel===9},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},r.prototype.fromJSON=function(o){this.number=o.number},r}();return Ao.Instrument=i,Ao}var Co={},e_;function TR(){if(e_)return Co;e_=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.Note=void 0;function n(c){var h=Math.floor(c/12)-1;return t(c)+h.toString()}function t(c){var h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d=c%12;return h[d]}function i(c){var h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return h.indexOf(c)}var r=function(){var c=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,h={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(d){var f=c.exec(d),m=f[1],y=f[2],v=h[m.toLowerCase()];return v+(parseInt(y,10)+1)*12}}(),o=new WeakMap,l=function(){function c(h,d,f){o.set(this,f),this.midi=h.midi,this.velocity=h.velocity,this.noteOffVelocity=d.velocity,this.ticks=h.ticks,this.durationTicks=d.ticks-h.ticks}return Object.defineProperty(c.prototype,"name",{get:function(){return n(this.midi)},set:function(h){this.midi=r(h)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(h){var d=h-this.octave;this.midi+=d*12},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pitch",{get:function(){return t(this.midi)},set:function(h){this.midi=12*(this.octave+1)+i(h)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"duration",{get:function(){var h=o.get(this);return h.ticksToSeconds(this.ticks+this.durationTicks)-h.ticksToSeconds(this.ticks)},set:function(h){var d=o.get(this),f=d.secondsToTicks(this.time+h);this.durationTicks=f-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"time",{get:function(){var h=o.get(this);return h.ticksToSeconds(this.ticks)},set:function(h){var d=o.get(this);this.ticks=d.secondsToTicks(h)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"bars",{get:function(){var h=o.get(this);return h.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),c.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},c}();return Co.Note=l,Co}var n_;function i_(){if(n_)return So;n_=1,Object.defineProperty(So,"__esModule",{value:!0}),So.Track=void 0;var n=YT(),t=XT(),i=yR(),r=vR(),o=bR(),l=TR(),c=new WeakMap,h=function(){function d(f,m){var y=this;if(this.name="",this.notes=[],this.controlChanges=(0,i.createControlChanges)(),this.pitchBends=[],c.set(this,m),f){var v=f.find(function(D){return D.type==="trackName"});this.name=v?v.text:""}if(this.instrument=new o.Instrument(f,this),this.channel=0,f){for(var _=f.filter(function(D){return D.type==="noteOn"}),b=f.filter(function(D){return D.type==="noteOff"}),x=function(){var D=_.shift();w.channel=D.channel;var C=b.findIndex(function(B){return B.noteNumber===D.noteNumber&&B.absoluteTime>=D.absoluteTime});if(C!==-1){var V=b.splice(C,1)[0];w.addNote({durationTicks:V.absoluteTime-D.absoluteTime,midi:D.noteNumber,noteOffVelocity:V.velocity/127,ticks:D.absoluteTime,velocity:D.velocity/127})}},w=this;_.length;)x();var S=f.filter(function(D){return D.type==="controller"});S.forEach(function(D){y.addCC({number:D.controllerType,ticks:D.absoluteTime,value:D.value/127})});var E=f.filter(function(D){return D.type==="pitchBend"});E.forEach(function(D){y.addPitchBend({ticks:D.absoluteTime,value:D.value/Math.pow(2,13)})});var M=f.find(function(D){return D.type==="endOfTrack"});this.endOfTrackTicks=M!==void 0?M.absoluteTime:void 0}}return d.prototype.addNote=function(f){var m=c.get(this),y=new l.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},m);return Object.assign(y,f),(0,n.insert)(this.notes,y,"ticks"),this},d.prototype.addCC=function(f){var m=c.get(this),y=new t.ControlChange({controllerType:f.number},m);return delete f.number,Object.assign(y,f),Array.isArray(this.controlChanges[y.number])||(this.controlChanges[y.number]=[]),(0,n.insert)(this.controlChanges[y.number],y,"ticks"),this},d.prototype.addPitchBend=function(f){var m=c.get(this),y=new r.PitchBend({},m);return Object.assign(y,f),(0,n.insert)(this.pitchBends,y,"ticks"),this},Object.defineProperty(d.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var f=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,m=0;m<this.notes.length-1;m++){var y=this.notes[m].time+this.notes[m].duration;f<y&&(f=y)}return f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var f=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,m=0;m<this.notes.length-1;m++){var y=this.notes[m].ticks+this.notes[m].durationTicks;f<y&&(f=y)}return f},enumerable:!1,configurable:!0}),d.prototype.fromJSON=function(f){var m=this;this.name=f.name,this.channel=f.channel,this.instrument=new o.Instrument(void 0,this),this.instrument.fromJSON(f.instrument),f.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=f.endOfTrackTicks);for(var y in f.controlChanges)f.controlChanges[y]&&f.controlChanges[y].forEach(function(v){m.addCC({number:v.number,ticks:v.ticks,value:v.value})});f.notes.forEach(function(v){m.addNote({durationTicks:v.durationTicks,midi:v.midi,ticks:v.ticks,velocity:v.velocity})})},d.prototype.toJSON=function(){for(var f={},m=0;m<127;m++)this.controlChanges.hasOwnProperty(m)&&(f[m]=this.controlChanges[m].map(function(v){return v.toJSON()}));var y={channel:this.channel,controlChanges:f,pitchBends:this.pitchBends.map(function(v){return v.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(v){return v.toJSON()})};return this.endOfTrackTicks!==void 0&&(y.endOfTrackTicks=this.endOfTrackTicks),y},d}();return So.Track=h,So}var Fs={};function SR(n){var t=[];return WT(n,t),t}function WT(n,t){for(var i=0;i<n.length;i++){var r=n[i];Array.isArray(r)?WT(r,t):t.push(r)}}const xR=Object.freeze(Object.defineProperty({__proto__:null,flatten:SR},Symbol.toStringTag,{value:"Module"})),wR=zw(xR);var s_;function AR(){if(s_)return Fs;s_=1;var n=Fs&&Fs.__spreadArray||function(S,E,M){if(M||arguments.length===2)for(var D=0,C=E.length,V;D<C;D++)(V||!(D in E))&&(V||(V=Array.prototype.slice.call(E,0,D)),V[D]=E[D]);return S.concat(V||Array.prototype.slice.call(E))};Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.encode=void 0;var t=GT(),i=Od(),r=wR;function o(S,E){return[{absoluteTime:S.ticks,channel:E,deltaTime:0,noteNumber:S.midi,type:"noteOn",velocity:Math.floor(S.velocity*127)},{absoluteTime:S.ticks+S.durationTicks,channel:E,deltaTime:0,noteNumber:S.midi,type:"noteOff",velocity:Math.floor(S.noteOffVelocity*127)}]}function l(S){return(0,r.flatten)(S.notes.map(function(E){return o(E,S.channel)}))}function c(S,E){return{absoluteTime:S.ticks,channel:E,controllerType:S.number,deltaTime:0,type:"controller",value:Math.floor(S.value*127)}}function h(S){for(var E=[],M=0;M<127;M++)S.controlChanges.hasOwnProperty(M)&&S.controlChanges[M].forEach(function(D){E.push(c(D,S.channel))});return E}function d(S,E){return{absoluteTime:S.ticks,channel:E,deltaTime:0,type:"pitchBend",value:S.value}}function f(S){var E=[];return S.pitchBends.forEach(function(M){E.push(d(M,S.channel))}),E}function m(S){return{absoluteTime:0,channel:S.channel,deltaTime:0,programNumber:S.instrument.number,type:"programChange"}}function y(S){return{absoluteTime:0,deltaTime:0,meta:!0,text:S,type:"trackName"}}function v(S){return{absoluteTime:S.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/S.bpm),type:"setTempo"}}function _(S){return{absoluteTime:S.ticks,deltaTime:0,denominator:S.timeSignature[1],meta:!0,metronome:24,numerator:S.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function b(S){var E=i.keySignatureKeys.indexOf(S.key);return{absoluteTime:S.ticks,deltaTime:0,key:E+7,meta:!0,scale:S.scale==="major"?0:1,type:"keySignature"}}function x(S){return{absoluteTime:S.ticks,deltaTime:0,meta:!0,text:S.text,type:S.type}}function w(S){var E={header:{format:1,numTracks:S.tracks.length+1,ticksPerBeat:S.header.ppq},tracks:n([n(n(n(n([{absoluteTime:0,deltaTime:0,meta:!0,text:S.header.name,type:"trackName"}],S.header.keySignatures.map(function(M){return b(M)}),!0),S.header.meta.map(function(M){return x(M)}),!0),S.header.tempos.map(function(M){return v(M)}),!0),S.header.timeSignatures.map(function(M){return _(M)}),!0)],S.tracks.map(function(M){return n(n(n([y(M.name),m(M)],l(M),!0),h(M),!0),f(M),!0)}),!0)};return E.tracks=E.tracks.map(function(M){M=M.sort(function(C,V){return C.absoluteTime-V.absoluteTime});var D=0;return M.forEach(function(C){C.deltaTime=C.absoluteTime-D,D=C.absoluteTime,delete C.absoluteTime}),M.push({deltaTime:0,meta:!0,type:"endOfTrack"}),M}),new Uint8Array((0,t.writeMidi)(E))}return Fs.encode=w,Fs}var r_;function CR(){return r_||(r_=1,function(n){var t=zs&&zs.__awaiter||function(y,v,_,b){function x(w){return w instanceof _?w:new _(function(S){S(w)})}return new(_||(_=Promise))(function(w,S){function E(C){try{D(b.next(C))}catch(V){S(V)}}function M(C){try{D(b.throw(C))}catch(V){S(V)}}function D(C){C.done?w(C.value):x(C.value).then(E,M)}D((b=b.apply(y,v||[])).next())})},i=zs&&zs.__generator||function(y,v){var _={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,x,w,S;return S={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function E(D){return function(C){return M([D,C])}}function M(D){if(b)throw new TypeError("Generator is already executing.");for(;_;)try{if(b=1,x&&(w=D[0]&2?x.return:D[0]?x.throw||((w=x.return)&&w.call(x),0):x.next)&&!(w=w.call(x,D[1])).done)return w;switch(x=0,w&&(D=[D[0]&2,w.value]),D[0]){case 0:case 1:w=D;break;case 4:return _.label++,{value:D[1],done:!1};case 5:_.label++,x=D[1],D=[0];continue;case 7:D=_.ops.pop(),_.trys.pop();continue;default:if(w=_.trys,!(w=w.length>0&&w[w.length-1])&&(D[0]===6||D[0]===2)){_=0;continue}if(D[0]===3&&(!w||D[1]>w[0]&&D[1]<w[3])){_.label=D[1];break}if(D[0]===6&&_.label<w[1]){_.label=w[1],w=D;break}if(w&&_.label<w[2]){_.label=w[2],_.ops.push(D);break}w[2]&&_.ops.pop(),_.trys.pop();continue}D=v.call(y,_)}catch(C){D=[6,C],x=0}finally{b=w=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Header=n.Track=n.Midi=void 0;var r=GT(),o=Od(),l=i_(),c=AR(),h=function(){function y(v){var _=this,b=null;if(v){var x=v instanceof ArrayBuffer?new Uint8Array(v):v;b=(0,r.parseMidi)(x),b.tracks.forEach(function(w){var S=0;w.forEach(function(E){S+=E.deltaTime,E.absoluteTime=S})}),b.tracks=m(b.tracks)}this.header=new o.Header(b),this.tracks=[],v&&(this.tracks=b.tracks.map(function(w){return new l.Track(w,_.header)}),b.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return y.fromUrl=function(v){return t(this,void 0,void 0,function(){var _,b;return i(this,function(x){switch(x.label){case 0:return[4,fetch(v)];case 1:return _=x.sent(),_.ok?[4,_.arrayBuffer()]:[3,3];case 2:return b=x.sent(),[2,new y(b)];case 3:throw new Error("Could not load '".concat(v,"'"))}})})},Object.defineProperty(y.prototype,"name",{get:function(){return this.header.name},set:function(v){this.header.name=v},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"duration",{get:function(){var v=this.tracks.map(function(_){return _.duration});return Math.max.apply(Math,v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"durationTicks",{get:function(){var v=this.tracks.map(function(_){return _.durationTicks});return Math.max.apply(Math,v)},enumerable:!1,configurable:!0}),y.prototype.addTrack=function(){var v=new l.Track(void 0,this.header);return this.tracks.push(v),v},y.prototype.toArray=function(){return(0,c.encode)(this)},y.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(v){return v.toJSON()})}},y.prototype.fromJSON=function(v){var _=this;this.header=new o.Header,this.header.fromJSON(v.header),this.tracks=v.tracks.map(function(b){var x=new l.Track(void 0,_.header);return x.fromJSON(b),x})},y.prototype.clone=function(){var v=new y;return v.fromJSON(this.toJSON()),v},y}();n.Midi=h;var d=i_();Object.defineProperty(n,"Track",{enumerable:!0,get:function(){return d.Track}});var f=Od();Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return f.Header}});function m(y){for(var v=[],_=0;_<y.length;_++)for(var b=v.length,x=new Map,w=Array(16).fill(0),S=0,E=y[_];S<E.length;S++){var M=E[S],D=b,C=M.channel;if(C!==void 0){M.type==="programChange"&&(w[C]=M.programNumber);var V=w[C],B="".concat(V," ").concat(C);x.has(B)?D=x.get(B):(D=b+x.size,x.set(B,D))}v[D]||v.push([]),v[D].push(M)}return v}}(zs)),zs}var ER=CR();const ZT=N.createContext(),a_="PIANO",Eo=new ul({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function MR({children:n}){const[t,i]=N.useState([]),[r,o]=N.useState(60),[l,c]=N.useState(40);N.useEffect(()=>{fetch(`/midis.json?cb=${Date.now()}`).then(ht=>ht.json()).then(ht=>_(ht)).catch(ht=>console.error("Failed to load MIDI list",ht)),(async()=>(await pR(),console.log(" Tone samples loaded.")))()},[]);const h=N.useRef(null),[d,f]=N.useState(0),[m,y]=N.useState(!1);N.useEffect(()=>{let ht;const pt=()=>{h.current&&f(h.current.currentTime),ht=requestAnimationFrame(pt)};return ht=requestAnimationFrame(pt),()=>cancelAnimationFrame(ht)},[h]);const[v,_]=N.useState(null),[b,x]=N.useState("chopin"),[w,S]=N.useState(null),E=ht=>{const pt=[];ht.tracks.forEach((xt,ve)=>{xt.notes.forEach(we=>{pt.push({midi:we.midi,time:we.time,duration:we.duration,track:ve})})}),i(pt)},M=async ht=>{const xt=await(await fetch(ht)).arrayBuffer(),ve=new ER.Midi(xt);S(ht),E(ve),y(!1)};N.useEffect(()=>{const ht=localStorage.getItem(a_);if(ht)try{const{pianoHeight:pt,scrollSpeed:xt}=JSON.parse(ht);pt!==void 0&&o(pt),xt!==void 0&&c(xt)}catch{console.warn(" Invalid localStorage settings")}},[]),N.useEffect(()=>{const ht={pianoHeight:r,scrollSpeed:l};localStorage.setItem(a_,JSON.stringify(ht))},[r,l,w,b]);const[D,C]=N.useState(""),[V,B]=N.useState(""),[U,Y]=N.useState([]),[X,K]=N.useState(null),[W,st]=N.useState("pro"),[it,lt]=N.useState(null);let R=async ht=>{const pt=h.current;if(!(!pt||!pt.src||pt.src===""||pt.readyState===0||pt.networkState===3)){pt.currentTime=ht;try{pt.paused?(await pt.play(),y(!0)):(pt.pause(),y(!1))}catch(xt){xt.name!=="AbortError"&&console.error(" playpause error:",xt)}}};const[L,Q]=N.useState(0),et=N.useRef(null),O=N.useRef(null),F=async({notes:ht,pedal:pt},xt=0)=>{cancelAnimationFrame(O.current),await BT(),Rn().stop(),Rn().cancel();const ve=ht.filter(kt=>kt.time+kt.duration>=xt).map(kt=>({time:kt.time-xt,note:eR(kt.midi).toNote(),duration:kt.duration,velocity:kt.velocity||.8}));let we=!1;const Re=new Map,In=new Set;pt.filter(kt=>kt.time>=xt).forEach(kt=>{Rn().schedule(()=>{if(we=kt.down,!kt.down){for(const[Ae]of Re)In.has(Ae)||Eo.triggerRelease(Ae,H0());Re.clear()}},kt.time-xt)}),et.current=new rc((kt,Ae)=>{const oe=Ae.note;In.add(oe),Eo.triggerAttack(oe,kt,Ae.velocity),Rn().schedule(Ss=>{In.delete(oe),we?Re.set(oe,Ss):Eo.triggerRelease(oe,Ss)},Ae.time+Ae.duration)},ve).start(0),Rn().bpm.value=120;const ln=()=>{var pl;const kt=ht.length?Math.max(...ht.map(Zn=>Zn.time+Zn.duration)):0,Ae=pt.length?Math.max(...pt.map(Zn=>Zn.time+(Zn.duration||0))):0,oe=Math.max(kt,Ae)-xt,Ss=Rn().seconds;if(Q(Ss+xt),Ss<oe+2)O.current=requestAnimationFrame(ln);else{for(const[Zn]of Re)In.has(Zn)||Eo.triggerRelease(Zn,H0());Re.clear(),In.clear(),y(!1),Q(0),(pl=et.current)==null||pl.dispose(),et.current=null,Rn().stop(),Rn().cancel()}};Rn().start(),y(!0),ln()},tt=()=>{var ht;Rn().stop(),Rn().cancel(),cancelAnimationFrame(O.current),(ht=et.current)==null||ht.dispose(),et.current=null,y(!1),Q(0)};N.useEffect(()=>{tt()},[it]);const[nt,ct]=N.useState([]),[at,ot]=N.useState(null),bt=async()=>{const pt=await(await fetch(`/backend/recordings/${D}`)).json();ct(pt)},[rt,xe]=N.useState(!1);N.useEffect(()=>{h.current&&(h.current.pause(),h.current.currentTime=0,h.current.src="",h.current.load(),y(!1),i([]),S(null),ot(null),lt(null),tt())},[W]);const Ke=N.useRef(null),on=async ht=>{var ve,we;document.getElementById("uploadDialog").close(),ht.preventDefault();const pt=(we=(ve=Ke.current)==null?void 0:ve.files)==null?void 0:we[0];if(!pt)return;const xt=new FormData;xt.append("file",pt),xt.append("userid",D),xt.append("reverse",ut?"true":"false"),xt.append("retro",Nt?"true":"false"),Bn(!0);try{const Re=await fetch("/backend/upload",{method:"POST",body:xt});if(!Re.ok){alert(` Upload failed: ${Re.statusText}`),Bn(!1);return}const{id:In}=await Re.json(),ln=new EventSource(`/backend/status_stream/${D}/${In}`);ln.onmessage=kt=>{kt.data==="done"?(ln.close(),alert(" Your MIDI file has been processed and is ready to play!"),Bn(!1),Li()):alert(`Error: ${kt.data}`)}}catch(Re){alert(" Unexpected error"),console.error(Re),Bn(!1)}},[Tn,Bn]=N.useState(!1),Li=async()=>{try{const ht=await fetch(`/backend/list?uuid=${D}`);if(!ht.ok)throw new Error("Failed to load list");const pt=await ht.json();Y(pt)}catch(ht){console.error(" Error fetching files:",ht)}},[ut,mt]=N.useState(!1),[Nt,Ft]=N.useState(!1);return I.jsx(ZT.Provider,{value:{notes:t,setNotes:i,pianoHeight:r,setPianoHeight:o,scrollSpeed:l,setScrollSpeed:c,audioRef:h,currentTime:d,setCurrentTimeInternal:f,selectedMidiPath:w,setSelectedMidiPath:S,parseMidi:E,loadMidi:M,collection:v,selectedComposer:b,setSelectedComposer:x,isPlaying:m,setIsPlaying:y,userid:D,setUserid:C,email:V,setEmail:B,files:U,setFiles:Y,selectedFile:X,setSelectedFile:K,layer:W,setLayer:st,recordingNotes:it,setRecordingNotes:lt,playpause:R,recordingTime:L,setRecordingTime:Q,pianoSounds:Eo,playback:F,partRef:et,rafRef:O,resetPlayback:tt,recordings:nt,setRecordings:ct,fetchRecordings:bt,selectedRecording:at,setSelectedRecording:ot,recording:rt,setRecording:xe,uploading:Tn,setUploading:Bn,handleUpload:on,fileRef:Ke,retro:Nt,setRetro:Ft,reverse:ut,setReverse:mt,fetchFiles:Li},children:n})}function an(){return N.useContext(ZT)}function OR(){const{selectedComposer:n,setSelectedComposer:t,collection:i,setNotes:r,audioRef:o,setIsPlaying:l}=an();return I.jsx("div",{id:"composers",children:i&&Object.entries(i).map(([c])=>I.jsxs("div",{id:c,onClick:()=>t(c),className:`composer ${n===c?"selected-composer":""}`,children:[I.jsx("div",{className:"composer-image",style:{backgroundImage:`url(/composers/compressed/${c}.jpg)`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),I.jsxs("div",{className:"composer-name",children:["  ",c.charAt(0).toUpperCase()+c.slice(1)]})]},c))})}function DR(){const{selectedMidiPath:n,selectedComposer:t,collection:i,loadMidi:r}=an();return I.jsx("div",{id:"composer-pieces",children:i&&i[t].map((o,l)=>{const c=o.path.split("/").pop().replace(".mid","").replace("_"," ");return I.jsx("button",{onClick:()=>r(o.path),id:`${o.path===n?"selected-midi":""}`,children:c},l)})})}function kR(){const{setUserid:n,email:t,setEmail:i}=an(),[r,o]=N.useState(""),[l,c]=N.useState(""),[h,d]=N.useState(""),f=async()=>{const v=await(await fetch("/backend/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,code:r,password:l})})).json();(v==null?void 0:v.status)==="pro_verified"?(localStorage.setItem("uuid",v.uuid),localStorage.setItem("code",r),n(v.uuid),d("")):d(v.error)},m=[{icon:"",text:"Upload your own MIDI files and apply special effects"},{icon:"",text:"Download the processed MIDIs and MP3s"},{icon:"",text:"Upload your recordings to share them with the community"},{icon:"",text:"Explore community recordings"},{icon:"",text:"Monthly rankings for pros and recordings with the most likes"}];return I.jsxs("div",{id:"pro-login",children:[I.jsx("a",{href:"https://www.patreon.com/ronakmystery",className:"app-link",target:"_blank",children:I.jsx("button",{className:"patreon-link",children:"Get latest key from Patreon"})}),I.jsxs("div",{id:"pro-inputs",children:["  ",I.jsx("input",{type:"text",value:r,onChange:y=>o(y.target.value),placeholder:" Key"}),I.jsx("input",{type:"email",value:t,onChange:y=>i(y.target.value),placeholder:" Username"}),I.jsx("input",{type:"password",value:l,onChange:y=>c(y.target.value),placeholder:" Password"}),I.jsxs("button",{id:"login-button",onClick:()=>f(),children:[" LOGIN ",h&&I.jsxs("div",{className:"login-error",children:[" ",h]})]})]}),I.jsxs("div",{id:"about",children:[I.jsx("div",{id:"about-title",children:" Pro features"}),I.jsx("div",{id:"pro-features",children:m.map((y,v)=>I.jsxs("div",{className:"feature",children:[I.jsx("div",{className:"feature-icon",children:y.icon}),I.jsx("div",{className:"feature-text",children:y.text})]},v))})]})]})}function RR(){const{loadMidi:n,userid:t,files:i,setFiles:r,selectedMidiPath:o,setSelectedMidiPath:l,audioRef:c,setIsPlaying:h,setNotes:d,uploading:f,setUploading:m,handleUpload:y,fileRef:v,retro:_,setRetro:b,reverse:x,setReverse:w,fetchFiles:S}=an();N.useEffect(()=>{t&&S()},[t]);const E=async C=>{if(!window.confirm(`Delete? ${C}`))return;(await fetch(`/backend/delete/${t}/${C}`,{method:"DELETE"})).ok?(S(),c.current.pause(),h(!1),d([])):alert(" Failed to delete.")},[M,D]=N.useState("");return I.jsxs("div",{id:"pro",children:[!t&&I.jsx(kR,{}),t&&I.jsxs("div",{id:"pro-user",children:[I.jsxs("div",{id:"user-buttons",children:[I.jsx("button",{onClick:()=>document.getElementById("uploadDialog").showModal(),disabled:f,children:f?" Processing...":" MIDI UPLOAD"}),I.jsx("dialog",{id:"uploadDialog",children:I.jsxs("form",{method:"dialog",onSubmit:y,id:"upload-form",children:[I.jsx("label",{htmlFor:"choose-file",className:"styled-upload-button",children:M||" CHOOSE MIDI"}),I.jsx("input",{id:"choose-file",type:"file",name:"file",ref:v,accept:".mid,.midi,audio/midi",disabled:f,onChange:C=>{const V=C.target.files[0];V&&V.size>200*1024?(alert(" File too large. Max allowed is 200KB."),C.target.value="",D("")):V&&D(V.name)},style:{display:"none"}}),I.jsxs("div",{id:"upload-options",children:[I.jsx("button",{type:"submit",disabled:f,children:f?" Processing...":" UPLOAD"}),I.jsx("div",{className:"upload-info",children:"   Saves midi to cloud to generate mp3 for playback"}),I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:_,onChange:C=>b(C.target.checked)})," Use a retro soundfont"]}),I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:x,onChange:C=>w(C.target.checked)})," Reverse the notes"]})]}),I.jsx("div",{id:"close-dialog-button",onClick:C=>{C.preventDefault(),document.getElementById("uploadDialog").close()},children:""})]})})]}),I.jsxs("div",{id:"user-files",children:[i.length===0&&I.jsx("div",{className:"no-midi-files",children:"No MIDI files..."}),i.slice().sort((C,V)=>V.timestamp-C.timestamp).map(C=>{const V=`/backend/converted/${t}/${C.id}.mid`;return I.jsxs("div",{className:`user-midi ${o===V?"selected-user-midi":""}`,onClick:()=>{n(V)},children:[C.id,I.jsxs("div",{className:"download-buttons",children:[I.jsx("a",{href:`/backend/converted/${t}/${C.id}.mp3`,download:!0,target:"_blank",rel:"noreferrer",children:I.jsx("button",{children:" MP3"})}),I.jsx("a",{href:`/backend/converted/${t}/${C.id}.mid`,download:!0,target:"_blank",rel:"noreferrer",style:{marginLeft:"10px"},children:I.jsx("button",{children:" MIDI"})}),I.jsx("button",{className:"delete-button",onClick:B=>{B.stopPropagation(),E(C.id)},children:" DELETE"})]})]},C.id)})]})]})]})}function NR(){const{userid:n,email:t,files:i}=an();return I.jsx("div",{id:"settings",children:n&&I.jsxs("div",{children:[I.jsx("div",{id:"username",children:t}),I.jsx("button",{id:"logout-button",onClick:()=>{window.confirm("Are you sure you want to log out?")&&(localStorage.removeItem("uuid"),localStorage.removeItem("code"),window.location.reload())},children:" LOGOUT"})]})})}function VR(){const{recordingNotes:n,setRecordingNotes:t,audioRef:i,setRecordingTime:r,setIsPlaying:o,pianoSounds:l,playback:c,rafRef:h,partRef:d,resetPlayback:f,userid:m,fetchRecordings:y,selectedRecording:v,setSelectedRecording:_,recording:b,setRecording:x,recordings:w,setRecordings:S}=an(),[E,M]=N.useState([]),D=N.useRef(null),C=N.useRef(new Map),V=N.useRef([]),B=N.useRef([]),U=N.useRef(0);N.useEffect(()=>{i.current.pause(),o(!1),(async()=>{if(!navigator.requestMIDIAccess){alert(" Your browser does not support Web MIDI.");return}try{const L=await navigator.requestMIDIAccess();D.current=L}catch{alert(" MIDI Access was denied by the user or blocked.")}})()},[]);const Y=async()=>{if(t(null),!D.current||D.current.inputs.size===0)return alert(" No MIDI device connected. Please connect a keyboard and try again.");await BT(),V.current=[],B.current=[],C.current=new Map,U.current=performance.now()/1e3,x(!0);for(const R of D.current.inputs.values())R.onmidimessage=K},X=()=>{x(!1);for(const bt of D.current.inputs.values())bt.onmidimessage=null;const R=V.current,L=B.current;if(R.length===0)return;const Q=Math.min(...R.map(bt=>bt.time)),et=L.length?Math.min(...L.map(bt=>bt.time)):1/0,F=Math.min(Q,et),tt=R.map(bt=>({...bt,time:Math.max(0,bt.time-F)})),nt=L.map(bt=>({...bt,time:Math.max(0,bt.time-F)})),ct={notes:tt,pedal:nt},at=JSON.parse(localStorage.getItem("recordings")||"[]"),ot={id:Date.now(),label:`Recording ${at.length+1}`,data:ct};at.push(ot),localStorage.setItem("recordings",JSON.stringify(at)),_(ot.id),t(ct)},K=({data:R})=>{const[L,Q,et]=R,F=performance.now()/1e3-U.current;if(L>=176&&L<192&&Q===64){const tt=et>=64;B.current.push({time:F,down:tt});return}if(L===144&&et>0&&C.current.set(Q,F),(L===128||L===144&&et===0)&&C.current.has(Q)){const tt=C.current.get(Q),nt=F-tt;V.current.push({midi:Q,time:tt,duration:nt,velocity:et/127,track:0}),C.current.delete(Q)}};N.useEffect(()=>{const R=JSON.parse(localStorage.getItem("recordings")||"[]");M(R)},[n]);const W=R=>{t(R)},st=R=>{t(null);const L=E.filter(Q=>Q.id!==R);M(L),localStorage.setItem("recordings",JSON.stringify(L))},it=async R=>{let L=prompt("Enter a title for your recording:");if(!L)return;L=L.slice(0,50);const Q=new FormData;Q.append("userid",m),Q.append("recording",JSON.stringify(R.data)),Q.append("label",L),Q.append("datetime",R.id);try{const O=await(await fetch("/backend/upload_recording",{method:"POST",body:Q})).json();O.status==="ok"?(st(R.id),y(),t(null),_(null)):console.error(" Upload failed:",O)}catch(et){console.error(" Upload error:",et)}};N.useEffect(()=>{m&&y()},[m]);const lt=async R=>{const L=await fetch(`/backend/recordings/${m}/${R}`,{method:"DELETE"});await L.json(),L.ok&&(y(),t(null),_(null),f())};return I.jsxs("div",{id:"record",children:[I.jsxs("div",{id:"recording-buttons",children:["    ",b?I.jsx("button",{onClick:X,children:" STOP"}):I.jsx("button",{onClick:Y,disabled:b,children:" RECORD"})]}),I.jsxs("div",{id:"saved-recordings",children:[E.length===0&&I.jsx("div",{className:"no-recordings",children:"No local recordings..."}),E.sort((R,L)=>L.id-R.id).map(R=>I.jsxs("div",{className:`recording ${v===R.id?"selected-recording":""}`,onClick:()=>{W(R.data),_(R.id)},children:[I.jsx("div",{className:"recording-label",children:R.label}),I.jsx("button",{onClick:L=>{L.stopPropagation(),window.confirm(`Delete? ${R.label}`)&&st(R.id)},children:" DELETE"}),m&&I.jsx("button",{onClick:()=>it(R),children:" UPLOAD"})]},R.id)),m&&w.length===0&&I.jsx("div",{className:"no-recordings",children:"No uploaded recordings..."}),[...w].sort((R,L)=>L.timestamp-R.timestamp).map(R=>I.jsxs("div",{className:`recording ${v===R.id?"selected-recording":""}`,onClick:()=>{t(R.data),_(R.id)},children:[I.jsx("div",{className:"recording-label",children:R.label}),I.jsxs("div",{className:"recording-likes",children:[R.likes??0," "]}),I.jsx("button",{onClick:L=>{L.stopPropagation(),window.confirm(`Delete "${R.label}"?`)&&lt(R.id)},children:" DELETE"})]},R.id))]})]})}function UR(){const{setRecordingNotes:n,setSelectedRecording:t,resetPlayback:i,userid:r}=an(),[o,l]=N.useState(!1),[c,h]=N.useState(null),d=()=>{r&&(l(!0),fetch("/backend/community/random",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:r})}).then(f=>f.json()).then(f=>{if(f.error){alert(" "+f.error),h(null),l(!1);return}h(f),n(f.data),l(!1)}).catch(f=>{console.error(" Failed to fetch random recording:",f),l(!1)}))};return N.useEffect(()=>{d()},[r]),N.useEffect(()=>()=>{t(null),n(null),i()},[]),I.jsxs("div",{id:"community-home",children:[I.jsx("button",{onClick:d,disabled:o,children:o?" Loading...":" Random recording"}),c&&I.jsxs("div",{id:"random-recording",className:"recording selected-recording",children:[I.jsx("div",{className:"recording-label",children:c.label}),I.jsxs("div",{className:"recording-user",children:["by ",I.jsx("em",{children:c.user})]}),I.jsxs("button",{className:`like-button ${c.liked?"liked":""}`,onClick:f=>{f.stopPropagation(),fetch(`/backend/community/toggle-like/${c.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:r})}).then(m=>m.json()).then(m=>{h(y=>y.id===c.id?{...y,likes:m.total,liked:m.status==="liked"}:y)})},children:[c.liked?"":""," ",c.likes]})]})]})}function jR(){const[n,t]=N.useState([]),[i,r]=N.useState(null),{setRecordingNotes:o,userid:l}=an(),[c,h]=N.useState(!1);return N.useEffect(()=>{l&&(h(!0),fetch("/backend/recordings/top",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:l})}).then(d=>d.json()).then(d=>{t(d),h(!1)}).catch(d=>{console.error(" Failed to load community recordings:",d),h(!1)}))},[l]),I.jsx("div",{id:"community-top10",children:l?n.length===0?I.jsx("div",{id:"no-uploads",children:c?"Loading...":"No pro uploads... "}):n.map(d=>I.jsxs("div",{className:`recording ${i===d.id?"selected-recording":""}`,onClick:()=>{o(d.data),r(d.id)},children:[I.jsx("div",{className:"recording-label",children:d.label}),I.jsxs("div",{className:"recording-user",children:["by ",I.jsx("em",{children:d.user})]}),I.jsxs("div",{className:"recording-timestamp",children:[new Date(d.timestamp*1e3).toLocaleString("en-US",{weekday:"short",hour:"numeric",minute:"2-digit",hour12:!0})," ",new Date(d.timestamp*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),I.jsxs("button",{className:`like-button ${d.liked?"liked":""}`,onClick:f=>{f.stopPropagation(),fetch(`/backend/community/toggle-like/${d.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:l})}).then(m=>m.json()).then(m=>{t(y=>y.map(v=>v.id===d.id?{...v,likes:m.total,liked:m.status==="liked"}:v))})},children:[d.liked?"":""," ",d.likes]})]},d.id)):I.jsx("div",{children:"Please log in to view community recordings."})})}function BR(){const[n,t]=N.useState("home"),i=[{id:"home",label:" HOME"},{id:"top",label:" TOP 10"}];return I.jsxs("div",{id:"community",children:[I.jsx("div",{id:"community-buttons",children:i.map(r=>I.jsx("button",{className:`community-tab ${n===r.id?"active-community-tab":""}`,onClick:()=>t(r.id),children:r.label},r.id))}),n==="home"&&I.jsx(UR,{}),n==="top"&&I.jsx(jR,{})]})}const KT=N.createContext({});function IR(n){const t=N.useRef(null);return t.current===null&&(t.current=n()),t.current}const Pp=typeof window<"u",LR=Pp?N.useLayoutEffect:N.useEffect,zp=N.createContext(null);function qp(n,t){n.indexOf(t)===-1&&n.push(t)}function Fp(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Ni=(n,t,i)=>i>t?t:i<n?n:i;let Hp=()=>{};const Vi={},QT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function $T(n){return typeof n=="object"&&n!==null}const JT=n=>/^0[^.\s]+$/u.test(n);function Gp(n){let t;return()=>(t===void 0&&(t=n()),t)}const jn=n=>n,PR=(n,t)=>i=>t(n(i)),cl=(...n)=>n.reduce(PR),Po=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Yp{constructor(){this.subscriptions=[]}add(t){return qp(this.subscriptions,t),()=>Fp(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ni=n=>n*1e3,ii=n=>n/1e3;function tS(n,t){return t?n*(1e3/t):0}const eS=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,zR=1e-7,qR=12;function FR(n,t,i,r,o){let l,c,h=0;do c=t+(i-t)/2,l=eS(c,r,o)-n,l>0?i=c:t=c;while(Math.abs(l)>zR&&++h<qR);return c}function hl(n,t,i,r){if(n===t&&i===r)return jn;const o=l=>FR(l,0,1,n,i);return l=>l===0||l===1?l:eS(o(l),t,r)}const nS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,iS=n=>t=>1-n(1-t),sS=hl(.33,1.53,.69,.99),Xp=iS(sS),rS=nS(Xp),aS=n=>(n*=2)<1?.5*Xp(n):.5*(2-Math.pow(2,-10*(n-1))),Wp=n=>1-Math.sin(Math.acos(n)),oS=iS(Wp),lS=nS(Wp),HR=hl(.42,0,1,1),GR=hl(0,0,.58,1),uS=hl(.42,0,.58,1),YR=n=>Array.isArray(n)&&typeof n[0]!="number",cS=n=>Array.isArray(n)&&typeof n[0]=="number",XR={linear:jn,easeIn:HR,easeInOut:uS,easeOut:GR,circIn:Wp,circInOut:lS,circOut:oS,backIn:Xp,backInOut:rS,backOut:sS,anticipate:aS},WR=n=>typeof n=="string",o_=n=>{if(cS(n)){Hp(n.length===4);const[t,i,r,o]=n;return hl(t,i,r,o)}else if(WR(n))return XR[n];return n},Vu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],l_={value:null};function ZR(n,t){let i=new Set,r=new Set,o=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function f(y){c.has(y)&&(m.schedule(y),n()),d++,y(h)}const m={schedule:(y,v=!1,_=!1)=>{const x=_&&o?i:r;return v&&c.add(y),x.has(y)||x.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(h=y,o){l=!0;return}o=!0,[i,r]=[r,i],i.forEach(f),t&&l_.value&&l_.value.frameloop[t].push(d),d=0,i.clear(),o=!1,l&&(l=!1,m.process(y))}};return m}const KR=40;function hS(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,c=Vu.reduce((M,D)=>(M[D]=ZR(l,t?D:void 0),M),{}),{setup:h,read:d,resolveKeyframes:f,preUpdate:m,update:y,preRender:v,render:_,postRender:b}=c,x=()=>{const M=Vi.useManualTiming?o.timestamp:performance.now();i=!1,Vi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(M-o.timestamp,KR),1)),o.timestamp=M,o.isProcessing=!0,h.process(o),d.process(o),f.process(o),m.process(o),y.process(o),v.process(o),_.process(o),b.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(x))},w=()=>{i=!0,r=!0,o.isProcessing||n(x)};return{schedule:Vu.reduce((M,D)=>{const C=c[D];return M[D]=(V,B=!1,U=!1)=>(i||w(),C.schedule(V,B,U)),M},{}),cancel:M=>{for(let D=0;D<Vu.length;D++)c[Vu[D]].cancel(M)},state:o,steps:c}}const{schedule:ee,cancel:gs,state:je,steps:rd}=hS(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);let zu;function QR(){zu=void 0}const sn={now:()=>(zu===void 0&&sn.set(je.isProcessing||Vi.useManualTiming?je.timestamp:performance.now()),zu),set:n=>{zu=n,queueMicrotask(QR)}},fS=n=>t=>typeof t=="string"&&t.startsWith(n),Zp=fS("--"),$R=fS("var(--"),Kp=n=>$R(n)?JR.test(n.split("/*")[0].trim()):!1,JR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,va={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zo={...va,transform:n=>Ni(0,1,n)},Uu={...va,default:1},ko=n=>Math.round(n*1e5)/1e5,Qp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tN(n){return n==null}const eN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$p=(n,t)=>i=>!!(typeof i=="string"&&eN.test(i)&&i.startsWith(n)||t&&!tN(i)&&Object.prototype.hasOwnProperty.call(i,t)),dS=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,l,c,h]=r.match(Qp);return{[n]:parseFloat(o),[t]:parseFloat(l),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},nN=n=>Ni(0,255,n),ad={...va,transform:n=>Math.round(nN(n))},Ws={test:$p("rgb","red"),parse:dS("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+ad.transform(n)+", "+ad.transform(t)+", "+ad.transform(i)+", "+ko(zo.transform(r))+")"};function iN(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Dd={test:$p("#"),parse:iN,transform:Ws.transform},fl=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),cs=fl("deg"),si=fl("%"),_t=fl("px"),sN=fl("vh"),rN=fl("vw"),u_={...si,parse:n=>si.parse(n)/100,transform:n=>si.transform(n*100)},Xr={test:$p("hsl","hue"),parse:dS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+si.transform(ko(t))+", "+si.transform(ko(i))+", "+ko(zo.transform(r))+")"},me={test:n=>Ws.test(n)||Dd.test(n)||Xr.test(n),parse:n=>Ws.test(n)?Ws.parse(n):Xr.test(n)?Xr.parse(n):Dd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ws.transform(n):Xr.transform(n),getAnimatableNone:n=>{const t=me.parse(n);return t.alpha=0,me.transform(t)}},aN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oN(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Qp))==null?void 0:t.length)||0)+(((i=n.match(aN))==null?void 0:i.length)||0)>0}const pS="number",mS="color",lN="var",uN="var(",c_="${}",cN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qo(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let l=0;const h=t.replace(cN,d=>(me.test(d)?(r.color.push(l),o.push(mS),i.push(me.parse(d))):d.startsWith(uN)?(r.var.push(l),o.push(lN),i.push(d)):(r.number.push(l),o.push(pS),i.push(parseFloat(d))),++l,c_)).split(c_);return{values:i,split:h,indexes:r,types:o}}function gS(n){return qo(n).values}function yS(n){const{split:t,types:i}=qo(n),r=t.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],o[c]!==void 0){const h=i[c];h===pS?l+=ko(o[c]):h===mS?l+=me.transform(o[c]):l+=o[c]}return l}}const hN=n=>typeof n=="number"?0:me.test(n)?me.getAnimatableNone(n):n;function fN(n){const t=gS(n);return yS(n)(t.map(hN))}const ys={test:oN,parse:gS,createTransformer:yS,getAnimatableNone:fN};function od(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function dN({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,l=0,c=0;if(!t)o=l=c=i;else{const h=i<.5?i*(1+t):i+t-i*t,d=2*i-h;o=od(d,h,n+1/3),l=od(d,h,n),c=od(d,h,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function ac(n,t){return i=>i>0?t:n}const Jt=(n,t,i)=>n+(t-n)*i,ld=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},pN=[Dd,Ws,Xr],mN=n=>pN.find(t=>t.test(n));function h_(n){const t=mN(n);if(!t)return!1;let i=t.parse(n);return t===Xr&&(i=dN(i)),i}const f_=(n,t)=>{const i=h_(n),r=h_(t);if(!i||!r)return ac(n,t);const o={...i};return l=>(o.red=ld(i.red,r.red,l),o.green=ld(i.green,r.green,l),o.blue=ld(i.blue,r.blue,l),o.alpha=Jt(i.alpha,r.alpha,l),Ws.transform(o))},kd=new Set(["none","hidden"]);function gN(n,t){return kd.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function yN(n,t){return i=>Jt(n,t,i)}function Jp(n){return typeof n=="number"?yN:typeof n=="string"?Kp(n)?ac:me.test(n)?f_:bN:Array.isArray(n)?vS:typeof n=="object"?me.test(n)?f_:vN:ac}function vS(n,t){const i=[...n],r=i.length,o=n.map((l,c)=>Jp(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)i[c]=o[c](l);return i}}function vN(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Jp(n[o])(n[o],t[o]));return o=>{for(const l in r)i[l]=r[l](o);return i}}function _N(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=n.indexes[l][r[l]],h=n.values[c]??0;i[o]=h,r[l]++}return i}const bN=(n,t)=>{const i=ys.createTransformer(t),r=qo(n),o=qo(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?kd.has(n)&&!o.values.length||kd.has(t)&&!r.values.length?gN(n,t):cl(vS(_N(r,o),o.values),i):ac(n,t)};function _S(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Jt(n,t,i):Jp(n)(n,t)}const TN=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>ee.update(t,i),stop:()=>gs(t),now:()=>je.isProcessing?je.timestamp:sn.now()}},bS=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let l=0;l<o;l++)r+=Math.round(n(l/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oc=2e4;function tm(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<oc;)t+=i,r=n.next(t);return t>=oc?1/0:t}function SN(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(tm(r),oc);return{type:"keyframes",ease:l=>r.next(o*l).value/t,duration:ii(o)}}const xN=5;function TS(n,t,i){const r=Math.max(t-xN,0);return tS(i-n(r),t-r)}const se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},d_=.001;function wN({duration:n=se.duration,bounce:t=se.bounce,velocity:i=se.velocity,mass:r=se.mass}){let o,l,c=1-t;c=Ni(se.minDamping,se.maxDamping,c),n=Ni(se.minDuration,se.maxDuration,ii(n)),c<1?(o=f=>{const m=f*c,y=m*n,v=m-i,_=Rd(f,c),b=Math.exp(-y);return d_-v/_*b},l=f=>{const y=f*c*n,v=y*i+i,_=Math.pow(c,2)*Math.pow(f,2)*n,b=Math.exp(-y),x=Rd(Math.pow(f,2),c);return(-o(f)+d_>0?-1:1)*((v-_)*b)/x}):(o=f=>{const m=Math.exp(-f*n),y=(f-i)*n+1;return-.001+m*y},l=f=>{const m=Math.exp(-f*n),y=(i-f)*(n*n);return m*y});const h=5/n,d=CN(o,l,h);if(n=ni(n),isNaN(d))return{stiffness:se.stiffness,damping:se.damping,duration:n};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:n}}}const AN=12;function CN(n,t,i){let r=i;for(let o=1;o<AN;o++)r=r-n(r)/t(r);return r}function Rd(n,t){return n*Math.sqrt(1-t*t)}const EN=["duration","bounce"],MN=["stiffness","damping","mass"];function p_(n,t){return t.some(i=>n[i]!==void 0)}function ON(n){let t={velocity:se.velocity,stiffness:se.stiffness,damping:se.damping,mass:se.mass,isResolvedFromDuration:!1,...n};if(!p_(n,MN)&&p_(n,EN))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,l=2*Ni(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:se.mass,stiffness:o,damping:l}}else{const i=wN(n);t={...t,...i,mass:se.mass},t.isResolvedFromDuration=!0}return t}function lc(n=se.visualDuration,t=se.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const l=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:f,mass:m,duration:y,velocity:v,isResolvedFromDuration:_}=ON({...i,velocity:-ii(i.velocity||0)}),b=v||0,x=f/(2*Math.sqrt(d*m)),w=c-l,S=ii(Math.sqrt(d/m)),E=Math.abs(w)<5;r||(r=E?se.restSpeed.granular:se.restSpeed.default),o||(o=E?se.restDelta.granular:se.restDelta.default);let M;if(x<1){const C=Rd(S,x);M=V=>{const B=Math.exp(-x*S*V);return c-B*((b+x*S*w)/C*Math.sin(C*V)+w*Math.cos(C*V))}}else if(x===1)M=C=>c-Math.exp(-S*C)*(w+(b+S*w)*C);else{const C=S*Math.sqrt(x*x-1);M=V=>{const B=Math.exp(-x*S*V),U=Math.min(C*V,300);return c-B*((b+x*S*w)*Math.sinh(U)+C*w*Math.cosh(U))/C}}const D={calculatedDuration:_&&y||null,next:C=>{const V=M(C);if(_)h.done=C>=y;else{let B=C===0?b:0;x<1&&(B=C===0?ni(b):TS(M,C,V));const U=Math.abs(B)<=r,Y=Math.abs(c-V)<=o;h.done=U&&Y}return h.value=h.done?c:V,h},toString:()=>{const C=Math.min(tm(D),oc),V=bS(B=>D.next(C*B).value,C,30);return C+"ms "+V},toTransition:()=>{}};return D}lc.applyToOptions=n=>{const t=SN(n,100,lc);return n.ease=t.ease,n.duration=ni(t.duration),n.type="keyframes",n};function Nd({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:f=.5,restSpeed:m}){const y=n[0],v={done:!1,value:y},_=U=>h!==void 0&&U<h||d!==void 0&&U>d,b=U=>h===void 0?d:d===void 0||Math.abs(h-U)<Math.abs(d-U)?h:d;let x=i*t;const w=y+x,S=c===void 0?w:c(w);S!==w&&(x=S-y);const E=U=>-x*Math.exp(-U/r),M=U=>S+E(U),D=U=>{const Y=E(U),X=M(U);v.done=Math.abs(Y)<=f,v.value=v.done?S:X};let C,V;const B=U=>{_(v.value)&&(C=U,V=lc({keyframes:[v.value,b(v.value)],velocity:TS(M,U,v.value),damping:o,stiffness:l,restDelta:f,restSpeed:m}))};return B(0),{calculatedDuration:null,next:U=>{let Y=!1;return!V&&C===void 0&&(Y=!0,D(U),B(U)),C!==void 0&&U>=C?V.next(U-C):(!Y&&D(U),v)}}}function DN(n,t,i){const r=[],o=i||Vi.mix||_S,l=n.length-1;for(let c=0;c<l;c++){let h=o(n[c],n[c+1]);if(t){const d=Array.isArray(t)?t[c]||jn:t;h=cl(d,h)}r.push(h)}return r}function kN(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const l=n.length;if(Hp(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=DN(t,r,o),d=h.length,f=m=>{if(c&&m<n[0])return t[0];let y=0;if(d>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const v=Po(n[y],n[y+1],m);return h[y](v)};return i?m=>f(Ni(n[0],n[l-1],m)):f}function RN(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Po(0,t,r);n.push(Jt(i,1,o))}}function NN(n){const t=[0];return RN(t,n.length-1),t}function VN(n,t){return n.map(i=>i*t)}function UN(n,t){return n.map(()=>t||uS).splice(0,n.length-1)}function Ro({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=YR(r)?r.map(o_):o_(r),l={done:!1,value:t[0]},c=VN(i&&i.length===t.length?i:NN(t),n),h=kN(c,t,{ease:Array.isArray(o)?o:UN(t,o)});return{calculatedDuration:n,next:d=>(l.value=h(d),l.done=d>=n,l)}}const jN=n=>n!==null;function em(n,{repeat:t,repeatType:i="loop"},r,o=1){const l=n.filter(jN),h=o<0||t&&i!=="loop"&&t%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const BN={decay:Nd,inertia:Nd,tween:Ro,keyframes:Ro,spring:lc};function SS(n){typeof n.type=="string"&&(n.type=BN[n.type])}class nm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const IN=n=>n/100;class im extends nm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;SS(t);const{type:i=Ro,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const d=i||Ro;d!==Ro&&typeof h[0]!="number"&&(this.mixKeyframes=cl(IN,_S(h[0],h[1])),h=[0,100]);const f=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=tm(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=f}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:_,type:b,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>o;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,D=r;if(y){const U=Math.min(this.currentTime,o)/h;let Y=Math.floor(U),X=U%1;!X&&U>=1&&(X=1),X===1&&Y--,Y=Math.min(Y,y+1),!!(Y%2)&&(v==="reverse"?(X=1-X,_&&(X-=_/h)):v==="mirror"&&(D=c)),M=Ni(0,1,X)*h}const C=E?{done:!1,value:m[0]}:D.next(M);l&&(C.value=l(C.value));let{done:V}=C;!E&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return B&&b!==Nd&&(C.value=em(m,this.options,w,this.speed)),x&&x(C.value),B&&this.finish(),C}then(t,i){return this.finished.then(t,i)}get duration(){return ii(this.calculatedDuration)}get time(){return ii(this.currentTime)}set time(t){var i;t=ni(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=ii(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=TN,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function LN(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Zs=n=>n*180/Math.PI,Vd=n=>{const t=Zs(Math.atan2(n[1],n[0]));return Ud(t)},PN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Vd,rotateZ:Vd,skewX:n=>Zs(Math.atan(n[1])),skewY:n=>Zs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ud=n=>(n=n%360,n<0&&(n+=360),n),m_=Vd,g_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),y_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),zN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g_,scaleY:y_,scale:n=>(g_(n)+y_(n))/2,rotateX:n=>Ud(Zs(Math.atan2(n[6],n[5]))),rotateY:n=>Ud(Zs(Math.atan2(-n[2],n[0]))),rotateZ:m_,rotate:m_,skewX:n=>Zs(Math.atan(n[4])),skewY:n=>Zs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function jd(n){return n.includes("scale")?1:0}function Bd(n,t){if(!n||n==="none")return jd(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=zN,o=i;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PN,o=h}if(!o)return jd(t);const l=r[t],c=o[1].split(",").map(FN);return typeof l=="function"?l(c):c[l]}const qN=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return Bd(i,t)};function FN(n){return parseFloat(n.trim())}const _a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(_a),v_=n=>n===va||n===_t,HN=new Set(["x","y","z"]),GN=_a.filter(n=>!HN.has(n));function YN(n){const t=[];return GN.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Ks={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Bd(t,"x"),y:(n,{transform:t})=>Bd(t,"y")};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const Qs=new Set;let Id=!1,Ld=!1,Pd=!1;function xS(){if(Ld){const n=Array.from(Qs).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=YN(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([l,c])=>{var h;(h=r.getValue(l))==null||h.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ld=!1,Id=!1,Qs.forEach(n=>n.complete(Pd)),Qs.clear()}function wS(){Qs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ld=!0)})}function XN(){Pd=!0,wS(),xS(),Pd=!1}class sm{constructor(t,i,r,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Qs.add(this),Id||(Id=!0,ee.read(wS),ee.resolveKeyframes(xS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&i){const h=r.readValue(i,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}LN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qs.delete(this)}cancel(){this.state==="scheduled"&&(Qs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WN=n=>n.startsWith("--");function ZN(n,t,i){WN(t)?n.style.setProperty(t,i):n.style[t]=i}const KN=Gp(()=>window.ScrollTimeline!==void 0),QN={};function $N(n,t){const i=Gp(n);return()=>QN[t]??i()}const AS=$N(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Do=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,__={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Do([0,.65,.55,1]),circOut:Do([.55,0,1,.45]),backIn:Do([.31,.01,.66,-.59]),backOut:Do([.33,1.53,.69,.99])};function CS(n,t){if(n)return typeof n=="function"?AS()?bS(n,t):"ease-out":cS(n)?Do(n):Array.isArray(n)?n.map(i=>CS(i,t)||__.easeOut):__[n]}function JN(n,t,i,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},f=void 0){const m={[t]:i};d&&(m.offset=d);const y=CS(h,o);Array.isArray(y)&&(m.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),n.animate(m,v)}function ES(n){return typeof n=="function"&&"applyToOptions"in n}function t2({type:n,...t}){return ES(n)&&AS()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class e2 extends nm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Hp(typeof t.type!="string");const f=t2(t);this.animation=JN(i,r,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=em(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(m):ZN(i,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return ii(Number(t))}get time(){return ii(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ni(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KN()?(this.animation.timeline=t,jn):i(this)}}const MS={anticipate:aS,backInOut:rS,circInOut:lS};function n2(n){return n in MS}function i2(n){typeof n.ease=="string"&&n2(n.ease)&&(n.ease=MS[n.ease])}const b_=10;class s2 extends e2{constructor(t){i2(t),SS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:l,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const h=new im({...c,autoplay:!1}),d=ni(this.finishedTime??this.time);i.setWithVelocity(h.sample(d-b_).value,h.sample(d).value,b_),h.stop()}}const T_=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ys.test(n)||n==="0")&&!n.startsWith("url("));function r2(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function a2(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],c=T_(o,t),h=T_(l,t);return!c||!h?!1:r2(n)||(i==="spring"||ES(i))&&r}function OS(n){return $T(n)&&"offsetHeight"in n}const o2=new Set(["opacity","clipPath","filter","transform"]),l2=Gp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u2(n){var f;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:l,type:c}=n;if(!OS((f=t==null?void 0:t.owner)==null?void 0:f.current))return!1;const{onUpdate:h,transformTemplate:d}=t.owner.getProps();return l2()&&i&&o2.has(i)&&(i!=="transform"||!d)&&!h&&!r&&o!=="mirror"&&l!==0&&c!=="inertia"}const c2=40;class h2 extends nm{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:f,element:m,...y}){var b;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=sn.now();const v={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:l,repeatType:c,name:d,motionValue:f,element:m,...y},_=(m==null?void 0:m.KeyframeResolver)||sm;this.keyframeResolver=new _(h,(x,w,S)=>this.onKeyframesResolved(x,w,v,!S),d,f,m),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=sn.now(),a2(t,l,c,h)||((Vi.instantAnimations||!d)&&(m==null||m(em(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>c2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},_=!f&&u2(v)?new s2({...v,element:v.motionValue.owner.current}):new im(v);_.finished.then(()=>this.notifyFinished()).catch(jn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),XN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const f2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d2(n){const t=f2.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function DS(n,t,i=1){const[r,o]=d2(n);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return QT(c)?parseFloat(c):c}return Kp(o)?DS(o,t,i+1):o}function rm(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const kS=new Set(["width","height","top","left","right","bottom",..._a]),p2={test:n=>n==="auto",parse:n=>n},RS=n=>t=>t.test(n),NS=[va,_t,si,cs,rN,sN,p2],S_=n=>NS.find(RS(n));function m2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||JT(n):!0}const g2=new Set(["brightness","contrast","saturate","opacity"]);function y2(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Qp)||[];if(!r)return n;const o=i.replace(r,"");let l=g2.has(t)?1:0;return r!==i&&(l*=100),t+"("+l+o+")"}const v2=/\b([a-z-]*)\(.*?\)/gu,zd={...ys,getAnimatableNone:n=>{const t=n.match(v2);return t?t.map(y2).join(" "):n}},x_={...va,transform:Math.round},_2={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:Uu,scaleX:Uu,scaleY:Uu,scaleZ:Uu,skew:cs,skewX:cs,skewY:cs,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:zo,originX:u_,originY:u_,originZ:_t},am={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,backgroundPositionX:_t,backgroundPositionY:_t,..._2,zIndex:x_,fillOpacity:zo,strokeOpacity:zo,numOctaves:x_},b2={...am,color:me,backgroundColor:me,outlineColor:me,fill:me,stroke:me,borderColor:me,borderTopColor:me,borderRightColor:me,borderBottomColor:me,borderLeftColor:me,filter:zd,WebkitFilter:zd},VS=n=>b2[n];function US(n,t){let i=VS(n);return i!==zd&&(i=ys),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const T2=new Set(["auto","none","0"]);function S2(n,t,i){let r=0,o;for(;r<n.length&&!o;){const l=n[r];typeof l=="string"&&!T2.has(l)&&qo(l).values.length&&(o=n[r]),r++}if(o&&i)for(const l of t)n[l]=US(i,o)}class x2 extends sm{constructor(t,i,r,o,l){super(t,i,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),Kp(f))){const m=DS(f,i.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!kS.has(r)||t.length!==2)return;const[o,l]=t,c=S_(o),h=S_(l);if(c!==h)if(v_(c)&&v_(h))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ks[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||m2(t[o]))&&r.push(o);r.length&&S2(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ks[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Ks[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function w2(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const jS=(n,t)=>t&&typeof n=="number"?t.transform(n):n,w_=30,A2=n=>!isNaN(parseFloat(n));class C2{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,h;const l=sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();o&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=A2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Yp);const r=this.events[t].add(i);return t==="change"?()=>{r(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>w_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,w_);return tS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oa(n,t){return new C2(n,t)}const{schedule:om}=hS(queueMicrotask,!1),qn={x:!1,y:!1};function BS(){return qn.x||qn.y}function E2(n){return n==="x"||n==="y"?qn[n]?null:(qn[n]=!0,()=>{qn[n]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function IS(n,t){const i=w2(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function A_(n){return!(n.pointerType==="touch"||BS())}function M2(n,t,i={}){const[r,o,l]=IS(n,i),c=h=>{if(!A_(h))return;const{target:d}=h,f=t(d,h);if(typeof f!="function"||!d)return;const m=y=>{A_(y)&&(f(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}const LS=(n,t)=>t?n===t?!0:LS(n,t.parentElement):!1,lm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,O2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D2(n){return O2.has(n.tagName)||n.tabIndex!==-1}const qu=new WeakSet;function C_(n){return t=>{t.key==="Enter"&&n(t)}}function ud(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const k2=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=C_(()=>{if(qu.has(i))return;ud(i,"down");const o=C_(()=>{ud(i,"up")}),l=()=>ud(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",l,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function E_(n){return lm(n)&&!BS()}function R2(n,t,i={}){const[r,o,l]=IS(n,i),c=h=>{const d=h.currentTarget;if(!E_(h))return;qu.add(d);const f=t(d,h),m=(_,b)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),qu.has(d)&&qu.delete(d),E_(_)&&typeof f=="function"&&f(_,{success:b})},y=_=>{m(_,d===window||d===document||i.useGlobalTarget||LS(d,_.target))},v=_=>{m(_,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),OS(h)&&(h.addEventListener("focus",f=>k2(f,o)),!D2(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function PS(n){return $T(n)&&"ownerSVGElement"in n}function N2(n){return PS(n)&&n.tagName==="svg"}const ze=n=>!!(n&&n.getVelocity),V2=[...NS,me,ys],U2=n=>V2.find(RS(n)),zS=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function j2(n=!0){const t=N.useContext(zp);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,l=N.useId();N.useEffect(()=>{if(n)return o(l)},[n]);const c=N.useCallback(()=>n&&r&&r(l),[l,r,n]);return!i&&r?[!1,c]:[!0]}const qS=N.createContext({strict:!1}),M_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},la={};for(const n in M_)la[n]={isEnabled:t=>M_[n].some(i=>!!t[i])};function B2(n){for(const t in n)la[t]={...la[t],...n[t]}}const I2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||I2.has(n)}let FS=n=>!uc(n);function L2(n){typeof n=="function"&&(FS=t=>t.startsWith("on")?!uc(t):n(t))}try{L2(require("@emotion/is-prop-valid").default)}catch{}function P2(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(FS(o)||i===!0&&uc(o)||!t&&!uc(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function z2(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const kc=N.createContext({});function Rc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Fo(n){return typeof n=="string"||Array.isArray(n)}const um=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cm=["initial",...um];function Nc(n){return Rc(n.animate)||cm.some(t=>Fo(n[t]))}function HS(n){return!!(Nc(n)||n.variants)}function q2(n,t){if(Nc(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Fo(i)?i:void 0,animate:Fo(r)?r:void 0}}return n.inherit!==!1?t:{}}function F2(n){const{initial:t,animate:i}=q2(n,N.useContext(kc));return N.useMemo(()=>({initial:t,animate:i}),[O_(t),O_(i)])}function O_(n){return Array.isArray(n)?n.join(" "):n}const H2=Symbol.for("motionComponentSymbol");function Wr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function G2(n,t,i){return N.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Wr(i)&&(i.current=r))},[t])}const hm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y2="framerAppearId",GS="data-"+hm(Y2),YS=N.createContext({});function X2(n,t,i,r,o){var x,w;const{visualElement:l}=N.useContext(kc),c=N.useContext(qS),h=N.useContext(zp),d=N.useContext(zS).reducedMotion,f=N.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(n,{visualState:t,parent:l,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,y=N.useContext(YS);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&W2(f.current,i,o,y);const v=N.useRef(!1);N.useInsertionEffect(()=>{m&&v.current&&m.update(i,h)});const _=i[GS],b=N.useRef(!!_&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,_))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,_)));return LR(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),om.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),N.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,_)}),b.current=!1))}),m}function W2(n,t,i,r){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:XS(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&Wr(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function XS(n){if(n)return n.options.allowProjection!==!1?n.projection:XS(n.parent)}function Z2({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){n&&B2(n);function l(h,d){let f;const m={...N.useContext(zS),...h,layoutId:K2(h)},{isStatic:y}=m,v=F2(h),_=r(h,y);if(!y&&Pp){Q2();const b=$2(m);f=b.MeasureLayout,v.visualElement=X2(o,_,m,t,b.ProjectionNode)}return I.jsxs(kc.Provider,{value:v,children:[f&&v.visualElement?I.jsx(f,{visualElement:v.visualElement,...m}):null,i(o,h,G2(_,v.visualElement,d),_,y,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=N.forwardRef(l);return c[H2]=o,c}function K2({layoutId:n}){const t=N.useContext(KT).id;return t&&n!==void 0?t+"-"+n:n}function Q2(n,t){N.useContext(qS).strict}function $2(n){const{drag:t,layout:i}=la;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ho={};function J2(n){for(const t in n)Ho[t]=n[t],Zp(t)&&(Ho[t].isCSSVariable=!0)}function WS(n,{layout:t,layoutId:i}){return ba.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Ho[n]||n==="opacity")}const tV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eV=_a.length;function nV(n,t,i){let r="",o=!0;for(let l=0;l<eV;l++){const c=_a[l],h=n[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||i){const f=jS(h,am[c]);if(!d){o=!1;const m=tV[c]||c;r+=`${m}(${f}) `}i&&(t[c]=f)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function fm(n,t,i){const{style:r,vars:o,transformOrigin:l}=n;let c=!1,h=!1;for(const d in t){const f=t[d];if(ba.has(d)){c=!0;continue}else if(Zp(d)){o[d]=f;continue}else{const m=jS(f,am[d]);d.startsWith("origin")?(h=!0,l[d]=m):r[d]=m}}if(t.transform||(c||i?r.transform=nV(t,n.transform,i):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:m=0}=l;r.transformOrigin=`${d} ${f} ${m}`}}const dm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZS(n,t,i){for(const r in t)!ze(t[r])&&!WS(r,i)&&(n[r]=t[r])}function iV({transformTemplate:n},t){return N.useMemo(()=>{const i=dm();return fm(i,t,n),Object.assign({},i.vars,i.style)},[t])}function sV(n,t){const i=n.style||{},r={};return ZS(r,i,n),Object.assign(r,iV(n,t)),r}function rV(n,t){const i={},r=sV(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const aV={offset:"stroke-dashoffset",array:"stroke-dasharray"},oV={offset:"strokeDashoffset",array:"strokeDasharray"};function lV(n,t,i=1,r=0,o=!0){n.pathLength=1;const l=o?aV:oV;n[l.offset]=_t.transform(-r);const c=_t.transform(t),h=_t.transform(i);n[l.array]=`${c} ${h}`}function KS(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...h},d,f,m){if(fm(n,h,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),i!==void 0&&(y.y=i),r!==void 0&&(y.scale=r),o!==void 0&&lV(y,o,l,c,!1)}const QS=()=>({...dm(),attrs:{}}),$S=n=>typeof n=="string"&&n.toLowerCase()==="svg";function uV(n,t,i,r){const o=N.useMemo(()=>{const l=QS();return KS(l,t,$S(r),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};ZS(l,n.style,n),o.style={...l,...o.style}}return o}const cV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pm(n){return typeof n!="string"||n.includes("-")?!1:!!(cV.indexOf(n)>-1||/[A-Z]/u.test(n))}function hV(n=!1){return(i,r,o,{latestValues:l},c)=>{const d=(pm(i)?uV:rV)(r,l,c,i),f=P2(r,typeof i=="string",n),m=i!==N.Fragment?{...f,...d,ref:o}:{},{children:y}=r,v=N.useMemo(()=>ze(y)?y.get():y,[y]);return N.createElement(i,{...m,children:v})}}function D_(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function mm(n,t,i,r){if(typeof t=="function"){const[o,l]=D_(r);t=t(i!==void 0?i:n.custom,o,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,l]=D_(r);t=t(i!==void 0?i:n.custom,o,l)}return t}function Fu(n){return ze(n)?n.get():n}function fV({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:dV(i,r,o,n),renderState:t()}}const JS=n=>(t,i)=>{const r=N.useContext(kc),o=N.useContext(zp),l=()=>fV(n,t,r,o);return i?l():IR(l)};function dV(n,t,i,r){const o={},l=r(n,{});for(const v in l)o[v]=Fu(l[v]);let{initial:c,animate:h}=n;const d=Nc(n),f=HS(n);t&&f&&!d&&n.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let m=i?i.initial===!1:!1;m=m||c===!1;const y=m?h:c;if(y&&typeof y!="boolean"&&!Rc(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const b=mm(n,v[_]);if(b){const{transitionEnd:x,transition:w,...S}=b;for(const E in S){let M=S[E];if(Array.isArray(M)){const D=m?M.length-1:0;M=M[D]}M!==null&&(o[E]=M)}for(const E in x)o[E]=x[E]}}}return o}function gm(n,t,i){var l;const{style:r}=n,o={};for(const c in r)(ze(r[c])||t.style&&ze(t.style[c])||WS(c,n)||((l=i==null?void 0:i.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const pV={useVisualState:JS({scrapeMotionValuesFromProps:gm,createRenderState:dm})};function t1(n,t,i){const r=gm(n,t,i);for(const o in n)if(ze(n[o])||ze(t[o])){const l=_a.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=n[o]}return r}const mV={useVisualState:JS({scrapeMotionValuesFromProps:t1,createRenderState:QS})};function gV(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...pm(r)?mV:pV,preloadedFeatures:n,useRender:hV(o),createVisualElement:t,Component:r};return Z2(c)}}function Go(n,t,i){const r=n.getProps();return mm(r,t,i!==void 0?i:r.custom,n)}const qd=n=>Array.isArray(n);function yV(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,oa(i))}function vV(n){return qd(n)?n[n.length-1]||0:n}function _V(n,t){const i=Go(n,t);let{transitionEnd:r={},transition:o={},...l}=i||{};l={...l,...r};for(const c in l){const h=vV(l[c]);yV(n,c,h)}}function bV(n){return!!(ze(n)&&n.add)}function Fd(n,t){const i=n.getValue("willChange");if(bV(i))return i.add(t);if(!i&&Vi.WillChange){const r=new Vi.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function e1(n){return n.props[GS]}const TV=n=>n!==null;function SV(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(TV),l=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[l]}const xV={type:"spring",stiffness:500,damping:25,restSpeed:10},wV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),AV={type:"keyframes",duration:.8},CV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EV=(n,{keyframes:t})=>t.length>2?AV:ba.has(n)?n.startsWith("scale")?wV(t[1]):xV:CV;function MV({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const ym=(n,t,i,r={},o,l)=>c=>{const h=rm(r,n)||{},d=h.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ni(d);const m={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-f,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:o};MV(h)||Object.assign(m,EV(n,m)),m.duration&&(m.duration=ni(m.duration)),m.repeatDelay&&(m.repeatDelay=ni(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(Vi.instantAnimations||Vi.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!h.type&&!h.ease,y&&!l&&t.get()!==void 0){const v=SV(m.keyframes,h);if(v!==void 0){ee.update(()=>{m.onUpdate(v),m.onComplete()});return}}return h.isSync?new im(m):new h2(m)};function OV({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function n1(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...h}=t;r&&(l=r);const d=[],f=o&&n.animationState&&n.animationState.getState()[o];for(const m in h){const y=n.getValue(m,n.latestValues[m]??null),v=h[m];if(v===void 0||f&&OV(f,m))continue;const _={delay:i,...rm(l||{},m)},b=y.get();if(b!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===b&&!_.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const S=e1(n);if(S){const E=window.MotionHandoffAnimation(S,m,ee);E!==null&&(_.startTime=E,x=!0)}}Fd(n,m),y.start(ym(m,y,v,n.shouldReduceMotion&&kS.has(m)?{type:!1}:_,n,x));const w=y.animation;w&&d.push(w)}return c&&Promise.all(d).then(()=>{ee.update(()=>{c&&_V(n,c)})}),d}function Hd(n,t,i={}){var d;const r=Go(n,t,i.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const l=r?()=>Promise.all(n1(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=o;return DV(n,t,m+f,y,v,i)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,m]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>m())}else return Promise.all([l(),c(i.delay)])}function DV(n,t,i=0,r=0,o=1,l){const c=[],h=(n.variantChildren.size-1)*r,d=o===1?(f=0)=>f*r:(f=0)=>h-f*r;return Array.from(n.variantChildren).sort(kV).forEach((f,m)=>{f.notify("AnimationStart",t),c.push(Hd(f,t,{...l,delay:i+d(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function kV(n,t){return n.sortNodePosition(t)}function RV(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(l=>Hd(n,l,i));r=Promise.all(o)}else if(typeof t=="string")r=Hd(n,t,i);else{const o=typeof t=="function"?Go(n,t,i.custom):t;r=Promise.all(n1(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function i1(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const NV=cm.length;function s1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?s1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<NV;i++){const r=cm[i],o=n.props[r];(Fo(o)||o===!1)&&(t[r]=o)}return t}const VV=[...um].reverse(),UV=um.length;function jV(n){return t=>Promise.all(t.map(({animation:i,options:r})=>RV(n,i,r)))}function BV(n){let t=jV(n),i=k_(),r=!0;const o=d=>(f,m)=>{var v;const y=Go(n,m,d==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:_,transitionEnd:b,...x}=y;f={...f,...x,...b}}return f};function l(d){t=d(n)}function c(d){const{props:f}=n,m=s1(n.parent)||{},y=[],v=new Set;let _={},b=1/0;for(let w=0;w<UV;w++){const S=VV[w],E=i[S],M=f[S]!==void 0?f[S]:m[S],D=Fo(M),C=S===d?E.isActive:null;C===!1&&(b=w);let V=M===m[S]&&M!==f[S]&&D;if(V&&r&&n.manuallyAnimateOnMount&&(V=!1),E.protectedKeys={..._},!E.isActive&&C===null||!M&&!E.prevProp||Rc(M)||typeof M=="boolean")continue;const B=IV(E.prevProp,M);let U=B||S===d&&E.isActive&&!V&&D||w>b&&D,Y=!1;const X=Array.isArray(M)?M:[M];let K=X.reduce(o(S),{});C===!1&&(K={});const{prevResolvedValues:W={}}=E,st={...W,...K},it=L=>{U=!0,v.has(L)&&(Y=!0,v.delete(L)),E.needsAnimating[L]=!0;const Q=n.getValue(L);Q&&(Q.liveStyle=!1)};for(const L in st){const Q=K[L],et=W[L];if(_.hasOwnProperty(L))continue;let O=!1;qd(Q)&&qd(et)?O=!i1(Q,et):O=Q!==et,O?Q!=null?it(L):v.add(L):Q!==void 0&&v.has(L)?it(L):E.protectedKeys[L]=!0}E.prevProp=M,E.prevResolvedValues=K,E.isActive&&(_={..._,...K}),r&&n.blockInitialAnimation&&(U=!1),U&&(!(V&&B)||Y)&&y.push(...X.map(L=>({animation:L,options:{type:S}})))}if(v.size){const w={};if(typeof f.initial!="boolean"){const S=Go(n,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(w.transition=S.transition)}v.forEach(S=>{const E=n.getBaseTarget(S),M=n.getValue(S);M&&(M.liveStyle=!0),w[S]=E??null}),y.push({animation:w})}let x=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(y):Promise.resolve()}function h(d,f){var y;if(i[d].isActive===f)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(d,f)}),i[d].isActive=f;const m=c(d);for(const v in i)i[v].protectedKeys={};return m}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>i,reset:()=>{i=k_(),r=!0}}}function IV(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!i1(t,n):!1}function Hs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k_(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class Ts{constructor(t){this.isMounted=!1,this.node=t}update(){}}class LV extends Ts{constructor(t){super(t),t.animationState||(t.animationState=BV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Rc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let PV=0;class zV extends Ts{constructor(){super(...arguments),this.id=PV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qV={animation:{Feature:LV},exit:{Feature:zV}};function Yo(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function dl(n){return{point:{x:n.pageX,y:n.pageY}}}const FV=n=>t=>lm(t)&&n(t,dl(t));function No(n,t,i,r){return Yo(n,t,FV(i),r)}function r1({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function HV({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function GV(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const a1=1e-4,YV=1-a1,XV=1+a1,o1=.01,WV=0-o1,ZV=0+o1;function We(n){return n.max-n.min}function KV(n,t,i){return Math.abs(n-t)<=i}function R_(n,t,i,r=.5){n.origin=r,n.originPoint=Jt(t.min,t.max,n.origin),n.scale=We(i)/We(t),n.translate=Jt(i.min,i.max,n.origin)-n.originPoint,(n.scale>=YV&&n.scale<=XV||isNaN(n.scale))&&(n.scale=1),(n.translate>=WV&&n.translate<=ZV||isNaN(n.translate))&&(n.translate=0)}function Vo(n,t,i,r){R_(n.x,t.x,i.x,r?r.originX:void 0),R_(n.y,t.y,i.y,r?r.originY:void 0)}function N_(n,t,i){n.min=i.min+t.min,n.max=n.min+We(t)}function QV(n,t,i){N_(n.x,t.x,i.x),N_(n.y,t.y,i.y)}function V_(n,t,i){n.min=t.min-i.min,n.max=n.min+We(t)}function Uo(n,t,i){V_(n.x,t.x,i.x),V_(n.y,t.y,i.y)}const U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zr=()=>({x:U_(),y:U_()}),j_=()=>({min:0,max:0}),ce=()=>({x:j_(),y:j_()});function Nn(n){return[n("x"),n("y")]}function cd(n){return n===void 0||n===1}function Gd({scale:n,scaleX:t,scaleY:i}){return!cd(n)||!cd(t)||!cd(i)}function Gs(n){return Gd(n)||l1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function l1(n){return B_(n.x)||B_(n.y)}function B_(n){return n&&n!=="0%"}function cc(n,t,i){const r=n-i,o=t*r;return i+o}function I_(n,t,i,r,o){return o!==void 0&&(n=cc(n,o,r)),cc(n,i,r)+t}function Yd(n,t=0,i=1,r,o){n.min=I_(n.min,t,i,r,o),n.max=I_(n.max,t,i,r,o)}function u1(n,{x:t,y:i}){Yd(n.x,t.translate,t.scale,t.originPoint),Yd(n.y,i.translate,i.scale,i.originPoint)}const L_=.999999999999,P_=1.0000000000001;function $V(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let l,c;for(let h=0;h<o;h++){l=i[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Qr(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,u1(n,c)),r&&Gs(l.latestValues)&&Qr(n,l.latestValues))}t.x<P_&&t.x>L_&&(t.x=1),t.y<P_&&t.y>L_&&(t.y=1)}function Kr(n,t){n.min=n.min+t,n.max=n.max+t}function z_(n,t,i,r,o=.5){const l=Jt(n.min,n.max,o);Yd(n,t,i,l,r)}function Qr(n,t){z_(n.x,t.x,t.scaleX,t.scale,t.originX),z_(n.y,t.y,t.scaleY,t.scale,t.originY)}function c1(n,t){return r1(GV(n.getBoundingClientRect(),t))}function JV(n,t,i){const r=c1(n,i),{scroll:o}=t;return o&&(Kr(r.x,o.offset.x),Kr(r.y,o.offset.y)),r}const h1=({current:n})=>n?n.ownerDocument.defaultView:null,q_=(n,t)=>Math.abs(n-t);function t3(n,t){const i=q_(n.x,t.x),r=q_(n.y,t.y);return Math.sqrt(i**2+r**2)}class f1{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=fd(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=t3(y.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:b}=y,{timestamp:x}=je;this.history.push({...b,timestamp:x});const{onStart:w,onMove:S}=this.handlers;v||(w&&w(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=hd(v,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=fd(y.type==="pointercancel"?this.lastMoveEventInfo:hd(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,w),b&&b(y,w)},!lm(t))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=dl(t),h=hd(c,this.transformPagePoint),{point:d}=h,{timestamp:f}=je;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=i;m&&m(t,fd(h,this.history)),this.removeListeners=cl(No(this.contextWindow,"pointermove",this.handlePointerMove),No(this.contextWindow,"pointerup",this.handlePointerUp),No(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function hd(n,t){return t?{point:t(n.point)}:n}function F_(n,t){return{x:n.x-t.x,y:n.y-t.y}}function fd({point:n},t){return{point:n,delta:F_(n,d1(t)),offset:F_(n,e3(t)),velocity:n3(t,.1)}}function e3(n){return n[0]}function d1(n){return n[n.length-1]}function n3(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=d1(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>ni(t)));)i--;if(!r)return{x:0,y:0};const l=ii(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function i3(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Jt(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Jt(i,n,r.max):Math.min(n,i)),n}function H_(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function s3(n,{top:t,left:i,bottom:r,right:o}){return{x:H_(n.x,i,o),y:H_(n.y,t,r)}}function G_(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function r3(n,t){return{x:G_(n.x,t.x),y:G_(n.y,t.y)}}function a3(n,t){let i=.5;const r=We(n),o=We(t);return o>r?i=Po(t.min,t.max-r,n.min):r>o&&(i=Po(n.min,n.max-o,t.min)),Ni(0,1,i)}function o3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Xd=.35;function l3(n=Xd){return n===!1?n=0:n===!0&&(n=Xd),{x:Y_(n,"left","right"),y:Y_(n,"top","bottom")}}function Y_(n,t,i){return{min:X_(n,t),max:X_(n,i)}}function X_(n,t){return typeof n=="number"?n:n[t]||0}const u3=new WeakMap;class c3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ce(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(dl(m).point)},l=(m,y)=>{const{drag:v,dragPropagation:_,onDragStart:b}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E2(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(w=>{let S=this.getAxisMotionValue(w).get()||0;if(si.test(S)){const{projection:E}=this.visualElement;if(E&&E.layout){const M=E.layout.layoutBox[w];M&&(S=We(M)*(parseFloat(S)/100))}}this.originPoint[w]=S}),b&&ee.postRender(()=>b(m,y)),Fd(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},c=(m,y)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:b,onDrag:x}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=y;if(_&&this.currentDirection===null){this.currentDirection=h3(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,w),this.updateAxis("y",y.point,w),this.visualElement.render(),x&&x(m,y)},h=(m,y)=>this.stop(m,y),d=()=>Nn(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new f1(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:h1(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ee.postRender(()=>l(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!ju(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=i3(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Wr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=s3(r.layoutBox,t):this.constraints=!1,this.elastic=l3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=o3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Wr(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=JV(r,o.root,this.visualElement.getTransformPagePoint());let c=r3(o.layout.layoutBox,l);if(i){const h=i(HV(c));this.hasMutatedConstraints=!!h,h&&(c=r1(h))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},f=Nn(m=>{if(!ju(m,i,this.currentDirection))return;let y=d&&d[m]||{};c&&(y={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,b={type:"inertia",velocity:r?t[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(h)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Fd(this.visualElement,t),r.start(ym(t,r,0,i,this.visualElement,!1))}stopAnimation(){Nn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Nn(i=>{const{drag:r}=this.getProps();if(!ju(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[i];l.set(t[i]-Jt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Wr(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();o[c]=a3({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nn(c=>{if(!ju(c,t,null))return;const h=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];h.set(Jt(d,f,o[c]))})}addListeners(){if(!this.visualElement.current)return;u3.set(this.visualElement,this);const t=this.visualElement.current,i=No(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Wr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ee.read(r);const c=Yo(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Nn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{c(),i(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Xd,dragMomentum:h=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function ju(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function h3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class f3 extends Ts{constructor(t){super(t),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new c3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const W_=n=>(t,i)=>{n&&ee.postRender(()=>n(t,i))};class d3 extends Ts{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(t){this.session=new f1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:W_(t),onStart:W_(i),onMove:r,onEnd:(l,c)=>{delete this.session,o&&ee.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=No(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z_(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Mo={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(_t.test(n))n=parseFloat(n);else return n;const i=Z_(n,t.target.x),r=Z_(n,t.target.y);return`${i}% ${r}%`}},p3={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=ys.parse(n);if(o.length>5)return r;const l=ys.createTransformer(n),c=typeof o[0]!="number"?1:0,h=i.x.scale*t.x,d=i.y.scale*t.y;o[0+c]/=h,o[1+c]/=d;const f=Jt(h,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=f),typeof o[3+c]=="number"&&(o[3+c]/=f),l(o)}};class m3 extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=t;J2(g3),l&&(i.group&&i.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,o||t.layoutDependency!==i||i===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ee.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),om.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function p1(n){const[t,i]=j2(),r=N.useContext(KT);return I.jsx(m3,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(YS),isPresent:t,safeToRemove:i})}const g3={borderRadius:{...Mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mo,borderTopRightRadius:Mo,borderBottomLeftRadius:Mo,borderBottomRightRadius:Mo,boxShadow:p3};function y3(n,t,i){const r=ze(n)?n:oa(n);return r.start(ym("",r,t,i)),r.animation}const v3=(n,t)=>n.depth-t.depth;class _3{constructor(){this.children=[],this.isDirty=!1}add(t){qp(this.children,t),this.isDirty=!0}remove(t){Fp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(v3),this.isDirty=!1,this.children.forEach(t)}}function b3(n,t){const i=sn.now(),r=({timestamp:o})=>{const l=o-i;l>=t&&(gs(r),n(l-t))};return ee.setup(r,!0),()=>gs(r)}const m1=["TopLeft","TopRight","BottomLeft","BottomRight"],T3=m1.length,K_=n=>typeof n=="string"?parseFloat(n):n,Q_=n=>typeof n=="number"||_t.test(n);function S3(n,t,i,r,o,l){o?(n.opacity=Jt(0,i.opacity??1,x3(r)),n.opacityExit=Jt(t.opacity??1,0,w3(r))):l&&(n.opacity=Jt(t.opacity??1,i.opacity??1,r));for(let c=0;c<T3;c++){const h=`border${m1[c]}Radius`;let d=$_(t,h),f=$_(i,h);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Q_(d)===Q_(f)?(n[h]=Math.max(Jt(K_(d),K_(f),r),0),(si.test(f)||si.test(d))&&(n[h]+="%")):n[h]=f}(t.rotate||i.rotate)&&(n.rotate=Jt(t.rotate||0,i.rotate||0,r))}function $_(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const x3=g1(0,.5,oS),w3=g1(.5,.95,jn);function g1(n,t,i){return r=>r<n?0:r>t?1:i(Po(n,t,r))}function J_(n,t){n.min=t.min,n.max=t.max}function kn(n,t){J_(n.x,t.x),J_(n.y,t.y)}function tb(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function eb(n,t,i,r,o){return n-=t,n=cc(n,1/i,r),o!==void 0&&(n=cc(n,1/o,r)),n}function A3(n,t=0,i=1,r=.5,o,l=n,c=n){if(si.test(t)&&(t=parseFloat(t),t=Jt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=Jt(l.min,l.max,r);n===l&&(h-=t),n.min=eb(n.min,t,i,h,o),n.max=eb(n.max,t,i,h,o)}function nb(n,t,[i,r,o],l,c){A3(n,t[i],t[r],t[o],t.scale,l,c)}const C3=["x","scaleX","originX"],E3=["y","scaleY","originY"];function ib(n,t,i,r){nb(n.x,t,C3,i?i.x:void 0,r?r.x:void 0),nb(n.y,t,E3,i?i.y:void 0,r?r.y:void 0)}function sb(n){return n.translate===0&&n.scale===1}function y1(n){return sb(n.x)&&sb(n.y)}function rb(n,t){return n.min===t.min&&n.max===t.max}function M3(n,t){return rb(n.x,t.x)&&rb(n.y,t.y)}function ab(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function v1(n,t){return ab(n.x,t.x)&&ab(n.y,t.y)}function ob(n){return We(n.x)/We(n.y)}function lb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class O3{constructor(){this.members=[]}add(t){qp(this.members,t),t.scheduleRender()}remove(t){if(Fp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D3(n,t,i){let r="";const o=n.x.translate/t.x,l=n.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:v,skewX:_,skewY:b}=i;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),b&&(r+=`skewY(${b}deg) `)}const h=n.x.scale*t.x,d=n.y.scale*t.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const dd=["","X","Y","Z"],k3={visibility:"hidden"},R3=1e3;let N3=0;function pd(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function _1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=e1(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ee,!(o||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&_1(r)}function b1({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=t==null?void 0:t()){this.id=N3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j3),this.nodes.forEach(z3),this.nodes.forEach(q3),this.nodes.forEach(B3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new _3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Yp),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=PS(c)&&!N2(c),this.instance=c;const{layoutId:h,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let m;const y=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=b3(y,250),Hu.hasAnimatedSinceResize&&(Hu.hasAnimatedSinceResize=!1,this.nodes.forEach(cb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||X3,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=f.getProps(),S=!this.targetLayout||!v1(this.targetLayout,_),E=!y&&v;if(this.options.layoutRoot||this.resumeFrom||E||y&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...rm(b,"layout"),onPlay:x,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,E)}else y||cb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ub);return}this.isUpdating||this.nodes.forEach(L3),this.isUpdating=!1,this.nodes.forEach(P3),this.nodes.forEach(V3),this.nodes.forEach(U3),this.clearAllSnapshots();const h=sn.now();je.delta=Ni(0,1e3/60,h-je.timestamp),je.timestamp=h,je.isProcessing=!0,rd.update.process(je),rd.preRender.process(je),rd.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,om.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I3),this.sharedNodes.forEach(H3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!We(this.snapshot.measuredBox.x)&&!We(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!y1(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Gs(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),W3(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return ce();const h=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(Z3))){const{scroll:m}=this.root;m&&(Kr(h.x,m.offset.x),Kr(h.y,m.offset.y))}return h}removeElementScroll(c){var d;const h=ce();if(kn(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&kn(h,c),Kr(h.x,y.offset.x),Kr(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=ce();kn(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];!h&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Qr(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gs(m.latestValues)&&Qr(d,m.latestValues)}return Gs(this.latestValues)&&Qr(d,this.latestValues),d}removeTransform(c){const h=ce();kn(h,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Gs(f.latestValues))continue;Gd(f.latestValues)&&f.updateSnapshot();const m=ce(),y=f.measurePageBox();kn(m,y),ib(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Gs(this.latestValues)&&ib(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=je.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Uo(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ce(),this.targetWithTransforms=ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),u1(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Uo(this.relativeTargetOrigin,this.target,_.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gd(this.parent.latestValues)||l1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===je.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;kn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;$V(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ce());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tb(this.prevProjectionDelta.x,this.projectionDelta.x),tb(this.prevProjectionDelta.y,this.projectionDelta.y)),Vo(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!lb(this.projectionDelta.x,this.prevProjectionDelta.x)||!lb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zr(),this.projectionDelta=Zr(),this.projectionDeltaWithTransform=Zr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},y=Zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=ce(),_=d?d.source:void 0,b=this.layout?this.layout.source:void 0,x=_!==b,w=this.getStack(),S=!w||w.members.length<=1,E=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(Y3));this.animationProgress=0;let M;this.mixTargetDelta=D=>{const C=D/1e3;hb(y.x,c.x,C),hb(y.y,c.y,C),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G3(this.relativeTarget,this.relativeTargetOrigin,v,C),M&&M3(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=ce()),kn(M,this.relativeTarget)),x&&(this.animationValues=m,S3(m,f,this.latestValues,C,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,d,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Hu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oa(0)),this.currentAnimation=y3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:f,latestValues:m}=c;if(!(!h||!d||!f)){if(this!==c&&this.layout&&f&&T1(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||ce();const y=We(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const v=We(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+v}kn(h,d),Qr(h,m),Vo(this.projectionDeltaWithTransform,this.layoutCorrected,h,m)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new O3),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const f={};d.z&&pd("z",c,f,this.animationValues);for(let m=0;m<dd.length;m++)pd(`rotate${dd[m]}`,c,f,this.animationValues),pd(`skew${dd[m]}`,c,f,this.animationValues);c.render();for(const m in f)c.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return k3;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Fu(c==null?void 0:c.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Fu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),h.transform=D3(this.projectionDeltaWithTransform,this.treeScale,m),d&&(h.transform=d(m,h.transform));const{x:y,y:v}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?h.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:h.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Ho){if(m[_]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:w}=Ho[_],S=h.transform==="none"?m[_]:b(m[_],f);if(x){const E=x.length;for(let M=0;M<E;M++)h[x[M]]=S}else w?this.options.visualElement.renderState.vars[_]=S:h[_]=S}return this.options.layoutId&&(h.pointerEvents=f===this?Fu(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(ub),this.root.sharedNodes.clear()}}}function V3(n){n.updateLayout()}function U3(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Nn(y=>{const v=c?t.measuredBox[y]:t.layoutBox[y],_=We(v);v.min=r[y].min,v.max=v.min+_}):T1(l,t.layoutBox,r)&&Nn(y=>{const v=c?t.measuredBox[y]:t.layoutBox[y],_=We(r[y]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+_)});const h=Zr();Vo(h,r,t.layoutBox);const d=Zr();c?Vo(d,n.applyTransform(o,!0),t.measuredBox):Vo(d,r,t.layoutBox);const f=!y1(h);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const b=ce();Uo(b,t.layoutBox,v.layoutBox);const x=ce();Uo(x,r,_.layoutBox),v1(b,x)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=b,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function j3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function B3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function I3(n){n.clearSnapshot()}function ub(n){n.clearMeasurements()}function L3(n){n.isLayoutDirty=!1}function P3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function cb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function z3(n){n.resolveTargetDelta()}function q3(n){n.calcProjection()}function F3(n){n.resetSkewAndRotation()}function H3(n){n.removeLeadSnapshot()}function hb(n,t,i){n.translate=Jt(t.translate,0,i),n.scale=Jt(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function fb(n,t,i,r){n.min=Jt(t.min,i.min,r),n.max=Jt(t.max,i.max,r)}function G3(n,t,i,r){fb(n.x,t.x,i.x,r),fb(n.y,t.y,i.y,r)}function Y3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const X3={duration:.45,ease:[.4,0,.1,1]},db=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pb=db("applewebkit/")&&!db("chrome/")?Math.round:jn;function mb(n){n.min=pb(n.min),n.max=pb(n.max)}function W3(n){mb(n.x),mb(n.y)}function T1(n,t,i){return n==="position"||n==="preserve-aspect"&&!KV(ob(t),ob(i),.2)}function Z3(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const K3=b1({attachResizeListener:(n,t)=>Yo(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),md={current:void 0},S1=b1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!md.current){const n=new K3({});n.mount(window),n.setOptions({layoutScroll:!0}),md.current=n}return md.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Q3={pan:{Feature:d3},drag:{Feature:f3,ProjectionNode:S1,MeasureLayout:p1}};function gb(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,l=r[o];l&&ee.postRender(()=>l(t,dl(t)))}class $3 extends Ts{mount(){const{current:t}=this.node;t&&(this.unmount=M2(t,(i,r)=>(gb(this.node,r,"Start"),o=>gb(this.node,o,"End"))))}unmount(){}}class J3 extends Ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(Yo(this.node.current,"focus",()=>this.onFocus()),Yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yb(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),l=r[o];l&&ee.postRender(()=>l(t,dl(t)))}class tU extends Ts{mount(){const{current:t}=this.node;t&&(this.unmount=R2(t,(i,r)=>(yb(this.node,r,"Start"),(o,{success:l})=>yb(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wd=new WeakMap,gd=new WeakMap,eU=n=>{const t=Wd.get(n.target);t&&t(n)},nU=n=>{n.forEach(eU)};function iU({root:n,...t}){const i=n||document;gd.has(i)||gd.set(i,{});const r=gd.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(nU,{root:n,...t})),r[o]}function sU(n,t,i){const r=iU(t);return Wd.set(n,i),r.observe(n),()=>{Wd.delete(n),r.unobserve(n)}}const rU={some:0,all:1};class aU extends Ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:l}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:rU[o]},h=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=f?m:y;v&&v(d)};return sU(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(oU(t,i))&&this.startObserver()}unmount(){}}function oU({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const lU={inView:{Feature:aU},tap:{Feature:tU},focus:{Feature:J3},hover:{Feature:$3}},uU={layout:{ProjectionNode:S1,MeasureLayout:p1}},Zd={current:null},x1={current:!1};function cU(){if(x1.current=!0,!!Pp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zd.current=n.matches;n.addListener(t),t()}else Zd.current=!1}const hU=new WeakMap;function fU(n,t,i){for(const r in t){const o=t[r],l=i[r];if(ze(o))n.addValue(r,o);else if(ze(l))n.addValue(r,oa(o,{owner:n}));else if(l!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,oa(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dU{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=sn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ee.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Nc(i),this.isVariantNode=HS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const v in y){const _=y[v];d[v]!==void 0&&ze(_)&&_.set(d[v],!1)}}mount(t){this.current=t,hU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),x1.current||cU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ba.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),l(),c&&c(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in la){const i=la[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ce()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<vb.length;r++){const o=vb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=fU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=oa(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(QT(r)||JT(r))?r=parseFloat(r):!U2(r)&&ys.test(i)&&(r=US(t,i)),this.setBaseTarget(t,ze(r)?r.get():r)),ze(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var l;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=mm(this.props,i,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ze(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Yp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class w1 extends dU{constructor(){super(...arguments),this.KeyframeResolver=x2}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function A1(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const l in i)n.style.setProperty(l,i[l])}function pU(n){return window.getComputedStyle(n)}class mU extends w1{constructor(){super(...arguments),this.type="html",this.renderInstance=A1}readValueFromInstance(t,i){var r;if(ba.has(i))return(r=this.projection)!=null&&r.isProjecting?jd(i):qN(t,i);{const o=pU(t),l=(Zp(i)?o.getPropertyValue(i):o[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:i}){return c1(t,i)}build(t,i,r){fm(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return gm(t,i,r)}}const C1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gU(n,t,i,r){A1(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(C1.has(o)?o:hm(o),t.attrs[o])}class yU extends w1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ce}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ba.has(i)){const r=VS(i);return r&&r.default||0}return i=C1.has(i)?i:hm(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return t1(t,i,r)}build(t,i,r){KS(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){gU(t,i,r,o)}mount(t){this.isSVGTag=$S(t.tagName),super.mount(t)}}const vU=(n,t)=>pm(n)?new yU(t):new mU(t,{allowProjection:n!==N.Fragment}),_U=gV({...qV,...lU,...Q3,...uU},vU),bU=z2(_U),TU=()=>I.jsx("div",{id:"samples",children:I.jsxs("div",{id:"samples-container",children:[I.jsx(OR,{}),I.jsx(DR,{})]})});function SU({setPanelState:n,setCanvasWidth:t}){const{setPianoHeight:i,setScrollSpeed:r,isPlaying:o,setNotes:l,audioRef:c,setSelectedMidiPath:h,layer:d,setLayer:f,recording:m,userid:y}=an(),v={samples:I.jsx(TU,{}),pro:I.jsx(RR,{}),record:I.jsx(VR,{}),...y&&{community:I.jsx(BR,{}),settings:I.jsx(NR,{})}},_={samples:"",pro:"",record:"",community:"",settings:""},[b,x]=N.useState(window.innerHeight>window.innerWidth);return N.useEffect(()=>{const w=()=>x(window.innerHeight>window.innerWidth);return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),I.jsxs(bU.div,{id:"panel",initial:b?{y:-200,opacity:0}:{x:200,opacity:0},animate:b?{y:0,opacity:1}:{x:0,opacity:1},exit:b?{y:-200,opacity:0}:{x:200,opacity:0},transition:{duration:.3},children:[I.jsx("div",{id:"select-layer",children:Object.keys(v).map(w=>I.jsx("button",{onClick:()=>{f(w)},className:d===w?"selected-layer":"",children:d===w?_[w]:I.jsx(I.Fragment,{children:_[w]})},w))}),I.jsx("div",{id:"current-layer",children:v[d]}),I.jsxs("div",{id:"controls",children:[I.jsxs("div",{children:[I.jsx("button",{onClick:()=>r(w=>w+5),children:""}),"",I.jsx("button",{onClick:()=>r(w=>Math.max(5,w-5)),children:""})]}),I.jsx("div",{children:I.jsx("img",{className:`${o?"playing-glow":""} ${m?"recording-glow":""}`,id:"close-panel",src:"logo.png",style:{objectFit:"contain",transformOrigin:"center center"}})}),I.jsxs("div",{children:[I.jsx("button",{onClick:()=>i(w=>w+5),children:""}),"",I.jsx("button",{onClick:()=>i(w=>Math.max(5,w-5)),children:""})]})]})]})}function xU({width:n}){const{pianoHeight:t,notes:i,currentTime:r}=an(),l=n/52,c=f=>[1,3,6,8,10].includes(f%12),h=f=>{let m=0;for(let y=21;y<f;y++)c(y)||m++;return m},d=i.filter(f=>r>=f.time&&r<=f.time+f.duration).map(f=>f.midi);return I.jsxs("div",{id:"piano-keys",style:{height:t,width:n},children:[(()=>{const f=[];for(let m=21;m<=108;m++)if(!c(m)){const y=h(m)*l,v=d.includes(m);f.push(I.jsx("div",{className:`piano-key white-key  ${v?"pressed":""}`,style:{position:"absolute",left:y,width:l,height:"100%",border:".11px solid #ccc",borderTop:"none",boxSizing:"border-box",zIndex:1}},`white-${m}`))}return f})(),(()=>{const f=[];let m=0;for(let y=21;y<=108;y++)if(c(y)){const v=m*l-l*.3,_=d.includes(y);f.push(I.jsx("div",{className:`piano-key black-key ${_?"pressed":""}`,style:{position:"absolute",left:v,width:l*.6,height:t*.5,zIndex:2}},`black-${y}`))}else m++;return f})()]})}function wU({width:n}){const{notes:t,scrollSpeed:i,audioRef:r,setIsPlaying:o,currentTime:l,playpause:c,pianoHeight:h}=an(),f=n/52,m=x=>[1,3,6,8,10].includes(x%12),y=x=>{let w=0;for(let S=21;S<x;S++)m(S)||w++;return w},_=(t.length>0?Math.max(...t.map(x=>x.time+x.duration)):0)*i;function b(x,w){return w===1?x?"#1565C0":"#42A5F5":x?"#2E7D32":"#66BB6A"}return N.useEffect(()=>{if(t.length){const x=document.body.scrollHeight;window.scrollTo({top:x,behavior:"auto"})}},[t]),N.useEffect(()=>{const x=l*i;window.scrollTo({top:_-x+h,behavior:"auto"})},[l,i]),N.useEffect(()=>{const x=r.current;if(!x)return;const w=()=>{o(!1);const E=document.body.scrollHeight;window.scrollTo({top:E,behavior:"auto"})},S=()=>{x.currentTime>=x.duration-.1&&w()};return x.addEventListener("ended",w),x.addEventListener("timeupdate",S),()=>{x.removeEventListener("ended",w),x.removeEventListener("timeupdate",S)}},[r,o]),I.jsx("div",{id:"piano-notes",style:{height:_+h+20,width:n},children:t.map((x,w)=>{const S=m(x.midi),E=x.duration*i,M=_-(x.time+x.duration)*i,D=y(x.midi),C=S?D*f-f*.3:D*f,V=S?f*.6:f,B=l>=x.time&&l<=x.time+x.duration,U=b(S,x==null?void 0:x.track);return I.jsx("div",{onClick:Y=>{Y.stopPropagation(),c(x.time)},className:"piano-note",style:{position:"absolute",left:C,top:M,width:V,height:E,backgroundColor:B?"white":U,borderRadius:10,zIndex:S?2:1,transform:B?"scale(1.3)":"scale(1)",boxShadow:B?`0 0 10px 2px ${U}`:"",animation:B?"pop 0.3s forwards":"none",transition:"transform 0.3s, box-shadow 0.3s"}},w)})})}function AU({width:n}){const{scrollSpeed:t,recordingNotes:i,recordingTime:r,isPlaying:o,setIsPlaying:l,playback:c,pianoHeight:h}=an(),d=N.useRef(null),f=(i==null?void 0:i.notes)||[],y=(f.length?Math.max(...f.map(S=>S.time+S.duration)):0)*t,_=n/52,b=S=>[1,3,6,8,10].includes(S%12),x=S=>{let E=0;for(let M=21;M<S;M++)b(M)||E++;return E},w=(S,E)=>E===1?S?"#1565C0":"#42A5F5":S?"#2E7D32":"#66BB6A";return N.useEffect(()=>{const S=r*t;window.scrollTo({top:y-S+h,behavior:"auto"})},[r,t]),N.useEffect(()=>{if(f.length){const S=document.body.scrollHeight;window.scrollTo({top:S,behavior:"auto"})}},[f]),I.jsx("div",{id:"piano-notes",ref:d,style:{height:y+h+20,width:n},children:f.map((S,E)=>{const M=b(S.midi),D=S.duration*t,C=y-(S.time+S.duration)*t,V=x(S.midi),B=M?V*_-_*.3:V*_,U=M?_*.6:_,Y=r>=S.time&&r<=S.time+S.duration,X=w(M,S==null?void 0:S.track);return I.jsx("div",{onClick:K=>{K.stopPropagation(),i&&c(i,S.time)},className:"piano-note",style:{position:"absolute",left:B,top:C,width:U,height:D,backgroundColor:Y?"white":X,borderRadius:10,zIndex:M?2:1,transform:Y?"scale(1.3)":"scale(1)",boxShadow:Y?`0 0 10px 2px ${X}`:"",animation:Y?"pop 0.3s forwards":"none",transition:"transform 0.3s, box-shadow 0.3s"}},E)})})}function CU({width:n}){const{pianoHeight:t,recordingNotes:i,recordingTime:r}=an(),l=n/52,c=f=>[1,3,6,8,10].includes(f%12),h=f=>{let m=0;for(let y=21;y<f;y++)c(y)||m++;return m},d=i==null?void 0:i.notes.filter(f=>r>=f.time&&r<=f.time+f.duration).map(f=>f.midi);return I.jsxs("div",{id:"piano-keys",style:{height:t,width:n},children:[(()=>{const f=[];for(let m=21;m<=108;m++)if(!c(m)){const y=h(m)*l,v=d==null?void 0:d.includes(m);f.push(I.jsx("div",{className:`piano-key white-key  ${v?"pressed":""}`,style:{position:"absolute",left:y,width:l,height:"100%",border:".11px solid #ccc",borderTop:"none",boxSizing:"border-box",zIndex:1}},`white-${m}`))}return f})(),(()=>{const f=[];let m=0;for(let y=21;y<=108;y++)if(c(y)){const v=m*l-l*.3,_=d==null?void 0:d.includes(y);f.push(I.jsx("div",{className:`piano-key black-key ${_?"pressed":""}`,style:{position:"absolute",left:v,width:l*.6,height:t*.5,zIndex:2}},`black-${y}`))}else m++;return f})()]})}function EU(){const{audioRef:n,selectedMidiPath:t,isPlaying:i,layer:r,setEmail:o,setUserid:l,recordingTime:c,setIsPlaying:h,playback:d,recordingNotes:f,playpause:m,currentTime:y}=an(),[v,_]=N.useState(0),[b,x]=N.useState(!0);return N.useEffect(()=>{const w=()=>{const E=window.innerHeight>window.innerWidth?window.innerWidth:b?window.innerWidth-300:window.innerWidth;_(E)};return window.addEventListener("resize",w),w(),()=>window.removeEventListener("resize",w)},[b]),N.useEffect(()=>{i?document.body.style.overflow="hidden":document.body.style.overflow=""},[i]),N.useEffect(()=>{const w=localStorage.getItem("uuid"),S=localStorage.getItem("code");!w||!S||fetch("/backend/verify_uuid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:w,code:S})}).then(async E=>{if(!E.ok)throw new Error("Verification failed");return E.json()}).then(E=>{E.email&&(o(E.email),l(w))})},[]),I.jsxs("div",{id:"piano-app",children:[I.jsx("div",{id:"background"}),b?I.jsx(SU,{setPanelState:x,setCanvasWidth:_},"panel"):I.jsx("div",{id:"show-panel",onClick:()=>{x(!0),window.innerWidth>window.innerHeight&&_(window.innerWidth-300)},style:{display:"inline-block"},className:i?"playing":"",children:I.jsx("img",{src:"logo.png",style:{width:"100%",height:"100%",objectFit:"contain",transformOrigin:"center center"}})}),r==="record"||r==="community"?I.jsxs("div",{id:"piano-canvas",onClick:w=>{w.stopPropagation(),f&&(i?Rn().pause():d(f,c),h(!i))},children:[I.jsx(CU,{width:v}),I.jsx(AU,{width:v})]}):I.jsxs("div",{id:"piano-canvas",onClick:()=>{m(y)},children:[I.jsx(xU,{width:v}),I.jsx(wU,{width:v})]}),I.jsx("audio",{style:{display:"none"},ref:n,src:t==null?void 0:t.replace("/midis/","/mp3s/").replace(/\.mid$/,".mp3"),controls:!0})]})}function MU(){return I.jsxs("div",{id:"home",children:[I.jsx("div",{id:"name",children:"Ronak Mistry"}),I.jsx("div",{children:"Software Engineer and Classical Pianist"}),I.jsx("a",{href:"https://www.linkedin.com/in/ronakmystery/",target:"_blank",className:"app-link",children:I.jsx("button",{children:"LinkedIn"})}),I.jsx("a",{href:"https://www.youtube.com/@ronakmystery",target:"_blank",className:"app-link",children:I.jsx("button",{children:"YouTube"})}),I.jsx("a",{href:"mailto:ronakmystery@gmail.com",className:"app-link",target:"_blank",children:I.jsx("button",{children:"Email"})}),I.jsxs("div",{children:["Projects",I.jsx("br",{}),I.jsx(np,{to:"/piano",className:"app-link",children:I.jsx("button",{children:"Piano"})})]}),I.jsx("div",{id:"qr-code",children:I.jsx("img",{src:"/qr.png",alt:"QR Code"})})]})}function OU(){const[n,t]=N.useState(""),[i,r]=N.useState(null),[o,l]=N.useState(""),c=async()=>{const _=await fetch("/backend/admin/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}),b=await _.json();_.ok&&(r(b.uuid),localStorage.setItem("admin",b.uuid))};N.useEffect(()=>{const _=localStorage.getItem("admin");_&&r(_)},[]);const h=async()=>{const _=await fetch("/backend/admin/current_code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:i})}),b=await _.json();_.ok&&l(b.code)};N.useEffect(()=>{i&&(h(),y().then(_=>{console.log("Emails fetched:",_),m(_)}))},[i]);const d=async()=>{const _=await fetch("/backend/admin/update_code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:i})}),b=await _.json();_.ok&&l(b.code)},[f,m]=N.useState([]);async function y(){const _=await fetch("/backend/admin/list_emails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:i})}),b=await _.json();if(!_.ok)throw new Error(b.error||"Unknown error");return b.emails}const v=async()=>{await fetch("/backend/admin/update_emails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:i,emails:f})})};return I.jsx("div",{id:"admin-page",children:i?I.jsxs(I.Fragment,{children:[I.jsxs("div",{children:["code: ",o]}),I.jsx("button",{onClick:()=>d(),children:"Generate New Code"}),I.jsx("div",{children:"Emails"}),I.jsxs("div",{children:[I.jsx("textarea",{value:f,onChange:_=>m(_.target.value)}),I.jsx("button",{onClick:v,style:{marginTop:10},children:"Save pro emails"})]})]}):I.jsxs(I.Fragment,{children:["    ",I.jsx("input",{type:"password",placeholder:"password",value:n,onChange:_=>t(_.target.value)}),I.jsx("button",{onClick:c,children:"Login"})]})})}function DU(){return I.jsxs("div",{children:[I.jsx("h1",{children:"Test Page"}),I.jsx("p",{children:"This is a test page for the Piano app."})]})}const kU=N.createContext();function RU({children:n}){const[t,i]=N.useState("ronak");return I.jsx(kU.Provider,{value:{user:t},children:n})}function NU(){return I.jsxs(HA,{children:[I.jsx(Oo,{path:"/",element:I.jsx(MU,{})}),I.jsx(Oo,{path:"/piano",element:I.jsx(MR,{children:I.jsx(EU,{})})}),I.jsx(Oo,{path:"/admin",element:I.jsx(OU,{})}),I.jsx(Oo,{path:"/test",element:I.jsx(DU,{})})]})}$w.createRoot(document.getElementById("root")).render(I.jsx(RU,{children:I.jsx(pC,{children:I.jsx(NU,{})})}));
